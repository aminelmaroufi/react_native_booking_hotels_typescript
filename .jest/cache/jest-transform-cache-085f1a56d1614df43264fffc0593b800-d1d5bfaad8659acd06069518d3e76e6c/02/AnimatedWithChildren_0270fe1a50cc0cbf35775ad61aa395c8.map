{"version":3,"names":["_interopRequireDefault","require","_classCallCheck2","_createClass2","_get2","_inherits2","_possibleConstructorReturn2","_getPrototypeOf2","_createForOfIteratorHelperLoose","o","allowArrayLike","it","Symbol","iterator","call","next","bind","Array","isArray","_unsupportedIterableToArray","length","i","done","value","TypeError","minLen","_arrayLikeToArray","n","Object","prototype","toString","slice","constructor","name","from","test","arr","len","arr2","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","_createSuperInternal","Super","default","result","NewTarget","Reflect","construct","arguments","apply","sham","Proxy","Boolean","valueOf","e","AnimatedNode","NativeAnimatedHelper","AnimatedWithChildren","_AnimatedNode","_super","_this","_children","key","__makeNative","__isNative","_iterator","_step","child","API","connectAnimatedNodes","__getNativeTag","__addChild","__attach","push","__removeChild","index","indexOf","console","warn","disconnectAnimatedNodes","splice","__detach","__getChildren","__callListeners","_iterator2","_step2","__getValue","module","exports"],"sources":["AnimatedWithChildren.js"],"sourcesContent":["/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow strict-local\n * @format\n */\n\n'use strict';\n\nconst AnimatedNode = require('./AnimatedNode');\nconst NativeAnimatedHelper = require('../NativeAnimatedHelper');\n\nclass AnimatedWithChildren extends AnimatedNode {\n  _children: Array<AnimatedNode>;\n\n  constructor() {\n    super();\n    this._children = [];\n  }\n\n  __makeNative() {\n    if (!this.__isNative) {\n      this.__isNative = true;\n      for (const child of this._children) {\n        child.__makeNative();\n        NativeAnimatedHelper.API.connectAnimatedNodes(\n          this.__getNativeTag(),\n          child.__getNativeTag(),\n        );\n      }\n    }\n    super.__makeNative();\n  }\n\n  __addChild(child: AnimatedNode): void {\n    if (this._children.length === 0) {\n      this.__attach();\n    }\n    this._children.push(child);\n    if (this.__isNative) {\n      // Only accept \"native\" animated nodes as children\n      child.__makeNative();\n      NativeAnimatedHelper.API.connectAnimatedNodes(\n        this.__getNativeTag(),\n        child.__getNativeTag(),\n      );\n    }\n  }\n\n  __removeChild(child: AnimatedNode): void {\n    const index = this._children.indexOf(child);\n    if (index === -1) {\n      console.warn(\"Trying to remove a child that doesn't exist\");\n      return;\n    }\n    if (this.__isNative && child.__isNative) {\n      NativeAnimatedHelper.API.disconnectAnimatedNodes(\n        this.__getNativeTag(),\n        child.__getNativeTag(),\n      );\n    }\n    this._children.splice(index, 1);\n    if (this._children.length === 0) {\n      this.__detach();\n    }\n  }\n\n  __getChildren(): Array<AnimatedNode> {\n    return this._children;\n  }\n\n  __callListeners(value: number): void {\n    super.__callListeners(value);\n    if (!this.__isNative) {\n      for (const child of this._children) {\n        // $FlowFixMe[method-unbinding] added when improving typing for this parameters\n        if (child.__getValue) {\n          child.__callListeners(child.__getValue());\n        }\n      }\n    }\n  }\n}\n\nmodule.exports = AnimatedWithChildren;\n"],"mappings":"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"}