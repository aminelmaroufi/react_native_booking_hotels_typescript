66e7ec1c330796d138db5d90c9a79d76
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _extends2 = _interopRequireDefault(require("@babel/runtime/helpers/extends"));
var _objectWithoutProperties2 = _interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties"));
var _classCallCheck2 = _interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));
var _createClass2 = _interopRequireDefault(require("@babel/runtime/helpers/createClass"));
var _inherits2 = _interopRequireDefault(require("@babel/runtime/helpers/inherits"));
var _possibleConstructorReturn2 = _interopRequireDefault(require("@babel/runtime/helpers/possibleConstructorReturn"));
var _getPrototypeOf2 = _interopRequireDefault(require("@babel/runtime/helpers/getPrototypeOf"));
var _Pressability = _interopRequireDefault(require("../../Pressability/Pressability"));
var _PressabilityDebug = require("../../Pressability/PressabilityDebug");
var _View = _interopRequireDefault(require("../../Components/View/View"));
var React = _interopRequireWildcard(require("react"));
var _excluded = ["onBlur", "onFocus"];
function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== "function") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }
function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }
function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2.default)(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2.default)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2.default)(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }
var PASSTHROUGH_PROPS = ['accessibilityActions', 'accessibilityElementsHidden', 'accessibilityHint', 'accessibilityIgnoresInvertColors', 'accessibilityLabel', 'accessibilityLiveRegion', 'accessibilityRole', 'accessibilityValue', 'accessibilityViewIsModal', 'hitSlop', 'importantForAccessibility', 'nativeID', 'onAccessibilityAction', 'onBlur', 'onFocus', 'onLayout', 'testID'];
var TouchableWithoutFeedback = function (_React$Component) {
  (0, _inherits2.default)(TouchableWithoutFeedback, _React$Component);
  var _super = _createSuper(TouchableWithoutFeedback);
  function TouchableWithoutFeedback() {
    var _this;
    (0, _classCallCheck2.default)(this, TouchableWithoutFeedback);
    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }
    _this = _super.call.apply(_super, [this].concat(args));
    _this.state = {
      pressability: new _Pressability.default(createPressabilityConfig(_this.props))
    };
    return _this;
  }
  (0, _createClass2.default)(TouchableWithoutFeedback, [{
    key: "render",
    value: function render() {
      var element = React.Children.only(this.props.children);
      var children = [element.props.children];
      if (__DEV__) {
        if (element.type === _View.default) {
          children.push(React.createElement(_PressabilityDebug.PressabilityDebugView, {
            color: "red",
            hitSlop: this.props.hitSlop
          }));
        }
      }
      var _this$state$pressabil = this.state.pressability.getEventHandlers(),
        onBlur = _this$state$pressabil.onBlur,
        onFocus = _this$state$pressabil.onFocus,
        eventHandlersWithoutBlurAndFocus = (0, _objectWithoutProperties2.default)(_this$state$pressabil, _excluded);
      var elementProps = (0, _extends2.default)({}, eventHandlersWithoutBlurAndFocus, {
        accessible: this.props.accessible !== false,
        accessibilityState: this.props.disabled != null ? (0, _extends2.default)({}, this.props.accessibilityState, {
          disabled: this.props.disabled
        }) : this.props.accessibilityState,
        focusable: this.props.focusable !== false && this.props.onPress !== undefined
      });
      for (var _i = 0, _PASSTHROUGH_PROPS = PASSTHROUGH_PROPS; _i < _PASSTHROUGH_PROPS.length; _i++) {
        var prop = _PASSTHROUGH_PROPS[_i];
        if (this.props[prop] !== undefined) {
          elementProps[prop] = this.props[prop];
        }
      }
      return React.cloneElement.apply(React, [element, elementProps].concat(children));
    }
  }, {
    key: "componentDidUpdate",
    value: function componentDidUpdate() {
      this.state.pressability.configure(createPressabilityConfig(this.props));
    }
  }, {
    key: "componentWillUnmount",
    value: function componentWillUnmount() {
      this.state.pressability.reset();
    }
  }]);
  return TouchableWithoutFeedback;
}(React.Component);
function createPressabilityConfig(props) {
  var _props$accessibilityS;
  return {
    cancelable: !props.rejectResponderTermination,
    disabled: props.disabled !== null ? props.disabled : (_props$accessibilityS = props.accessibilityState) == null ? void 0 : _props$accessibilityS.disabled,
    hitSlop: props.hitSlop,
    delayLongPress: props.delayLongPress,
    delayPressIn: props.delayPressIn,
    delayPressOut: props.delayPressOut,
    minPressDuration: 0,
    pressRectOffset: props.pressRetentionOffset,
    android_disableSound: props.touchSoundDisabled,
    onBlur: props.onBlur,
    onFocus: props.onFocus,
    onLongPress: props.onLongPress,
    onPress: props.onPress,
    onPressIn: props.onPressIn,
    onPressOut: props.onPressOut
  };
}
TouchableWithoutFeedback.displayName = 'TouchableWithoutFeedback';
module.exports = TouchableWithoutFeedback;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfUHJlc3NhYmlsaXR5IiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfUHJlc3NhYmlsaXR5RGVidWciLCJfVmlldyIsIlJlYWN0IiwiX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQiLCJfZXhjbHVkZWQiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJub2RlSW50ZXJvcCIsIldlYWtNYXAiLCJjYWNoZUJhYmVsSW50ZXJvcCIsImNhY2hlTm9kZUludGVyb3AiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsImNhY2hlIiwiaGFzIiwiZ2V0IiwibmV3T2JqIiwiaGFzUHJvcGVydHlEZXNjcmlwdG9yIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJrZXkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJkZXNjIiwic2V0IiwiX2NyZWF0ZVN1cGVyIiwiRGVyaXZlZCIsImhhc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QiLCJfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0IiwiX2NyZWF0ZVN1cGVySW50ZXJuYWwiLCJTdXBlciIsIl9nZXRQcm90b3R5cGVPZjIiLCJyZXN1bHQiLCJOZXdUYXJnZXQiLCJjb25zdHJ1Y3RvciIsIlJlZmxlY3QiLCJjb25zdHJ1Y3QiLCJhcmd1bWVudHMiLCJhcHBseSIsIl9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMiIsInNoYW0iLCJQcm94eSIsIkJvb2xlYW4iLCJ2YWx1ZU9mIiwiZSIsIlBBU1NUSFJPVUdIX1BST1BTIiwiVG91Y2hhYmxlV2l0aG91dEZlZWRiYWNrIiwiX1JlYWN0JENvbXBvbmVudCIsIl9pbmhlcml0czIiLCJfc3VwZXIiLCJfdGhpcyIsIl9jbGFzc0NhbGxDaGVjazIiLCJfbGVuIiwibGVuZ3RoIiwiYXJncyIsIkFycmF5IiwiX2tleSIsImNvbmNhdCIsInN0YXRlIiwicHJlc3NhYmlsaXR5IiwiUHJlc3NhYmlsaXR5IiwiY3JlYXRlUHJlc3NhYmlsaXR5Q29uZmlnIiwicHJvcHMiLCJfY3JlYXRlQ2xhc3MyIiwidmFsdWUiLCJyZW5kZXIiLCJlbGVtZW50IiwiQ2hpbGRyZW4iLCJvbmx5IiwiY2hpbGRyZW4iLCJfX0RFVl9fIiwidHlwZSIsIlZpZXciLCJwdXNoIiwiY3JlYXRlRWxlbWVudCIsIlByZXNzYWJpbGl0eURlYnVnVmlldyIsImNvbG9yIiwiaGl0U2xvcCIsIl90aGlzJHN0YXRlJHByZXNzYWJpbCIsImdldEV2ZW50SGFuZGxlcnMiLCJvbkJsdXIiLCJvbkZvY3VzIiwiZXZlbnRIYW5kbGVyc1dpdGhvdXRCbHVyQW5kRm9jdXMiLCJfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMyIiwiZWxlbWVudFByb3BzIiwiX2V4dGVuZHMyIiwiYWNjZXNzaWJsZSIsImFjY2Vzc2liaWxpdHlTdGF0ZSIsImRpc2FibGVkIiwiZm9jdXNhYmxlIiwib25QcmVzcyIsInVuZGVmaW5lZCIsIl9pIiwiX1BBU1NUSFJPVUdIX1BST1BTIiwicHJvcCIsImNsb25lRWxlbWVudCIsImNvbXBvbmVudERpZFVwZGF0ZSIsImNvbmZpZ3VyZSIsImNvbXBvbmVudFdpbGxVbm1vdW50IiwicmVzZXQiLCJDb21wb25lbnQiLCJfcHJvcHMkYWNjZXNzaWJpbGl0eVMiLCJjYW5jZWxhYmxlIiwicmVqZWN0UmVzcG9uZGVyVGVybWluYXRpb24iLCJkZWxheUxvbmdQcmVzcyIsImRlbGF5UHJlc3NJbiIsImRlbGF5UHJlc3NPdXQiLCJtaW5QcmVzc0R1cmF0aW9uIiwicHJlc3NSZWN0T2Zmc2V0IiwicHJlc3NSZXRlbnRpb25PZmZzZXQiLCJhbmRyb2lkX2Rpc2FibGVTb3VuZCIsInRvdWNoU291bmREaXNhYmxlZCIsIm9uTG9uZ1ByZXNzIiwib25QcmVzc0luIiwib25QcmVzc091dCIsImRpc3BsYXlOYW1lIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VzIjpbIlRvdWNoYWJsZVdpdGhvdXRGZWVkYmFjay5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENvcHlyaWdodCAoYykgRmFjZWJvb2ssIEluYy4gYW5kIGl0cyBhZmZpbGlhdGVzLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICpcbiAqIEBmbG93IHN0cmljdC1sb2NhbFxuICogQGZvcm1hdFxuICovXG5cbmltcG9ydCBQcmVzc2FiaWxpdHksIHtcbiAgdHlwZSBQcmVzc2FiaWxpdHlDb25maWcsXG59IGZyb20gJy4uLy4uL1ByZXNzYWJpbGl0eS9QcmVzc2FiaWxpdHknO1xuaW1wb3J0IHtQcmVzc2FiaWxpdHlEZWJ1Z1ZpZXd9IGZyb20gJy4uLy4uL1ByZXNzYWJpbGl0eS9QcmVzc2FiaWxpdHlEZWJ1Zyc7XG5pbXBvcnQgdHlwZSB7XG4gIEFjY2Vzc2liaWxpdHlBY3Rpb25FdmVudCxcbiAgQWNjZXNzaWJpbGl0eUFjdGlvbkluZm8sXG4gIEFjY2Vzc2liaWxpdHlSb2xlLFxuICBBY2Nlc3NpYmlsaXR5U3RhdGUsXG4gIEFjY2Vzc2liaWxpdHlWYWx1ZSxcbn0gZnJvbSAnLi4vLi4vQ29tcG9uZW50cy9WaWV3L1ZpZXdBY2Nlc3NpYmlsaXR5JztcbmltcG9ydCB0eXBlIHtFZGdlSW5zZXRzUHJvcH0gZnJvbSAnLi4vLi4vU3R5bGVTaGVldC9FZGdlSW5zZXRzUHJvcFR5cGUnO1xuaW1wb3J0IHR5cGUge1xuICBCbHVyRXZlbnQsXG4gIEZvY3VzRXZlbnQsXG4gIExheW91dEV2ZW50LFxuICBQcmVzc0V2ZW50LFxufSBmcm9tICcuLi8uLi9UeXBlcy9Db3JlRXZlbnRUeXBlcyc7XG5pbXBvcnQgVmlldyBmcm9tICcuLi8uLi9Db21wb25lbnRzL1ZpZXcvVmlldyc7XG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbnR5cGUgUHJvcHMgPSAkUmVhZE9ubHk8e3xcbiAgYWNjZXNzaWJpbGl0eUFjdGlvbnM/OiA/JFJlYWRPbmx5QXJyYXk8QWNjZXNzaWJpbGl0eUFjdGlvbkluZm8+LFxuICBhY2Nlc3NpYmlsaXR5RWxlbWVudHNIaWRkZW4/OiA/Ym9vbGVhbixcbiAgYWNjZXNzaWJpbGl0eUhpbnQ/OiA/U3RyaW5naXNoLFxuICBhY2Nlc3NpYmlsaXR5SWdub3Jlc0ludmVydENvbG9ycz86ID9ib29sZWFuLFxuICBhY2Nlc3NpYmlsaXR5TGFiZWw/OiA/U3RyaW5naXNoLFxuICBhY2Nlc3NpYmlsaXR5TGl2ZVJlZ2lvbj86ID8oJ25vbmUnIHwgJ3BvbGl0ZScgfCAnYXNzZXJ0aXZlJyksXG4gIGFjY2Vzc2liaWxpdHlSb2xlPzogP0FjY2Vzc2liaWxpdHlSb2xlLFxuICBhY2Nlc3NpYmlsaXR5U3RhdGU/OiA/QWNjZXNzaWJpbGl0eVN0YXRlLFxuICBhY2Nlc3NpYmlsaXR5VmFsdWU/OiA/QWNjZXNzaWJpbGl0eVZhbHVlLFxuICBhY2Nlc3NpYmlsaXR5Vmlld0lzTW9kYWw/OiA/Ym9vbGVhbixcbiAgYWNjZXNzaWJsZT86ID9ib29sZWFuLFxuICBjaGlsZHJlbj86ID9SZWFjdC5Ob2RlLFxuICBkZWxheUxvbmdQcmVzcz86ID9udW1iZXIsXG4gIGRlbGF5UHJlc3NJbj86ID9udW1iZXIsXG4gIGRlbGF5UHJlc3NPdXQ/OiA/bnVtYmVyLFxuICBkaXNhYmxlZD86ID9ib29sZWFuLFxuICBmb2N1c2FibGU/OiA/Ym9vbGVhbixcbiAgaGl0U2xvcD86ID9FZGdlSW5zZXRzUHJvcCxcbiAgaW1wb3J0YW50Rm9yQWNjZXNzaWJpbGl0eT86ID8oJ2F1dG8nIHwgJ3llcycgfCAnbm8nIHwgJ25vLWhpZGUtZGVzY2VuZGFudHMnKSxcbiAgbmF0aXZlSUQ/OiA/c3RyaW5nLFxuICBvbkFjY2Vzc2liaWxpdHlBY3Rpb24/OiA/KGV2ZW50OiBBY2Nlc3NpYmlsaXR5QWN0aW9uRXZlbnQpID0+IG1peGVkLFxuICBvbkJsdXI/OiA/KGV2ZW50OiBCbHVyRXZlbnQpID0+IG1peGVkLFxuICBvbkZvY3VzPzogPyhldmVudDogRm9jdXNFdmVudCkgPT4gbWl4ZWQsXG4gIG9uTGF5b3V0PzogPyhldmVudDogTGF5b3V0RXZlbnQpID0+IG1peGVkLFxuICBvbkxvbmdQcmVzcz86ID8oZXZlbnQ6IFByZXNzRXZlbnQpID0+IG1peGVkLFxuICBvblByZXNzPzogPyhldmVudDogUHJlc3NFdmVudCkgPT4gbWl4ZWQsXG4gIG9uUHJlc3NJbj86ID8oZXZlbnQ6IFByZXNzRXZlbnQpID0+IG1peGVkLFxuICBvblByZXNzT3V0PzogPyhldmVudDogUHJlc3NFdmVudCkgPT4gbWl4ZWQsXG4gIHByZXNzUmV0ZW50aW9uT2Zmc2V0PzogP0VkZ2VJbnNldHNQcm9wLFxuICByZWplY3RSZXNwb25kZXJUZXJtaW5hdGlvbj86ID9ib29sZWFuLFxuICB0ZXN0SUQ/OiA/c3RyaW5nLFxuICB0b3VjaFNvdW5kRGlzYWJsZWQ/OiA/Ym9vbGVhbixcbnx9PjtcblxudHlwZSBTdGF0ZSA9ICRSZWFkT25seTx7fFxuICBwcmVzc2FiaWxpdHk6IFByZXNzYWJpbGl0eSxcbnx9PjtcblxuY29uc3QgUEFTU1RIUk9VR0hfUFJPUFMgPSBbXG4gICdhY2Nlc3NpYmlsaXR5QWN0aW9ucycsXG4gICdhY2Nlc3NpYmlsaXR5RWxlbWVudHNIaWRkZW4nLFxuICAnYWNjZXNzaWJpbGl0eUhpbnQnLFxuICAnYWNjZXNzaWJpbGl0eUlnbm9yZXNJbnZlcnRDb2xvcnMnLFxuICAnYWNjZXNzaWJpbGl0eUxhYmVsJyxcbiAgJ2FjY2Vzc2liaWxpdHlMaXZlUmVnaW9uJyxcbiAgJ2FjY2Vzc2liaWxpdHlSb2xlJyxcbiAgJ2FjY2Vzc2liaWxpdHlWYWx1ZScsXG4gICdhY2Nlc3NpYmlsaXR5Vmlld0lzTW9kYWwnLFxuICAnaGl0U2xvcCcsXG4gICdpbXBvcnRhbnRGb3JBY2Nlc3NpYmlsaXR5JyxcbiAgJ25hdGl2ZUlEJyxcbiAgJ29uQWNjZXNzaWJpbGl0eUFjdGlvbicsXG4gICdvbkJsdXInLFxuICAnb25Gb2N1cycsXG4gICdvbkxheW91dCcsXG4gICd0ZXN0SUQnLFxuXTtcblxuY2xhc3MgVG91Y2hhYmxlV2l0aG91dEZlZWRiYWNrIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50PFByb3BzLCBTdGF0ZT4ge1xuICBzdGF0ZTogU3RhdGUgPSB7XG4gICAgcHJlc3NhYmlsaXR5OiBuZXcgUHJlc3NhYmlsaXR5KGNyZWF0ZVByZXNzYWJpbGl0eUNvbmZpZyh0aGlzLnByb3BzKSksXG4gIH07XG5cbiAgcmVuZGVyKCk6IFJlYWN0Lk5vZGUge1xuICAgIGNvbnN0IGVsZW1lbnQgPSBSZWFjdC5DaGlsZHJlbi5vbmx5KHRoaXMucHJvcHMuY2hpbGRyZW4pO1xuICAgIGNvbnN0IGNoaWxkcmVuID0gW2VsZW1lbnQucHJvcHMuY2hpbGRyZW5dO1xuICAgIGlmIChfX0RFVl9fKSB7XG4gICAgICBpZiAoZWxlbWVudC50eXBlID09PSBWaWV3KSB7XG4gICAgICAgIGNoaWxkcmVuLnB1c2goXG4gICAgICAgICAgPFByZXNzYWJpbGl0eURlYnVnVmlldyBjb2xvcj1cInJlZFwiIGhpdFNsb3A9e3RoaXMucHJvcHMuaGl0U2xvcH0gLz4sXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gQkFDS1dBUkQtQ09NUEFUSUJJTElUWTogRm9jdXMgYW5kIGJsdXIgZXZlbnRzIHdlcmUgbmV2ZXIgc3VwcG9ydGVkIGJlZm9yZVxuICAgIC8vIGFkb3B0aW5nIGBQcmVzc2FiaWxpdHlgLCBzbyBwcmVzZXJ2ZSB0aGF0IGJlaGF2aW9yLlxuICAgIGNvbnN0IHtcbiAgICAgIG9uQmx1cixcbiAgICAgIG9uRm9jdXMsXG4gICAgICAuLi5ldmVudEhhbmRsZXJzV2l0aG91dEJsdXJBbmRGb2N1c1xuICAgIH0gPSB0aGlzLnN0YXRlLnByZXNzYWJpbGl0eS5nZXRFdmVudEhhbmRsZXJzKCk7XG5cbiAgICBjb25zdCBlbGVtZW50UHJvcHM6IHtbc3RyaW5nXTogbWl4ZWQsIC4uLn0gPSB7XG4gICAgICAuLi5ldmVudEhhbmRsZXJzV2l0aG91dEJsdXJBbmRGb2N1cyxcbiAgICAgIGFjY2Vzc2libGU6IHRoaXMucHJvcHMuYWNjZXNzaWJsZSAhPT0gZmFsc2UsXG4gICAgICBhY2Nlc3NpYmlsaXR5U3RhdGU6XG4gICAgICAgIHRoaXMucHJvcHMuZGlzYWJsZWQgIT0gbnVsbFxuICAgICAgICAgID8ge1xuICAgICAgICAgICAgICAuLi50aGlzLnByb3BzLmFjY2Vzc2liaWxpdHlTdGF0ZSxcbiAgICAgICAgICAgICAgZGlzYWJsZWQ6IHRoaXMucHJvcHMuZGlzYWJsZWQsXG4gICAgICAgICAgICB9XG4gICAgICAgICAgOiB0aGlzLnByb3BzLmFjY2Vzc2liaWxpdHlTdGF0ZSxcbiAgICAgIGZvY3VzYWJsZTpcbiAgICAgICAgdGhpcy5wcm9wcy5mb2N1c2FibGUgIT09IGZhbHNlICYmIHRoaXMucHJvcHMub25QcmVzcyAhPT0gdW5kZWZpbmVkLFxuICAgIH07XG4gICAgZm9yIChjb25zdCBwcm9wIG9mIFBBU1NUSFJPVUdIX1BST1BTKSB7XG4gICAgICBpZiAodGhpcy5wcm9wc1twcm9wXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGVsZW1lbnRQcm9wc1twcm9wXSA9IHRoaXMucHJvcHNbcHJvcF07XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIFJlYWN0LmNsb25lRWxlbWVudChlbGVtZW50LCBlbGVtZW50UHJvcHMsIC4uLmNoaWxkcmVuKTtcbiAgfVxuXG4gIGNvbXBvbmVudERpZFVwZGF0ZSgpOiB2b2lkIHtcbiAgICB0aGlzLnN0YXRlLnByZXNzYWJpbGl0eS5jb25maWd1cmUoY3JlYXRlUHJlc3NhYmlsaXR5Q29uZmlnKHRoaXMucHJvcHMpKTtcbiAgfVxuXG4gIGNvbXBvbmVudFdpbGxVbm1vdW50KCk6IHZvaWQge1xuICAgIHRoaXMuc3RhdGUucHJlc3NhYmlsaXR5LnJlc2V0KCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gY3JlYXRlUHJlc3NhYmlsaXR5Q29uZmlnKHByb3BzOiBQcm9wcyk6IFByZXNzYWJpbGl0eUNvbmZpZyB7XG4gIHJldHVybiB7XG4gICAgY2FuY2VsYWJsZTogIXByb3BzLnJlamVjdFJlc3BvbmRlclRlcm1pbmF0aW9uLFxuICAgIGRpc2FibGVkOlxuICAgICAgcHJvcHMuZGlzYWJsZWQgIT09IG51bGxcbiAgICAgICAgPyBwcm9wcy5kaXNhYmxlZFxuICAgICAgICA6IHByb3BzLmFjY2Vzc2liaWxpdHlTdGF0ZT8uZGlzYWJsZWQsXG4gICAgaGl0U2xvcDogcHJvcHMuaGl0U2xvcCxcbiAgICBkZWxheUxvbmdQcmVzczogcHJvcHMuZGVsYXlMb25nUHJlc3MsXG4gICAgZGVsYXlQcmVzc0luOiBwcm9wcy5kZWxheVByZXNzSW4sXG4gICAgZGVsYXlQcmVzc091dDogcHJvcHMuZGVsYXlQcmVzc091dCxcbiAgICBtaW5QcmVzc0R1cmF0aW9uOiAwLFxuICAgIHByZXNzUmVjdE9mZnNldDogcHJvcHMucHJlc3NSZXRlbnRpb25PZmZzZXQsXG4gICAgYW5kcm9pZF9kaXNhYmxlU291bmQ6IHByb3BzLnRvdWNoU291bmREaXNhYmxlZCxcbiAgICBvbkJsdXI6IHByb3BzLm9uQmx1cixcbiAgICBvbkZvY3VzOiBwcm9wcy5vbkZvY3VzLFxuICAgIG9uTG9uZ1ByZXNzOiBwcm9wcy5vbkxvbmdQcmVzcyxcbiAgICBvblByZXNzOiBwcm9wcy5vblByZXNzLFxuICAgIG9uUHJlc3NJbjogcHJvcHMub25QcmVzc0luLFxuICAgIG9uUHJlc3NPdXQ6IHByb3BzLm9uUHJlc3NPdXQsXG4gIH07XG59XG5cblRvdWNoYWJsZVdpdGhvdXRGZWVkYmFjay5kaXNwbGF5TmFtZSA9ICdUb3VjaGFibGVXaXRob3V0RmVlZGJhY2snO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFRvdWNoYWJsZVdpdGhvdXRGZWVkYmFjaztcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQVVBLElBQUFBLGFBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUdBLElBQUFDLGtCQUFBLEdBQUFELE9BQUE7QUFlQSxJQUFBRSxLQUFBLEdBQUFILHNC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