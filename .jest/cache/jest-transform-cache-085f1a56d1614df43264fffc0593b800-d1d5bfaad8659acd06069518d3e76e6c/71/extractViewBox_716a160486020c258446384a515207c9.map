{"version":3,"names":["meetOrSliceTypes","meet","slice","none","alignEnum","reduce","prev","name","spacesRegExp","extractViewBox","props","viewBox","preserveAspectRatio","params","Array","isArray","trim","split","map","Number","length","some","isNaN","console","warn","modes","align","meetOrSlice","minX","minY","vbWidth","vbHeight"],"sources":["extractViewBox.ts"],"sourcesContent":["import { NumberProp } from './types';\n\nexport const meetOrSliceTypes: {\n  [meetOrSlice: string]: number;\n} = {\n  meet: 0,\n  slice: 1,\n  none: 2,\n};\n\nexport const alignEnum: { [align: string]: string } = [\n  'xMinYMin',\n  'xMidYMin',\n  'xMaxYMin',\n  'xMinYMid',\n  'xMidYMid',\n  'xMaxYMid',\n  'xMinYMax',\n  'xMidYMax',\n  'xMaxYMax',\n  'none',\n].reduce((prev: { [align: string]: string }, name) => {\n  prev[name] = name;\n  return prev;\n}, {});\n\nconst spacesRegExp = /\\s+/;\n\nexport default function extractViewBox(props: {\n  viewBox?: string | NumberProp[];\n  preserveAspectRatio?: string;\n}) {\n  const { viewBox, preserveAspectRatio } = props;\n\n  if (!viewBox) {\n    return null;\n  }\n\n  const params = (Array.isArray(viewBox)\n    ? viewBox\n    : viewBox.trim().split(spacesRegExp)\n  ).map(Number);\n\n  if (params.length !== 4 || params.some(isNaN)) {\n    console.warn('Invalid `viewBox` prop:' + viewBox);\n    return null;\n  }\n\n  const modes = preserveAspectRatio\n    ? preserveAspectRatio.trim().split(spacesRegExp)\n    : [];\n  const align = modes[0];\n  const meetOrSlice = modes[1];\n\n  return {\n    minX: params[0],\n    minY: params[1],\n    vbWidth: params[2],\n    vbHeight: params[3],\n    align: alignEnum[align] || 'xMidYMid',\n    meetOrSlice: meetOrSliceTypes[meetOrSlice] || 0,\n  };\n}\n"],"mappings":";;;;;;;AAEO,IAAMA,gBAEZ,GAAG;EACFC,IAAI,EAAE,CADJ;EAEFC,KAAK,EAAE,CAFL;EAGFC,IAAI,EAAE;AAHJ,CAFG;;AAQA,IAAMC,SAAsC,GAAG,CACpD,UADoD,EAEpD,UAFoD,EAGpD,UAHoD,EAIpD,UAJoD,EAKpD,UALoD,EAMpD,UANoD,EAOpD,UAPoD,EAQpD,UARoD,EASpD,UAToD,EAUpD,MAVoD,EAWpDC,MAXoD,CAW7C,UAACC,IAAD,EAAoCC,IAApC,EAA6C;EACpDD,IAAI,CAACC,IAAD,CAAJ,GAAaA,IAAb;EACA,OAAOD,IAAP;AACD,CAdqD,EAcnD,EAdmD,CAA/C;;AAgBP,IAAME,YAAY,GAAG,KAArB;AAEe,SAASC,cAATA,CAAwBC,KAAxB,EAGZ;EAAA,IACOC,OADP,GACwCD,KADxC,CACOC,OADP;IACgBC,mBADhB,GACwCF,KADxC,CACgBE,mBADhB;EAGD,IAAI,CAACD,OAAL,EAAc;IACZ,OAAO,IAAP;EACD;EAED,IAAME,MAAM,GAAG,CAACC,KAAK,CAACC,OAAN,CAAcJ,OAAd,IACZA,OADY,GAEZA,OAAO,CAACK,IAAR,GAAeC,KAAf,CAAqBT,YAArB,CAFW,EAGbU,GAHa,CAGTC,MAHS,CAAf;EAKA,IAAIN,MAAM,CAACO,MAAP,KAAkB,CAAlB,IAAuBP,MAAM,CAACQ,IAAP,CAAYC,KAAZ,CAA3B,EAA+C;IAC7CC,OAAO,CAACC,IAAR,CAAa,4BAA4Bb,OAAzC;IACA,OAAO,IAAP;EACD;EAED,IAAMc,KAAK,GAAGb,mBAAmB,GAC7BA,mBAAmB,CAACI,IAApB,GAA2BC,KAA3B,CAAiCT,YAAjC,CAD6B,GAE7B,EAFJ;EAGA,IAAMkB,KAAK,GAAGD,KAAK,CAAC,CAAD,CAAnB;EACA,IAAME,WAAW,GAAGF,KAAK,CAAC,CAAD,CAAzB;EAEA,OAAO;IACLG,IAAI,EAAEf,MAAM,CAAC,CAAD,CADP;IAELgB,IAAI,EAAEhB,MAAM,CAAC,CAAD,CAFP;IAGLiB,OAAO,EAAEjB,MAAM,CAAC,CAAD,CAHV;IAILkB,QAAQ,EAAElB,MAAM,CAAC,CAAD,CAJX;IAKLa,KAAK,EAAEtB,SAAS,CAACsB,KAAD,CAAT,IAAoB,UALtB;IAMLC,WAAW,EAAE3B,gBAAgB,CAAC2B,WAAD,CAAhB,IAAiC;EANzC,CAAP;AAQD"}