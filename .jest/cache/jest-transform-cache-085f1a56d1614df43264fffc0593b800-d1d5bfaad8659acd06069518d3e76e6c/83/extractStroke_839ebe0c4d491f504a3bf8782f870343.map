{"version":3,"names":["_extractBrush","_interopRequireDefault","require","_extractOpacity","_extractLengthList","caps","butt","square","round","joins","miter","bevel","vectorEffects","none","default","nonScalingStroke","inherit","uri","extractStroke","o","props","inherited","stroke","strokeOpacity","strokeLinecap","strokeLinejoin","strokeDasharray","strokeWidth","strokeDashoffset","strokeMiterlimit","vectorEffect","push","strokeDash","length","concat","parseFloat"],"sources":["extractStroke.ts"],"sourcesContent":["import extractBrush from './extractBrush';\nimport extractOpacity from './extractOpacity';\nimport extractLengthList from './extractLengthList';\nimport { extractedProps, StrokeProps } from './types';\n\nconst caps = {\n  butt: 0,\n  square: 2,\n  round: 1,\n};\n\nconst joins = {\n  miter: 0,\n  bevel: 2,\n  round: 1,\n};\n\nconst vectorEffects = {\n  none: 0,\n  default: 0,\n  nonScalingStroke: 1,\n  'non-scaling-stroke': 1,\n  inherit: 2,\n  uri: 3,\n};\n\nexport default function extractStroke(\n  o: extractedProps,\n  props: StrokeProps,\n  inherited: string[],\n) {\n  const {\n    stroke,\n    strokeOpacity,\n    strokeLinecap,\n    strokeLinejoin,\n    strokeDasharray,\n    strokeWidth,\n    strokeDashoffset,\n    strokeMiterlimit,\n    vectorEffect,\n  } = props;\n\n  if (stroke != null) {\n    inherited.push('stroke');\n    o.stroke = extractBrush(stroke);\n  }\n  if (strokeWidth != null) {\n    inherited.push('strokeWidth');\n    o.strokeWidth = strokeWidth;\n  }\n  if (strokeOpacity != null) {\n    inherited.push('strokeOpacity');\n    o.strokeOpacity = extractOpacity(strokeOpacity);\n  }\n  if (strokeDasharray != null) {\n    inherited.push('strokeDasharray');\n    const strokeDash =\n      !strokeDasharray || strokeDasharray === 'none'\n        ? null\n        : extractLengthList(strokeDasharray);\n    o.strokeDasharray =\n      strokeDash && strokeDash.length % 2 === 1\n        ? strokeDash.concat(strokeDash)\n        : strokeDash;\n  }\n  if (strokeDashoffset != null) {\n    inherited.push('strokeDashoffset');\n    o.strokeDashoffset =\n      strokeDasharray && strokeDashoffset ? +strokeDashoffset || 0 : null;\n  }\n  if (strokeLinecap != null) {\n    inherited.push('strokeLinecap');\n    o.strokeLinecap = (strokeLinecap && caps[strokeLinecap]) || 0;\n  }\n  if (strokeLinejoin != null) {\n    inherited.push('strokeLinejoin');\n    o.strokeLinejoin = (strokeLinejoin && joins[strokeLinejoin]) || 0;\n  }\n  if (strokeMiterlimit != null) {\n    inherited.push('strokeMiterlimit');\n    o.strokeMiterlimit =\n      (strokeMiterlimit && typeof strokeMiterlimit !== 'number'\n        ? parseFloat(strokeMiterlimit)\n        : strokeMiterlimit) || 4;\n  }\n  if (vectorEffect != null) {\n    o.vectorEffect = (vectorEffect && vectorEffects[vectorEffect]) || 0;\n  }\n}\n"],"mappings":"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"}