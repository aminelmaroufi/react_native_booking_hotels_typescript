5fe6501297579357538567b9e89f375a
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = exports.ThemeContext = exports.ThemeConsumer = void 0;
var _classCallCheck2 = _interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));
var _createClass2 = _interopRequireDefault(require("@babel/runtime/helpers/createClass"));
var _inherits2 = _interopRequireDefault(require("@babel/runtime/helpers/inherits"));
var _possibleConstructorReturn2 = _interopRequireDefault(require("@babel/runtime/helpers/possibleConstructorReturn"));
var _getPrototypeOf2 = _interopRequireDefault(require("@babel/runtime/helpers/getPrototypeOf"));
var _react = _interopRequireDefault(require("react"));
var _deepmerge = _interopRequireDefault(require("deepmerge"));
var _colors = _interopRequireDefault(require("./colors"));
var _colorsDark = _interopRequireDefault(require("./colorsDark"));
var _jsxRuntime = require("react/jsx-runtime");
function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2.default)(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2.default)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2.default)(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }
var ThemeContext = _react.default.createContext({
  theme: {
    colors: _colors.default
  }
});
exports.ThemeContext = ThemeContext;
var ThemeProvider = function (_React$Component) {
  (0, _inherits2.default)(ThemeProvider, _React$Component);
  var _super = _createSuper(ThemeProvider);
  function ThemeProvider(props) {
    var _this;
    (0, _classCallCheck2.default)(this, ThemeProvider);
    _this = _super.call(this, props);
    _this.updateTheme = function (updates) {
      _this.setState(function (_ref) {
        var theme = _ref.theme;
        return {
          theme: (0, _deepmerge.default)(theme, updates)
        };
      });
    };
    _this.replaceTheme = function (theme) {
      _this.setState(function () {
        return {
          theme: (0, _deepmerge.default)(_this.defaultTheme, theme)
        };
      });
    };
    _this.getTheme = function () {
      return _this.state.theme;
    };
    var defaultColors = props.useDark ? _colorsDark.default : _colors.default;
    _this.defaultTheme = (0, _deepmerge.default)({
      colors: defaultColors
    }, props.theme);
    _this.state = {
      theme: _this.defaultTheme,
      useDark: Boolean(props.useDark)
    };
    return _this;
  }
  (0, _createClass2.default)(ThemeProvider, [{
    key: "render",
    value: function render() {
      return (0, _jsxRuntime.jsx)(ThemeContext.Provider, {
        value: {
          theme: this.state.theme,
          updateTheme: this.updateTheme,
          replaceTheme: this.replaceTheme
        },
        children: this.props.children
      });
    }
  }], [{
    key: "getDerivedStateFromProps",
    value: function getDerivedStateFromProps(props, state) {
      var useDark = props.useDark;
      var isTheme = function isTheme(theme) {
        return !(Object.keys(theme).length === 0 && theme.constructor === Object);
      };
      if (useDark !== state.useDark || isTheme(props.theme) && props.theme !== state.theme) {
        var defaultColors = useDark ? _colorsDark.default : _colors.default;
        return {
          theme: (0, _deepmerge.default)(state.theme, (0, _deepmerge.default)({
            colors: defaultColors
          }, props.theme)),
          useDark: useDark
        };
      }
      return null;
    }
  }]);
  return ThemeProvider;
}(_react.default.Component);
exports.default = ThemeProvider;
ThemeProvider.defaultProps = {
  theme: {},
  useDark: false
};
var ThemeConsumer = ThemeContext.Consumer;
exports.ThemeConsumer = ThemeConsumer;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcmVhY3QiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9kZWVwbWVyZ2UiLCJfY29sb3JzIiwiX2NvbG9yc0RhcmsiLCJfanN4UnVudGltZSIsIl9jcmVhdGVTdXBlciIsIkRlcml2ZWQiLCJoYXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0IiwiX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCIsIl9jcmVhdGVTdXBlckludGVybmFsIiwiU3VwZXIiLCJfZ2V0UHJvdG90eXBlT2YyIiwiZGVmYXVsdCIsInJlc3VsdCIsIk5ld1RhcmdldCIsImNvbnN0cnVjdG9yIiwiUmVmbGVjdCIsImNvbnN0cnVjdCIsImFyZ3VtZW50cyIsImFwcGx5IiwiX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yIiwic2hhbSIsIlByb3h5IiwiQm9vbGVhbiIsInByb3RvdHlwZSIsInZhbHVlT2YiLCJjYWxsIiwiZSIsIlRoZW1lQ29udGV4dCIsIlJlYWN0IiwiY3JlYXRlQ29udGV4dCIsInRoZW1lIiwiY29sb3JzIiwiZXhwb3J0cyIsIlRoZW1lUHJvdmlkZXIiLCJfUmVhY3QkQ29tcG9uZW50IiwiX2luaGVyaXRzMiIsIl9zdXBlciIsInByb3BzIiwiX3RoaXMiLCJfY2xhc3NDYWxsQ2hlY2syIiwidXBkYXRlVGhlbWUiLCJ1cGRhdGVzIiwic2V0U3RhdGUiLCJfcmVmIiwiZGVlcG1lcmdlIiwicmVwbGFjZVRoZW1lIiwiZGVmYXVsdFRoZW1lIiwiZ2V0VGhlbWUiLCJzdGF0ZSIsImRlZmF1bHRDb2xvcnMiLCJ1c2VEYXJrIiwiZGFya0NvbG9ycyIsIl9jcmVhdGVDbGFzczIiLCJrZXkiLCJ2YWx1ZSIsInJlbmRlciIsImpzeCIsIlByb3ZpZGVyIiwiY2hpbGRyZW4iLCJnZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMiLCJpc1RoZW1lIiwiT2JqZWN0Iiwia2V5cyIsImxlbmd0aCIsIkNvbXBvbmVudCIsImRlZmF1bHRQcm9wcyIsIlRoZW1lQ29uc3VtZXIiLCJDb25zdW1lciJdLCJzb3VyY2VzIjpbIlRoZW1lUHJvdmlkZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBkZWVwbWVyZ2UgZnJvbSAnZGVlcG1lcmdlJztcbmltcG9ydCBjb2xvcnMgZnJvbSAnLi9jb2xvcnMnO1xuaW1wb3J0IGRhcmtDb2xvcnMgZnJvbSAnLi9jb2xvcnNEYXJrJztcbmV4cG9ydCBjb25zdCBUaGVtZUNvbnRleHQgPSBSZWFjdC5jcmVhdGVDb250ZXh0KHtcbiAgICB0aGVtZToge1xuICAgICAgICBjb2xvcnMsXG4gICAgfSxcbn0pO1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVGhlbWVQcm92aWRlciBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gICAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICAgICAgc3VwZXIocHJvcHMpO1xuICAgICAgICB0aGlzLnVwZGF0ZVRoZW1lID0gKHVwZGF0ZXMpID0+IHtcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoKHsgdGhlbWUgfSkgPT4gKHtcbiAgICAgICAgICAgICAgICB0aGVtZTogZGVlcG1lcmdlKHRoZW1lLCB1cGRhdGVzKSxcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5yZXBsYWNlVGhlbWUgPSAodGhlbWUpID0+IHtcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoKCkgPT4gKHtcbiAgICAgICAgICAgICAgICB0aGVtZTogZGVlcG1lcmdlKHRoaXMuZGVmYXVsdFRoZW1lLCB0aGVtZSksXG4gICAgICAgICAgICB9KSk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuZ2V0VGhlbWUgPSAoKSA9PiB0aGlzLnN0YXRlLnRoZW1lO1xuICAgICAgICBjb25zdCBkZWZhdWx0Q29sb3JzID0gcHJvcHMudXNlRGFyayA/IGRhcmtDb2xvcnMgOiBjb2xvcnM7XG4gICAgICAgIHRoaXMuZGVmYXVsdFRoZW1lID0gZGVlcG1lcmdlKHtcbiAgICAgICAgICAgIGNvbG9yczogZGVmYXVsdENvbG9ycyxcbiAgICAgICAgfSwgcHJvcHMudGhlbWUpO1xuICAgICAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgICAgICAgdGhlbWU6IHRoaXMuZGVmYXVsdFRoZW1lLFxuICAgICAgICAgICAgdXNlRGFyazogQm9vbGVhbihwcm9wcy51c2VEYXJrKSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgc3RhdGljIGdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyhwcm9wcywgc3RhdGUpIHtcbiAgICAgICAgY29uc3QgeyB1c2VEYXJrIH0gPSBwcm9wcztcbiAgICAgICAgY29uc3QgaXNUaGVtZSA9ICh0aGVtZSkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuICEoT2JqZWN0LmtleXModGhlbWUpLmxlbmd0aCA9PT0gMCAmJiB0aGVtZS5jb25zdHJ1Y3RvciA9PT0gT2JqZWN0KTtcbiAgICAgICAgfTtcbiAgICAgICAgLy9pc1RoZW1lIHdpbGwgY2hlY2sgaWYgdGhlIHRoZW1lIGlzIHByb3ZpZGVkIGJ5IHVzZXIgYW5kIHdpbGwgdXBkYXRlIHRoZSB0aGVtZSBvbmx5IGlmIGl0cyBwcm92aWRlZCBieSB1c2VyXG4gICAgICAgIC8vTm90IGNoZWNraW5nIGlmIHRoZSB0aGVtZSBleGlzdCBvciBub3Qgd2lsbCBhbHdheXMgcmVzdWx0IGluIGlmIHN0YXRlbWVudCBnZXR0aW5nIGV4ZWN1dGVkIGFzIHByb3BzLnRoZW1lICE9PSBzdGF0ZS50aGVtZSBpZiB0aGVtZSBpcyBub3QgcHJvdmlkZWRcbiAgICAgICAgaWYgKHVzZURhcmsgIT09IHN0YXRlLnVzZURhcmsgfHxcbiAgICAgICAgICAgIChpc1RoZW1lKHByb3BzLnRoZW1lKSAmJiBwcm9wcy50aGVtZSAhPT0gc3RhdGUudGhlbWUpKSB7XG4gICAgICAgICAgICBjb25zdCBkZWZhdWx0Q29sb3JzID0gdXNlRGFyayA/IGRhcmtDb2xvcnMgOiBjb2xvcnM7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHRoZW1lOiBkZWVwbWVyZ2Uoc3RhdGUudGhlbWUsIGRlZXBtZXJnZSh7XG4gICAgICAgICAgICAgICAgICAgIGNvbG9yczogZGVmYXVsdENvbG9ycyxcbiAgICAgICAgICAgICAgICB9LCBwcm9wcy50aGVtZSkpLFxuICAgICAgICAgICAgICAgIHVzZURhcmssXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIHJldHVybiAoPFRoZW1lQ29udGV4dC5Qcm92aWRlciB2YWx1ZT17e1xuICAgICAgICAgICAgdGhlbWU6IHRoaXMuc3RhdGUudGhlbWUsXG4gICAgICAgICAgICB1cGRhdGVUaGVtZTogdGhpcy51cGRhdGVUaGVtZSxcbiAgICAgICAgICAgIHJlcGxhY2VUaGVtZTogdGhpcy5yZXBsYWNlVGhlbWUsXG4gICAgICAgIH19PlxuICAgICAgICB7dGhpcy5wcm9wcy5jaGlsZHJlbn1cbiAgICAgIDwvVGhlbWVDb250ZXh0LlByb3ZpZGVyPik7XG4gICAgfVxufVxuVGhlbWVQcm92aWRlci5kZWZhdWx0UHJvcHMgPSB7XG4gICAgdGhlbWU6IHt9LFxuICAgIHVzZURhcms6IGZhbHNlLFxufTtcbmV4cG9ydCBjb25zdCBUaGVtZUNvbnN1bWVyID0gVGhlbWVDb250ZXh0LkNvbnN1bWVyO1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQUEsSUFBQUEsTUFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsVUFBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUUsT0FBQSxHQUFBSCxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUcsV0FBQSxHQUFBSixzQkFBQSxDQUFBQyxPQUFBO0FBQXNDLElBQUFJLFdBQUEsR0FBQUosT0FBQTtBQUFBLFNBQUFLLGFBQUFDLE9BQUEsUUFBQUMseUJBQUEsR0FBQUMseUJBQUEsb0JBQUFDLHFCQUFBLFFBQUFDLEtBQUEsT0FBQUMs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