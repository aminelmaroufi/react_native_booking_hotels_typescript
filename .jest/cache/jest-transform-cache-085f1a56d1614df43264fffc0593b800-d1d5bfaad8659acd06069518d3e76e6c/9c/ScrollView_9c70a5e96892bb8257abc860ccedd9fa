78db0871ddf28a9ecbe78214d882e888
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _extends2 = _interopRequireDefault(require("@babel/runtime/helpers/extends"));
var _slicedToArray2 = _interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));
var _classCallCheck2 = _interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));
var _createClass2 = _interopRequireDefault(require("@babel/runtime/helpers/createClass"));
var _assertThisInitialized2 = _interopRequireDefault(require("@babel/runtime/helpers/assertThisInitialized"));
var _inherits2 = _interopRequireDefault(require("@babel/runtime/helpers/inherits"));
var _possibleConstructorReturn2 = _interopRequireDefault(require("@babel/runtime/helpers/possibleConstructorReturn"));
var _getPrototypeOf2 = _interopRequireDefault(require("@babel/runtime/helpers/getPrototypeOf"));
var _AnimatedImplementation = _interopRequireDefault(require("../../Animated/AnimatedImplementation"));
var _Dimensions = _interopRequireDefault(require("../../Utilities/Dimensions"));
var _Platform = _interopRequireDefault(require("../../Utilities/Platform"));
var React = _interopRequireWildcard(require("react"));
var _ReactNative = _interopRequireDefault(require("../../Renderer/shims/ReactNative"));
var _ScrollViewStickyHeader = _interopRequireDefault(require("./ScrollViewStickyHeader"));
var _StyleSheet = _interopRequireDefault(require("../../StyleSheet/StyleSheet"));
var _View = _interopRequireDefault(require("../View/View"));
var _UIManager = _interopRequireDefault(require("../../ReactNative/UIManager"));
var _Keyboard = _interopRequireDefault(require("../Keyboard/Keyboard"));
var _FrameRateLogger = _interopRequireDefault(require("../../Interaction/FrameRateLogger"));
var _TextInputState = _interopRequireDefault(require("../TextInput/TextInputState"));
var _dismissKeyboard = _interopRequireDefault(require("../../Utilities/dismissKeyboard"));
var _flattenStyle = _interopRequireDefault(require("../../StyleSheet/flattenStyle"));
var _invariant = _interopRequireDefault(require("invariant"));
var _processDecelerationRate = _interopRequireDefault(require("./processDecelerationRate"));
var _splitLayoutProps2 = _interopRequireDefault(require("../../StyleSheet/splitLayoutProps"));
var _setAndForwardRef = _interopRequireDefault(require("../../Utilities/setAndForwardRef"));
var _ScrollViewContext = _interopRequireWildcard(require("./ScrollViewContext"));
var _ScrollViewCommands = _interopRequireDefault(require("./ScrollViewCommands"));
var _AndroidHorizontalScrollContentViewNativeComponent = _interopRequireDefault(require("./AndroidHorizontalScrollContentViewNativeComponent"));
var _AndroidHorizontalScrollViewNativeComponent = _interopRequireDefault(require("./AndroidHorizontalScrollViewNativeComponent"));
var _ScrollContentViewNativeComponent = _interopRequireDefault(require("./ScrollContentViewNativeComponent"));
var _ScrollViewNativeComponent = _interopRequireDefault(require("./ScrollViewNativeComponent"));
var _jsxRuntime = require("react/jsx-runtime");
function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== "function") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }
function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }
function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2.default)(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2.default)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2.default)(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }
require('../../Renderer/shims/ReactNative');
var _ref = _Platform.default.OS === 'android' ? {
    NativeHorizontalScrollViewTuple: [_AndroidHorizontalScrollViewNativeComponent.default, _AndroidHorizontalScrollContentViewNativeComponent.default],
    NativeVerticalScrollViewTuple: [_ScrollViewNativeComponent.default, _View.default]
  } : {
    NativeHorizontalScrollViewTuple: [_ScrollViewNativeComponent.default, _ScrollContentViewNativeComponent.default],
    NativeVerticalScrollViewTuple: [_ScrollViewNativeComponent.default, _ScrollContentViewNativeComponent.default]
  },
  NativeHorizontalScrollViewTuple = _ref.NativeHorizontalScrollViewTuple,
  NativeVerticalScrollViewTuple = _ref.NativeVerticalScrollViewTuple;
var IS_ANIMATING_TOUCH_START_THRESHOLD_MS = 16;
var ScrollView = function (_React$Component) {
  (0, _inherits2.default)(ScrollView, _React$Component);
  var _super = _createSuper(ScrollView);
  function ScrollView(props) {
    var _this$props$contentOf, _this$props$contentOf2, _this$props$contentIn, _this$props$contentIn2;
    var _this;
    (0, _classCallCheck2.default)(this, ScrollView);
    _this = _super.call(this, props);
    _this._scrollAnimatedValueAttachment = null;
    _this._stickyHeaderRefs = new Map();
    _this._headerLayoutYs = new Map();
    _this._keyboardWillOpenTo = null;
    _this._additionalScrollOffset = 0;
    _this._isTouching = false;
    _this._lastMomentumScrollBeginTime = 0;
    _this._lastMomentumScrollEndTime = 0;
    _this._observedScrollSinceBecomingResponder = false;
    _this._becameResponderWhileAnimating = false;
    _this._preventNegativeScrollOffset = null;
    _this._animated = null;
    _this._subscriptionKeyboardWillShow = null;
    _this._subscriptionKeyboardWillHide = null;
    _this._subscriptionKeyboardDidShow = null;
    _this._subscriptionKeyboardDidHide = null;
    _this.state = {
      layoutHeight: null
    };
    _this._setNativeRef = (0, _setAndForwardRef.default)({
      getForwardedRef: function getForwardedRef() {
        return _this.props.scrollViewRef;
      },
      setLocalRef: function setLocalRef(ref) {
        _this._scrollViewRef = ref;
        if (ref) {
          ref.getScrollResponder = _this.getScrollResponder;
          ref.getScrollableNode = _this.getScrollableNode;
          ref.getInnerViewNode = _this.getInnerViewNode;
          ref.getInnerViewRef = _this.getInnerViewRef;
          ref.getNativeScrollRef = _this.getNativeScrollRef;
          ref.scrollTo = _this.scrollTo;
          ref.scrollToEnd = _this.scrollToEnd;
          ref.flashScrollIndicators = _this.flashScrollIndicators;
          ref.scrollResponderZoomTo = _this.scrollResponderZoomTo;
          ref.scrollResponderScrollNativeHandleToKeyboard = _this.scrollResponderScrollNativeHandleToKeyboard;
        }
      }
    });
    _this.getScrollResponder = function () {
      return (0, _assertThisInitialized2.default)(_this);
    };
    _this.getScrollableNode = function () {
      return _ReactNative.default.findNodeHandle(_this._scrollViewRef);
    };
    _this.getInnerViewNode = function () {
      return _ReactNative.default.findNodeHandle(_this._innerViewRef);
    };
    _this.getInnerViewRef = function () {
      return _this._innerViewRef;
    };
    _this.getNativeScrollRef = function () {
      return _this._scrollViewRef;
    };
    _this.scrollTo = function (options, deprecatedX, deprecatedAnimated) {
      var x, y, animated;
      if (typeof options === 'number') {
        console.warn('`scrollTo(y, x, animated)` is deprecated. Use `scrollTo({x: 5, y: 5, ' + 'animated: true})` instead.');
        y = options;
        x = deprecatedX;
        animated = deprecatedAnimated;
      } else if (options) {
        y = options.y;
        x = options.x;
        animated = options.animated;
      }
      if (_this._scrollViewRef == null) {
        return;
      }
      _ScrollViewCommands.default.scrollTo(_this._scrollViewRef, x || 0, y || 0, animated !== false);
    };
    _this.scrollToEnd = function (options) {
      var animated = (options && options.animated) !== false;
      if (_this._scrollViewRef == null) {
        return;
      }
      _ScrollViewCommands.default.scrollToEnd(_this._scrollViewRef, animated);
    };
    _this.flashScrollIndicators = function () {
      if (_this._scrollViewRef == null) {
        return;
      }
      _ScrollViewCommands.default.flashScrollIndicators(_this._scrollViewRef);
    };
    _this.scrollResponderScrollNativeHandleToKeyboard = function (nodeHandle, additionalOffset, preventNegativeScrollOffset) {
      _this._additionalScrollOffset = additionalOffset || 0;
      _this._preventNegativeScrollOffset = !!preventNegativeScrollOffset;
      if (_this._innerViewRef == null) {
        return;
      }
      if (typeof nodeHandle === 'number') {
        _UIManager.default.measureLayout(nodeHandle, _ReactNative.default.findNodeHandle((0, _assertThisInitialized2.default)(_this)), _this._textInputFocusError, _this._inputMeasureAndScrollToKeyboard);
      } else {
        nodeHandle.measureLayout(_this._innerViewRef, _this._inputMeasureAndScrollToKeyboard, _this._textInputFocusError);
      }
    };
    _this.scrollResponderZoomTo = function (rect, animated) {
      (0, _invariant.default)(_Platform.default.OS === 'ios', 'zoomToRect is not implemented');
      if ('animated' in rect) {
        _this._animated = rect.animated;
        delete rect.animated;
      } else if (typeof animated !== 'undefined') {
        console.warn('`scrollResponderZoomTo` `animated` argument is deprecated. Use `options.animated` instead');
      }
      if (_this._scrollViewRef == null) {
        return;
      }
      _ScrollViewCommands.default.zoomToRect(_this._scrollViewRef, rect, animated !== false);
    };
    _this._inputMeasureAndScrollToKeyboard = function (left, top, width, height) {
      var keyboardScreenY = _Dimensions.default.get('window').height;
      var scrollTextInputIntoVisibleRect = function scrollTextInputIntoVisibleRect() {
        if (_this._keyboardWillOpenTo != null) {
          keyboardScreenY = _this._keyboardWillOpenTo.endCoordinates.screenY;
        }
        var scrollOffsetY = top - keyboardScreenY + height + _this._additionalScrollOffset;
        if (_this._preventNegativeScrollOffset === true) {
          scrollOffsetY = Math.max(0, scrollOffsetY);
        }
        _this.scrollTo({
          x: 0,
          y: scrollOffsetY,
          animated: true
        });
        _this._additionalScrollOffset = 0;
        _this._preventNegativeScrollOffset = false;
      };
      if (_this._keyboardWillOpenTo == null) {
        setTimeout(function () {
          scrollTextInputIntoVisibleRect();
        }, 0);
      } else {
        scrollTextInputIntoVisibleRect();
      }
    };
    _this._handleScroll = function (e) {
      if (__DEV__) {
        if (_this.props.onScroll && _this.props.scrollEventThrottle == null && _Platform.default.OS === 'ios') {
          console.log('You specified `onScroll` on a <ScrollView> but not ' + '`scrollEventThrottle`. You will only receive one event. ' + 'Using `16` you get all the events but be aware that it may ' + "cause frame drops, use a bigger number if you don't need as " + 'much precision.');
        }
      }
      if (_Platform.default.OS === 'android') {
        if (_this.props.keyboardDismissMode === 'on-drag' && _this._isTouching) {
          (0, _dismissKeyboard.default)();
        }
      }
      _this._observedScrollSinceBecomingResponder = true;
      _this.props.onScroll && _this.props.onScroll(e);
    };
    _this._handleLayout = function (e) {
      if (_this.props.invertStickyHeaders === true) {
        _this.setState({
          layoutHeight: e.nativeEvent.layout.height
        });
      }
      if (_this.props.onLayout) {
        _this.props.onLayout(e);
      }
    };
    _this._handleContentOnLayout = function (e) {
      var _e$nativeEvent$layout = e.nativeEvent.layout,
        width = _e$nativeEvent$layout.width,
        height = _e$nativeEvent$layout.height;
      _this.props.onContentSizeChange && _this.props.onContentSizeChange(width, height);
    };
    _this._scrollViewRef = null;
    _this._innerViewRef = null;
    _this._setInnerViewRef = (0, _setAndForwardRef.default)({
      getForwardedRef: function getForwardedRef() {
        return _this.props.innerViewRef;
      },
      setLocalRef: function setLocalRef(ref) {
        _this._innerViewRef = ref;
      }
    });
    _this.scrollResponderKeyboardWillShow = function (e) {
      _this._keyboardWillOpenTo = e;
      _this.props.onKeyboardWillShow && _this.props.onKeyboardWillShow(e);
    };
    _this.scrollResponderKeyboardWillHide = function (e) {
      _this._keyboardWillOpenTo = null;
      _this.props.onKeyboardWillHide && _this.props.onKeyboardWillHide(e);
    };
    _this.scrollResponderKeyboardDidShow = function (e) {
      if (e) {
        _this._keyboardWillOpenTo = e;
      }
      _this.props.onKeyboardDidShow && _this.props.onKeyboardDidShow(e);
    };
    _this.scrollResponderKeyboardDidHide = function (e) {
      _this._keyboardWillOpenTo = null;
      _this.props.onKeyboardDidHide && _this.props.onKeyboardDidHide(e);
    };
    _this._handleMomentumScrollBegin = function (e) {
      _this._lastMomentumScrollBeginTime = global.performance.now();
      _this.props.onMomentumScrollBegin && _this.props.onMomentumScrollBegin(e);
    };
    _this._handleMomentumScrollEnd = function (e) {
      _FrameRateLogger.default.endScroll();
      _this._lastMomentumScrollEndTime = global.performance.now();
      _this.props.onMomentumScrollEnd && _this.props.onMomentumScrollEnd(e);
    };
    _this._handleScrollBeginDrag = function (e) {
      _FrameRateLogger.default.beginScroll();
      _this.props.onScrollBeginDrag && _this.props.onScrollBeginDrag(e);
    };
    _this._handleScrollEndDrag = function (e) {
      var velocity = e.nativeEvent.velocity;
      if (!_this._isAnimating() && (!velocity || velocity.x === 0 && velocity.y === 0)) {
        _FrameRateLogger.default.endScroll();
      }
      _this.props.onScrollEndDrag && _this.props.onScrollEndDrag(e);
    };
    _this._isAnimating = function () {
      var now = global.performance.now();
      var timeSinceLastMomentumScrollEnd = now - _this._lastMomentumScrollEndTime;
      var isAnimating = timeSinceLastMomentumScrollEnd < IS_ANIMATING_TOUCH_START_THRESHOLD_MS || _this._lastMomentumScrollEndTime < _this._lastMomentumScrollBeginTime;
      return isAnimating;
    };
    _this._handleResponderGrant = function (e) {
      _this._observedScrollSinceBecomingResponder = false;
      _this.props.onResponderGrant && _this.props.onResponderGrant(e);
      _this._becameResponderWhileAnimating = _this._isAnimating();
    };
    _this._handleResponderReject = function () {};
    _this._handleResponderRelease = function (e) {
      _this._isTouching = e.nativeEvent.touches.length !== 0;
      _this.props.onResponderRelease && _this.props.onResponderRelease(e);
      if (typeof e.target === 'number') {
        if (__DEV__) {
          console.error('Did not expect event target to be a number. Should have been a native component');
        }
        return;
      }
      var currentlyFocusedTextInput = _TextInputState.default.currentlyFocusedInput();
      if (_this.props.keyboardShouldPersistTaps !== true && _this.props.keyboardShouldPersistTaps !== 'always' && _this._keyboardIsDismissible() && e.target !== currentlyFocusedTextInput && !_this._observedScrollSinceBecomingResponder && !_this._becameResponderWhileAnimating) {
        _TextInputState.default.blurTextInput(currentlyFocusedTextInput);
      }
    };
    _this._handleResponderTerminationRequest = function () {
      return !_this._observedScrollSinceBecomingResponder;
    };
    _this._handleScrollShouldSetResponder = function () {
      if (_this.props.disableScrollViewPanResponder === true) {
        return false;
      }
      return _this._isTouching;
    };
    _this._handleStartShouldSetResponder = function (e) {
      if (_this.props.disableScrollViewPanResponder === true) {
        return false;
      }
      var currentlyFocusedInput = _TextInputState.default.currentlyFocusedInput();
      if (_this.props.keyboardShouldPersistTaps === 'handled' && _this._keyboardIsDismissible() && e.target !== currentlyFocusedInput) {
        return true;
      }
      return false;
    };
    _this._handleStartShouldSetResponderCapture = function (e) {
      if (_this._isAnimating()) {
        return true;
      }
      if (_this.props.disableScrollViewPanResponder === true) {
        return false;
      }
      var keyboardShouldPersistTaps = _this.props.keyboardShouldPersistTaps;
      var keyboardNeverPersistTaps = !keyboardShouldPersistTaps || keyboardShouldPersistTaps === 'never';
      if (typeof e.target === 'number') {
        if (__DEV__) {
          console.error('Did not expect event target to be a number. Should have been a native component');
        }
        return false;
      }
      if (keyboardNeverPersistTaps && _this._keyboardIsDismissible() && e.target != null && !_TextInputState.default.isTextInput(e.target)) {
        return true;
      }
      return false;
    };
    _this._keyboardIsDismissible = function () {
      var currentlyFocusedInput = _TextInputState.default.currentlyFocusedInput();
      var hasFocusedTextInput = currentlyFocusedInput != null && _TextInputState.default.isTextInput(currentlyFocusedInput);
      var softKeyboardMayBeOpen = _this._keyboardWillOpenTo != null || _Platform.default.OS === 'android';
      return hasFocusedTextInput && softKeyboardMayBeOpen;
    };
    _this._handleTouchEnd = function (e) {
      var nativeEvent = e.nativeEvent;
      _this._isTouching = nativeEvent.touches.length !== 0;
      _this.props.onTouchEnd && _this.props.onTouchEnd(e);
    };
    _this._handleTouchCancel = function (e) {
      _this._isTouching = false;
      _this.props.onTouchCancel && _this.props.onTouchCancel(e);
    };
    _this._handleTouchStart = function (e) {
      _this._isTouching = true;
      _this.props.onTouchStart && _this.props.onTouchStart(e);
    };
    _this._handleTouchMove = function (e) {
      _this.props.onTouchMove && _this.props.onTouchMove(e);
    };
    _this._scrollAnimatedValue = new _AnimatedImplementation.default.Value((_this$props$contentOf = (_this$props$contentOf2 = _this.props.contentOffset) == null ? void 0 : _this$props$contentOf2.y) != null ? _this$props$contentOf : 0);
    _this._scrollAnimatedValue.setOffset((_this$props$contentIn = (_this$props$contentIn2 = _this.props.contentInset) == null ? void 0 : _this$props$contentIn2.top) != null ? _this$props$contentIn : 0);
    return _this;
  }
  (0, _createClass2.default)(ScrollView, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      if (typeof this.props.keyboardShouldPersistTaps === 'boolean') {
        console.warn("'keyboardShouldPersistTaps={" + (this.props.keyboardShouldPersistTaps === true ? 'true' : 'false') + "}' is deprecated. " + ("Use 'keyboardShouldPersistTaps=\"" + (this.props.keyboardShouldPersistTaps ? 'always' : 'never') + "\"' instead"));
      }
      this._keyboardWillOpenTo = null;
      this._additionalScrollOffset = 0;
      this._subscriptionKeyboardWillShow = _Keyboard.default.addListener('keyboardWillShow', this.scrollResponderKeyboardWillShow);
      this._subscriptionKeyboardWillHide = _Keyboard.default.addListener('keyboardWillHide', this.scrollResponderKeyboardWillHide);
      this._subscriptionKeyboardDidShow = _Keyboard.default.addListener('keyboardDidShow', this.scrollResponderKeyboardDidShow);
      this._subscriptionKeyboardDidHide = _Keyboard.default.addListener('keyboardDidHide', this.scrollResponderKeyboardDidHide);
      this._updateAnimatedNodeAttachment();
    }
  }, {
    key: "componentDidUpdate",
    value: function componentDidUpdate(prevProps) {
      var prevContentInsetTop = prevProps.contentInset ? prevProps.contentInset.top : 0;
      var newContentInsetTop = this.props.contentInset ? this.props.contentInset.top : 0;
      if (prevContentInsetTop !== newContentInsetTop) {
        this._scrollAnimatedValue.setOffset(newContentInsetTop || 0);
      }
      this._updateAnimatedNodeAttachment();
    }
  }, {
    key: "componentWillUnmount",
    value: function componentWillUnmount() {
      if (this._subscriptionKeyboardWillShow != null) {
        this._subscriptionKeyboardWillShow.remove();
      }
      if (this._subscriptionKeyboardWillHide != null) {
        this._subscriptionKeyboardWillHide.remove();
      }
      if (this._subscriptionKeyboardDidShow != null) {
        this._subscriptionKeyboardDidShow.remove();
      }
      if (this._subscriptionKeyboardDidHide != null) {
        this._subscriptionKeyboardDidHide.remove();
      }
      if (this._scrollAnimatedValueAttachment) {
        this._scrollAnimatedValueAttachment.detach();
      }
    }
  }, {
    key: "_textInputFocusError",
    value: function _textInputFocusError() {
      console.warn('Error measuring text field.');
    }
  }, {
    key: "_getKeyForIndex",
    value: function _getKeyForIndex(index, childArray) {
      var child = childArray[index];
      return child && child.key;
    }
  }, {
    key: "_updateAnimatedNodeAttachment",
    value: function _updateAnimatedNodeAttachment() {
      if (this._scrollAnimatedValueAttachment) {
        this._scrollAnimatedValueAttachment.detach();
      }
      if (this.props.stickyHeaderIndices && this.props.stickyHeaderIndices.length > 0) {
        this._scrollAnimatedValueAttachment = _AnimatedImplementation.default.attachNativeEvent(this._scrollViewRef, 'onScroll', [{
          nativeEvent: {
            contentOffset: {
              y: this._scrollAnimatedValue
            }
          }
        }]);
      }
    }
  }, {
    key: "_setStickyHeaderRef",
    value: function _setStickyHeaderRef(key, ref) {
      if (ref) {
        this._stickyHeaderRefs.set(key, ref);
      } else {
        this._stickyHeaderRefs.delete(key);
      }
    }
  }, {
    key: "_onStickyHeaderLayout",
    value: function _onStickyHeaderLayout(index, event, key) {
      var stickyHeaderIndices = this.props.stickyHeaderIndices;
      if (!stickyHeaderIndices) {
        return;
      }
      var childArray = React.Children.toArray(this.props.children);
      if (key !== this._getKeyForIndex(index, childArray)) {
        return;
      }
      var layoutY = event.nativeEvent.layout.y;
      this._headerLayoutYs.set(key, layoutY);
      var indexOfIndex = stickyHeaderIndices.indexOf(index);
      var previousHeaderIndex = stickyHeaderIndices[indexOfIndex - 1];
      if (previousHeaderIndex != null) {
        var previousHeader = this._stickyHeaderRefs.get(this._getKeyForIndex(previousHeaderIndex, childArray));
        previousHeader && previousHeader.setNextHeaderY && previousHeader.setNextHeaderY(layoutY);
      }
    }
  }, {
    key: "render",
    value: function render() {
      var _this2 = this;
      var _ref2 = this.props.horizontal === true ? NativeHorizontalScrollViewTuple : NativeVerticalScrollViewTuple,
        _ref3 = (0, _slicedToArray2.default)(_ref2, 2),
        NativeDirectionalScrollView = _ref3[0],
        NativeDirectionalScrollContentView = _ref3[1];
      var contentContainerStyle = [this.props.horizontal === true && styles.contentContainerHorizontal, this.props.contentContainerStyle];
      if (__DEV__ && this.props.style !== undefined) {
        var style = (0, _flattenStyle.default)(this.props.style);
        var childLayoutProps = ['alignItems', 'justifyContent'].filter(function (prop) {
          return style && style[prop] !== undefined;
        });
        (0, _invariant.default)(childLayoutProps.length === 0, 'ScrollView child layout (' + JSON.stringify(childLayoutProps) + ') must be applied through the contentContainerStyle prop.');
      }
      var contentSizeChangeProps = this.props.onContentSizeChange == null ? null : {
        onLayout: this._handleContentOnLayout
      };
      var stickyHeaderIndices = this.props.stickyHeaderIndices;
      var children = this.props.children;
      if (stickyHeaderIndices != null && stickyHeaderIndices.length > 0) {
        var childArray = React.Children.toArray(this.props.children);
        children = childArray.map(function (child, index) {
          var indexOfIndex = child ? stickyHeaderIndices.indexOf(index) : -1;
          if (indexOfIndex > -1) {
            var key = child.key;
            var nextIndex = stickyHeaderIndices[indexOfIndex + 1];
            var StickyHeaderComponent = _this2.props.StickyHeaderComponent || _ScrollViewStickyHeader.default;
            return (0, _jsxRuntime.jsx)(StickyHeaderComponent, {
              nativeID: 'StickyHeader-' + key,
              ref: function ref(_ref4) {
                return _this2._setStickyHeaderRef(key, _ref4);
              },
              nextHeaderLayoutY: _this2._headerLayoutYs.get(_this2._getKeyForIndex(nextIndex, childArray)),
              onLayout: function onLayout(event) {
                return _this2._onStickyHeaderLayout(index, event, key);
              },
              scrollAnimatedValue: _this2._scrollAnimatedValue,
              inverted: _this2.props.invertStickyHeaders,
              hiddenOnScroll: _this2.props.stickyHeaderHiddenOnScroll,
              scrollViewHeight: _this2.state.layoutHeight,
              children: child
            }, key);
          } else {
            return child;
          }
        });
      }
      children = (0, _jsxRuntime.jsx)(_ScrollViewContext.default.Provider, {
        value: this.props.horizontal === true ? _ScrollViewContext.HORIZONTAL : _ScrollViewContext.VERTICAL,
        children: children
      });
      var hasStickyHeaders = Array.isArray(stickyHeaderIndices) && stickyHeaderIndices.length > 0;
      var contentContainer = (0, _jsxRuntime.jsx)(NativeDirectionalScrollContentView, (0, _extends2.default)({}, contentSizeChangeProps, {
        ref: this._setInnerViewRef,
        style: contentContainerStyle,
        removeClippedSubviews: _Platform.default.OS === 'android' && hasStickyHeaders ? false : this.props.removeClippedSubviews,
        collapsable: false,
        children: children
      }));
      var alwaysBounceHorizontal = this.props.alwaysBounceHorizontal !== undefined ? this.props.alwaysBounceHorizontal : this.props.horizontal;
      var alwaysBounceVertical = this.props.alwaysBounceVertical !== undefined ? this.props.alwaysBounceVertical : !this.props.horizontal;
      var baseStyle = this.props.horizontal === true ? styles.baseHorizontal : styles.baseVertical;
      var props = (0, _extends2.default)({}, this.props, {
        alwaysBounceHorizontal: alwaysBounceHorizontal,
        alwaysBounceVertical: alwaysBounceVertical,
        style: _StyleSheet.default.compose(baseStyle, this.props.style),
        onContentSizeChange: null,
        onLayout: this._handleLayout,
        onMomentumScrollBegin: this._handleMomentumScrollBegin,
        onMomentumScrollEnd: this._handleMomentumScrollEnd,
        onResponderGrant: this._handleResponderGrant,
        onResponderReject: this._handleResponderReject,
        onResponderRelease: this._handleResponderRelease,
        onResponderTerminationRequest: this._handleResponderTerminationRequest,
        onScrollBeginDrag: this._handleScrollBeginDrag,
        onScrollEndDrag: this._handleScrollEndDrag,
        onScrollShouldSetResponder: this._handleScrollShouldSetResponder,
        onStartShouldSetResponder: this._handleStartShouldSetResponder,
        onStartShouldSetResponderCapture: this._handleStartShouldSetResponderCapture,
        onTouchEnd: this._handleTouchEnd,
        onTouchMove: this._handleTouchMove,
        onTouchStart: this._handleTouchStart,
        onTouchCancel: this._handleTouchCancel,
        onScroll: this._handleScroll,
        scrollEventThrottle: hasStickyHeaders ? 1 : this.props.scrollEventThrottle,
        sendMomentumEvents: this.props.onMomentumScrollBegin || this.props.onMomentumScrollEnd ? true : false,
        snapToStart: this.props.snapToStart !== false,
        snapToEnd: this.props.snapToEnd !== false,
        pagingEnabled: _Platform.default.select({
          ios: this.props.pagingEnabled === true && this.props.snapToInterval == null && this.props.snapToOffsets == null,
          android: this.props.pagingEnabled === true || this.props.snapToInterval != null || this.props.snapToOffsets != null
        })
      });
      var decelerationRate = this.props.decelerationRate;
      if (decelerationRate != null) {
        props.decelerationRate = (0, _processDecelerationRate.default)(decelerationRate);
      }
      var refreshControl = this.props.refreshControl;
      if (refreshControl) {
        if (_Platform.default.OS === 'ios') {
          return (0, _jsxRuntime.jsxs)(NativeDirectionalScrollView, (0, _extends2.default)({}, props, {
            ref: this._setNativeRef,
            children: [refreshControl, contentContainer]
          }));
        } else if (_Platform.default.OS === 'android') {
          var _splitLayoutProps = (0, _splitLayoutProps2.default)((0, _flattenStyle.default)(props.style)),
            outer = _splitLayoutProps.outer,
            inner = _splitLayoutProps.inner;
          return React.cloneElement(refreshControl, {
            style: _StyleSheet.default.compose(baseStyle, outer)
          }, (0, _jsxRuntime.jsx)(NativeDirectionalScrollView, (0, _extends2.default)({}, props, {
            style: _StyleSheet.default.compose(baseStyle, inner),
            ref: this._setNativeRef,
            children: contentContainer
          })));
        }
      }
      return (0, _jsxRuntime.jsx)(NativeDirectionalScrollView, (0, _extends2.default)({}, props, {
        ref: this._setNativeRef,
        children: contentContainer
      }));
    }
  }]);
  return ScrollView;
}(React.Component);
ScrollView.Context = _ScrollViewContext.default;
var styles = _StyleSheet.default.create({
  baseVertical: {
    flexGrow: 1,
    flexShrink: 1,
    flexDirection: 'column',
    overflow: 'scroll'
  },
  baseHorizontal: {
    flexGrow: 1,
    flexShrink: 1,
    flexDirection: 'row',
    overflow: 'scroll'
  },
  contentContainerHorizontal: {
    flexDirection: 'row'
  }
});
function Wrapper(props, ref) {
  return (0, _jsxRuntime.jsx)(ScrollView, (0, _extends2.default)({}, props, {
    scrollViewRef: ref
  }));
}
Wrapper.displayName = 'ScrollView';
var ForwardedScrollView = React.forwardRef(Wrapper);
ForwardedScrollView.Context = _ScrollViewContext.default;
ForwardedScrollView.displayName = 'ScrollView';
module.exports = ForwardedScrollView;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfQW5pbWF0ZWRJbXBsZW1lbnRhdGlvbiIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX0RpbWVuc2lvbnMiLCJfUGxhdGZvcm0iLCJSZWFjdCIsIl9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkIiwiX1JlYWN0TmF0aXZlIiwiX1Njcm9sbFZpZXdTdGlja3lIZWFkZXIiLCJfU3R5bGVTaGVldCIsIl9WaWV3IiwiX1VJTWFuYWdlciIsIl9LZXlib2FyZCIsIl9GcmFtZVJhdGVMb2dnZXIiLCJfVGV4dElucHV0U3RhdGUiLCJfZGlzbWlzc0tleWJvYXJkIiwiX2ZsYXR0ZW5TdHlsZSIsIl9pbnZhcmlhbnQiLCJfcHJvY2Vzc0RlY2VsZXJhdGlvblJhdGUiLCJfc3BsaXRMYXlvdXRQcm9wczIiLCJfc2V0QW5kRm9yd2FyZFJlZiIsIl9TY3JvbGxWaWV3Q29udGV4dCIsIl9TY3JvbGxWaWV3Q29tbWFuZHMiLCJfQW5kcm9pZEhvcml6b250YWxTY3JvbGxDb250ZW50Vmlld05hdGl2ZUNvbXBvbmVudCIsIl9BbmRyb2lkSG9yaXpvbnRhbFNjcm9sbFZpZXdOYXRpdmVDb21wb25lbnQiLCJfU2Nyb2xsQ29udGVudFZpZXdOYXRpdmVDb21wb25lbnQiLCJfU2Nyb2xsVmlld05hdGl2ZUNvbXBvbmVudCIsIl9qc3hSdW50aW1lIiwiX2dldFJlcXVpcmVXaWxkY2FyZENhY2hlIiwibm9kZUludGVyb3AiLCJXZWFrTWFwIiwiY2FjaGVCYWJlbEludGVyb3AiLCJjYWNoZU5vZGVJbnRlcm9wIiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJjYWNoZSIsImhhcyIsImdldCIsIm5ld09iaiIsImhhc1Byb3BlcnR5RGVzY3JpcHRvciIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwia2V5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiZGVzYyIsInNldCIsIl9jcmVhdGVTdXBlciIsIkRlcml2ZWQiLCJoYXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0IiwiX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCIsIl9jcmVhdGVTdXBlckludGVybmFsIiwiU3VwZXIiLCJfZ2V0UHJvdG90eXBlT2YyIiwicmVzdWx0IiwiTmV3VGFyZ2V0IiwiY29uc3RydWN0b3IiLCJSZWZsZWN0IiwiY29uc3RydWN0IiwiYXJndW1lbnRzIiwiYXBwbHkiLCJfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIiLCJzaGFtIiwiUHJveHkiLCJCb29sZWFuIiwidmFsdWVPZiIsImUiLCJfcmVmIiwiUGxhdGZvcm0iLCJPUyIsIk5hdGl2ZUhvcml6b250YWxTY3JvbGxWaWV3VHVwbGUiLCJBbmRyb2lkSG9yaXpvbnRhbFNjcm9sbFZpZXdOYXRpdmVDb21wb25lbnQiLCJBbmRyb2lkSG9yaXpvbnRhbFNjcm9sbENvbnRlbnRWaWV3TmF0aXZlQ29tcG9uZW50IiwiTmF0aXZlVmVydGljYWxTY3JvbGxWaWV3VHVwbGUiLCJTY3JvbGxWaWV3TmF0aXZlQ29tcG9uZW50IiwiVmlldyIsIlNjcm9sbENvbnRlbnRWaWV3TmF0aXZlQ29tcG9uZW50IiwiSVNfQU5JTUFUSU5HX1RPVUNIX1NUQVJUX1RIUkVTSE9MRF9NUyIsIlNjcm9sbFZpZXciLCJfUmVhY3QkQ29tcG9uZW50IiwiX2luaGVyaXRzMiIsIl9zdXBlciIsInByb3BzIiwiX3RoaXMkcHJvcHMkY29udGVudE9mIiwiX3RoaXMkcHJvcHMkY29udGVudE9mMiIsIl90aGlzJHByb3BzJGNvbnRlbnRJbiIsIl90aGlzJHByb3BzJGNvbnRlbnRJbjIiLCJfdGhpcyIsIl9jbGFzc0NhbGxDaGVjazIiLCJfc2Nyb2xsQW5pbWF0ZWRWYWx1ZUF0dGFjaG1lbnQiLCJfc3RpY2t5SGVhZGVyUmVmcyIsIk1hcCIsIl9oZWFkZXJMYXlvdXRZcyIsIl9rZXlib2FyZFdpbGxPcGVuVG8iLCJfYWRkaXRpb25hbFNjcm9sbE9mZnNldCIsIl9pc1RvdWNoaW5nIiwiX2xhc3RNb21lbnR1bVNjcm9sbEJlZ2luVGltZSIsIl9sYXN0TW9tZW50dW1TY3JvbGxFbmRUaW1lIiwiX29ic2VydmVkU2Nyb2xsU2luY2VCZWNvbWluZ1Jlc3BvbmRlciIsIl9iZWNhbWVSZXNwb25kZXJXaGlsZUFuaW1hdGluZyIsIl9wcmV2ZW50TmVnYXRpdmVTY3JvbGxPZmZzZXQiLCJfYW5pbWF0ZWQiLCJfc3Vic2NyaXB0aW9uS2V5Ym9hcmRXaWxsU2hvdyIsIl9zdWJzY3JpcHRpb25LZXlib2FyZFdpbGxIaWRlIiwiX3N1YnNjcmlwdGlvbktleWJvYXJkRGlkU2hvdyIsIl9zdWJzY3JpcHRpb25LZXlib2FyZERpZEhpZGUiLCJzdGF0ZSIsImxheW91dEhlaWdodCIsIl9zZXROYXRpdmVSZWYiLCJzZXRBbmRGb3J3YXJkUmVmIiwiZ2V0Rm9yd2FyZGVkUmVmIiwic2Nyb2xsVmlld1JlZiIsInNldExvY2FsUmVmIiwicmVmIiwiX3Njcm9sbFZpZXdSZWYiLCJnZXRTY3JvbGxSZXNwb25kZXIiLCJnZXRTY3JvbGxhYmxlTm9kZSIsImdldElubmVyVmlld05vZGUiLCJnZXRJbm5lclZpZXdSZWYiLCJnZXROYXRpdmVTY3JvbGxSZWYiLCJzY3JvbGxUbyIsInNjcm9sbFRvRW5kIiwiZmxhc2hTY3JvbGxJbmRpY2F0b3JzIiwic2Nyb2xsUmVzcG9uZGVyWm9vbVRvIiwic2Nyb2xsUmVzcG9uZGVyU2Nyb2xsTmF0aXZlSGFuZGxlVG9LZXlib2FyZCIsIl9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQyIiwiUmVhY3ROYXRpdmUiLCJmaW5kTm9kZUhhbmRsZSIsIl9pbm5lclZpZXdSZWYiLCJvcHRpb25zIiwiZGVwcmVjYXRlZFgiLCJkZXByZWNhdGVkQW5pbWF0ZWQiLCJ4IiwieSIsImFuaW1hdGVkIiwiY29uc29sZSIsIndhcm4iLCJDb21tYW5kcyIsIm5vZGVIYW5kbGUiLCJhZGRpdGlvbmFsT2Zmc2V0IiwicHJldmVudE5lZ2F0aXZlU2Nyb2xsT2Zmc2V0IiwiVUlNYW5hZ2VyIiwibWVhc3VyZUxheW91dCIsIl90ZXh0SW5wdXRGb2N1c0Vycm9yIiwiX2lucHV0TWVhc3VyZUFuZFNjcm9sbFRvS2V5Ym9hcmQiLCJyZWN0IiwiaW52YXJpYW50Iiwiem9vbVRvUmVjdCIsImxlZnQiLCJ0b3AiLCJ3aWR0aCIsImhlaWdodCIsImtleWJvYXJkU2NyZWVuWSIsIkRpbWVuc2lvbnMiLCJzY3JvbGxUZXh0SW5wdXRJbnRvVmlzaWJsZVJlY3QiLCJlbmRDb29yZGluYXRlcyIsInNjcmVlblkiLCJzY3JvbGxPZmZzZXRZIiwiTWF0aCIsIm1heCIsInNldFRpbWVvdXQiLCJfaGFuZGxlU2Nyb2xsIiwiX19ERVZfXyIsIm9uU2Nyb2xsIiwic2Nyb2xsRXZlbnRUaHJvdHRsZSIsImxvZyIsImtleWJvYXJkRGlzbWlzc01vZGUiLCJkaXNtaXNzS2V5Ym9hcmQiLCJfaGFuZGxlTGF5b3V0IiwiaW52ZXJ0U3RpY2t5SGVhZGVycyIsInNldFN0YXRlIiwibmF0aXZlRXZlbnQiLCJsYXlvdXQiLCJvbkxheW91dCIsIl9oYW5kbGVDb250ZW50T25MYXlvdXQiLCJfZSRuYXRpdmVFdmVudCRsYXlvdXQiLCJvbkNvbnRlbnRTaXplQ2hhbmdlIiwiX3NldElubmVyVmlld1JlZiIsImlubmVyVmlld1JlZiIsInNjcm9sbFJlc3BvbmRlcktleWJvYXJkV2lsbFNob3ciLCJvbktleWJvYXJkV2lsbFNob3ciLCJzY3JvbGxSZXNwb25kZXJLZXlib2FyZFdpbGxIaWRlIiwib25LZXlib2FyZFdpbGxIaWRlIiwic2Nyb2xsUmVzcG9uZGVyS2V5Ym9hcmREaWRTaG93Iiwib25LZXlib2FyZERpZFNob3ciLCJzY3JvbGxSZXNwb25kZXJLZXlib2FyZERpZEhpZGUiLCJvbktleWJvYXJkRGlkSGlkZSIsIl9oYW5kbGVNb21lbnR1bVNjcm9sbEJlZ2luIiwiZ2xvYmFsIiwicGVyZm9ybWFuY2UiLCJub3ciLCJvbk1vbWVudHVtU2Nyb2xsQmVnaW4iLCJfaGFuZGxlTW9tZW50dW1TY3JvbGxFbmQiLCJGcmFtZVJhdGVMb2dnZXIiLCJlbmRTY3JvbGwiLCJvbk1vbWVudHVtU2Nyb2xsRW5kIiwiX2hhbmRsZVNjcm9sbEJlZ2luRHJhZyIsImJlZ2luU2Nyb2xsIiwib25TY3JvbGxCZWdpbkRyYWciLCJfaGFuZGxlU2Nyb2xsRW5kRHJhZyIsInZlbG9jaXR5IiwiX2lzQW5pbWF0aW5nIiwib25TY3JvbGxFbmREcmFnIiwidGltZVNpbmNlTGFzdE1vbWVudHVtU2Nyb2xsRW5kIiwiaXNBbmltYXRpbmciLCJfaGFuZGxlUmVzcG9uZGVyR3JhbnQiLCJvblJlc3BvbmRlckdyYW50IiwiX2hhbmRsZVJlc3BvbmRlclJlamVjdCIsIl9oYW5kbGVSZXNwb25kZXJSZWxlYXNlIiwidG91Y2hlcyIsImxlbmd0aCIsIm9uUmVzcG9uZGVyUmVsZWFzZSIsInRhcmdldCIsImVycm9yIiwiY3VycmVudGx5Rm9jdXNlZFRleHRJbnB1dCIsIlRleHRJbnB1dFN0YXRlIiwiY3VycmVudGx5Rm9jdXNlZElucHV0Iiwia2V5Ym9hcmRTaG91bGRQZXJzaXN0VGFwcyIsIl9rZXlib2FyZElzRGlzbWlzc2libGUiLCJibHVyVGV4dElucHV0IiwiX2hhbmRsZVJlc3BvbmRlclRlcm1pbmF0aW9uUmVxdWVzdCIsIl9oYW5kbGVTY3JvbGxTaG91bGRTZXRSZXNwb25kZXIiLCJkaXNhYmxlU2Nyb2xsVmlld1BhblJlc3BvbmRlciIsIl9oYW5kbGVTdGFydFNob3VsZFNldFJlc3BvbmRlciIsIl9oYW5kbGVTdGFydFNob3VsZFNldFJlc3BvbmRlckNhcHR1cmUiLCJrZXlib2FyZE5ldmVyUGVyc2lzdFRhcHMiLCJpc1RleHRJbnB1dCIsImhhc0ZvY3VzZWRUZXh0SW5wdXQiLCJzb2Z0S2V5Ym9hcmRNYXlCZU9wZW4iLCJfaGFuZGxlVG91Y2hFbmQiLCJvblRvdWNoRW5kIiwiX2hhbmRsZVRvdWNoQ2FuY2VsIiwib25Ub3VjaENhbmNlbCIsIl9oYW5kbGVUb3VjaFN0YXJ0Iiwib25Ub3VjaFN0YXJ0IiwiX2hhbmRsZVRvdWNoTW92ZSIsIm9uVG91Y2hNb3ZlIiwiX3Njcm9sbEFuaW1hdGVkVmFsdWUiLCJBbmltYXRlZEltcGxlbWVudGF0aW9uIiwiVmFsdWUiLCJjb250ZW50T2Zmc2V0Iiwic2V0T2Zmc2V0IiwiY29udGVudEluc2V0IiwiX2NyZWF0ZUNsYXNzMiIsInZhbHVlIiwiY29tcG9uZW50RGlkTW91bnQiLCJLZXlib2FyZCIsImFkZExpc3RlbmVyIiwiX3VwZGF0ZUFuaW1hdGVkTm9kZUF0dGFjaG1lbnQiLCJjb21wb25lbnREaWRVcGRhdGUiLCJwcmV2UHJvcHMiLCJwcmV2Q29udGVudEluc2V0VG9wIiwibmV3Q29udGVudEluc2V0VG9wIiwiY29tcG9uZW50V2lsbFVubW91bnQiLCJyZW1vdmUiLCJkZXRhY2giLCJfZ2V0S2V5Rm9ySW5kZXgiLCJpbmRleCIsImNoaWxkQXJyYXkiLCJjaGlsZCIsInN0aWNreUhlYWRlckluZGljZXMiLCJhdHRhY2hOYXRpdmVFdmVudCIsIl9zZXRTdGlja3lIZWFkZXJSZWYiLCJkZWxldGUiLCJfb25TdGlja3lIZWFkZXJMYXlvdXQiLCJldmVudCIsIkNoaWxkcmVuIiwidG9BcnJheSIsImNoaWxkcmVuIiwibGF5b3V0WSIsImluZGV4T2ZJbmRleCIsImluZGV4T2YiLCJwcmV2aW91c0hlYWRlckluZGV4IiwicHJldmlvdXNIZWFkZXIiLCJzZXROZXh0SGVhZGVyWSIsInJlbmRlciIsIl90aGlzMiIsIl9yZWYyIiwiaG9yaXpvbnRhbCIsIl9yZWYzIiwiX3NsaWNlZFRvQXJyYXkyIiwiTmF0aXZlRGlyZWN0aW9uYWxTY3JvbGxWaWV3IiwiTmF0aXZlRGlyZWN0aW9uYWxTY3JvbGxDb250ZW50VmlldyIsImNvbnRlbnRDb250YWluZXJTdHlsZSIsInN0eWxlcyIsImNvbnRlbnRDb250YWluZXJIb3Jpem9udGFsIiwic3R5bGUiLCJ1bmRlZmluZWQiLCJmbGF0dGVuU3R5bGUiLCJjaGlsZExheW91dFByb3BzIiwiZmlsdGVyIiwicHJvcCIsIkpTT04iLCJzdHJpbmdpZnkiLCJjb250ZW50U2l6ZUNoYW5nZVByb3BzIiwibWFwIiwibmV4dEluZGV4IiwiU3RpY2t5SGVhZGVyQ29tcG9uZW50IiwiU2Nyb2xsVmlld1N0aWNreUhlYWRlciIsImpzeCIsIm5hdGl2ZUlEIiwibmV4dEhlYWRlckxheW91dFkiLCJzY3JvbGxBbmltYXRlZFZhbHVlIiwiaW52ZXJ0ZWQiLCJoaWRkZW5PblNjcm9sbCIsInN0aWNreUhlYWRlckhpZGRlbk9uU2Nyb2xsIiwic2Nyb2xsVmlld0hlaWdodCIsIlByb3ZpZGVyIiwiSE9SSVpPTlRBTCIsIlZFUlRJQ0FMIiwiaGFzU3RpY2t5SGVhZGVycyIsIkFycmF5IiwiaXNBcnJheSIsImNvbnRlbnRDb250YWluZXIiLCJfZXh0ZW5kczIiLCJyZW1vdmVDbGlwcGVkU3Vidmlld3MiLCJjb2xsYXBzYWJsZSIsImFsd2F5c0JvdW5jZUhvcml6b250YWwiLCJhbHdheXNCb3VuY2VWZXJ0aWNhbCIsImJhc2VTdHlsZSIsImJhc2VIb3Jpem9udGFsIiwiYmFzZVZlcnRpY2FsIiwiU3R5bGVTaGVldCIsImNvbXBvc2UiLCJvblJlc3BvbmRlclJlamVjdCIsIm9uUmVzcG9uZGVyVGVybWluYXRpb25SZXF1ZXN0Iiwib25TY3JvbGxTaG91bGRTZXRSZXNwb25kZXIiLCJvblN0YXJ0U2hvdWxkU2V0UmVzcG9uZGVyIiwib25TdGFydFNob3VsZFNldFJlc3BvbmRlckNhcHR1cmUiLCJzZW5kTW9tZW50dW1FdmVudHMiLCJzbmFwVG9TdGFydCIsInNuYXBUb0VuZCIsInBhZ2luZ0VuYWJsZWQiLCJzZWxlY3QiLCJpb3MiLCJzbmFwVG9JbnRlcnZhbCIsInNuYXBUb09mZnNldHMiLCJhbmRyb2lkIiwiZGVjZWxlcmF0aW9uUmF0ZSIsInByb2Nlc3NEZWNlbGVyYXRpb25SYXRlIiwicmVmcmVzaENvbnRyb2wiLCJqc3hzIiwiX3NwbGl0TGF5b3V0UHJvcHMiLCJzcGxpdExheW91dFByb3BzIiwib3V0ZXIiLCJpbm5lciIsImNsb25lRWxlbWVudCIsIkNvbXBvbmVudCIsIkNvbnRleHQiLCJTY3JvbGxWaWV3Q29udGV4dCIsImNyZWF0ZSIsImZsZXhHcm93IiwiZmxleFNocmluayIsImZsZXhEaXJlY3Rpb24iLCJvdmVyZmxvdyIsIldyYXBwZXIiLCJkaXNwbGF5TmFtZSIsIkZvcndhcmRlZFNjcm9sbFZpZXciLCJmb3J3YXJkUmVmIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VzIjpbIlNjcm9sbFZpZXcuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIEZhY2Vib29rLCBJbmMuIGFuZCBpdHMgYWZmaWxpYXRlcy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqXG4gKiBAZm9ybWF0XG4gKiBAZmxvdyBzdHJpY3QtbG9jYWxcbiAqL1xuXG5pbXBvcnQgQW5pbWF0ZWRJbXBsZW1lbnRhdGlvbiBmcm9tICcuLi8uLi9BbmltYXRlZC9BbmltYXRlZEltcGxlbWVudGF0aW9uJztcbmltcG9ydCBEaW1lbnNpb25zIGZyb20gJy4uLy4uL1V0aWxpdGllcy9EaW1lbnNpb25zJztcbmltcG9ydCBQbGF0Zm9ybSBmcm9tICcuLi8uLi9VdGlsaXRpZXMvUGxhdGZvcm0nO1xuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IFJlYWN0TmF0aXZlIGZyb20gJy4uLy4uL1JlbmRlcmVyL3NoaW1zL1JlYWN0TmF0aXZlJztcbnJlcXVpcmUoJy4uLy4uL1JlbmRlcmVyL3NoaW1zL1JlYWN0TmF0aXZlJyk7IC8vIEZvcmNlIHNpZGUgZWZmZWN0cyB0byBwcmV2ZW50IFQ1NTc0NDMxMVxuaW1wb3J0IFNjcm9sbFZpZXdTdGlja3lIZWFkZXIgZnJvbSAnLi9TY3JvbGxWaWV3U3RpY2t5SGVhZGVyJztcbmltcG9ydCBTdHlsZVNoZWV0IGZyb20gJy4uLy4uL1N0eWxlU2hlZXQvU3R5bGVTaGVldCc7XG5pbXBvcnQgVmlldyBmcm9tICcuLi9WaWV3L1ZpZXcnO1xuaW1wb3J0IFVJTWFuYWdlciBmcm9tICcuLi8uLi9SZWFjdE5hdGl2ZS9VSU1hbmFnZXInO1xuaW1wb3J0IEtleWJvYXJkIGZyb20gJy4uL0tleWJvYXJkL0tleWJvYXJkJztcbmltcG9ydCBGcmFtZVJhdGVMb2dnZXIgZnJvbSAnLi4vLi4vSW50ZXJhY3Rpb24vRnJhbWVSYXRlTG9nZ2VyJztcbmltcG9ydCBUZXh0SW5wdXRTdGF0ZSBmcm9tICcuLi9UZXh0SW5wdXQvVGV4dElucHV0U3RhdGUnO1xuXG5pbXBvcnQgZGlzbWlzc0tleWJvYXJkIGZyb20gJy4uLy4uL1V0aWxpdGllcy9kaXNtaXNzS2V5Ym9hcmQnO1xuaW1wb3J0IGZsYXR0ZW5TdHlsZSBmcm9tICcuLi8uLi9TdHlsZVNoZWV0L2ZsYXR0ZW5TdHlsZSc7XG5pbXBvcnQgaW52YXJpYW50IGZyb20gJ2ludmFyaWFudCc7XG5pbXBvcnQgcHJvY2Vzc0RlY2VsZXJhdGlvblJhdGUgZnJvbSAnLi9wcm9jZXNzRGVjZWxlcmF0aW9uUmF0ZSc7XG5pbXBvcnQgc3BsaXRMYXlvdXRQcm9wcyBmcm9tICcuLi8uLi9TdHlsZVNoZWV0L3NwbGl0TGF5b3V0UHJvcHMnO1xuaW1wb3J0IHNldEFuZEZvcndhcmRSZWYgZnJvbSAnLi4vLi4vVXRpbGl0aWVzL3NldEFuZEZvcndhcmRSZWYnO1xuXG5pbXBvcnQgdHlwZSB7RWRnZUluc2V0c1Byb3B9IGZyb20gJy4uLy4uL1N0eWxlU2hlZXQvRWRnZUluc2V0c1Byb3BUeXBlJztcbmltcG9ydCB0eXBlIHtQb2ludFByb3B9IGZyb20gJy4uLy4uL1N0eWxlU2hlZXQvUG9pbnRQcm9wVHlwZSc7XG5pbXBvcnQgdHlwZSB7Vmlld1N0eWxlUHJvcH0gZnJvbSAnLi4vLi4vU3R5bGVTaGVldC9TdHlsZVNoZWV0JztcbmltcG9ydCB0eXBlIHtDb2xvclZhbHVlfSBmcm9tICcuLi8uLi9TdHlsZVNoZWV0L1N0eWxlU2hlZXQnO1xuaW1wb3J0IHR5cGUge1xuICBQcmVzc0V2ZW50LFxuICBTY3JvbGxFdmVudCxcbiAgTGF5b3V0RXZlbnQsXG59IGZyb20gJy4uLy4uL1R5cGVzL0NvcmVFdmVudFR5cGVzJztcbmltcG9ydCB0eXBlIHtIb3N0Q29tcG9uZW50fSBmcm9tICcuLi8uLi9SZW5kZXJlci9zaGltcy9SZWFjdE5hdGl2ZVR5cGVzJztcbmltcG9ydCB0eXBlIHtWaWV3UHJvcHN9IGZyb20gJy4uL1ZpZXcvVmlld1Byb3BUeXBlcyc7XG5pbXBvcnQgU2Nyb2xsVmlld0NvbnRleHQsIHtIT1JJWk9OVEFMLCBWRVJUSUNBTH0gZnJvbSAnLi9TY3JvbGxWaWV3Q29udGV4dCc7XG5pbXBvcnQgdHlwZSB7UHJvcHMgYXMgU2Nyb2xsVmlld1N0aWNreUhlYWRlclByb3BzfSBmcm9tICcuL1Njcm9sbFZpZXdTdGlja3lIZWFkZXInO1xuaW1wb3J0IHR5cGUge0tleWJvYXJkRXZlbnR9IGZyb20gJy4uL0tleWJvYXJkL0tleWJvYXJkJztcbmltcG9ydCB0eXBlIHtFdmVudFN1YnNjcmlwdGlvbn0gZnJvbSAnLi4vLi4vdmVuZG9yL2VtaXR0ZXIvRXZlbnRFbWl0dGVyJztcblxuaW1wb3J0IENvbW1hbmRzIGZyb20gJy4vU2Nyb2xsVmlld0NvbW1hbmRzJztcbmltcG9ydCBBbmRyb2lkSG9yaXpvbnRhbFNjcm9sbENvbnRlbnRWaWV3TmF0aXZlQ29tcG9uZW50IGZyb20gJy4vQW5kcm9pZEhvcml6b250YWxTY3JvbGxDb250ZW50Vmlld05hdGl2ZUNvbXBvbmVudCc7XG5pbXBvcnQgQW5kcm9pZEhvcml6b250YWxTY3JvbGxWaWV3TmF0aXZlQ29tcG9uZW50IGZyb20gJy4vQW5kcm9pZEhvcml6b250YWxTY3JvbGxWaWV3TmF0aXZlQ29tcG9uZW50JztcbmltcG9ydCBTY3JvbGxDb250ZW50Vmlld05hdGl2ZUNvbXBvbmVudCBmcm9tICcuL1Njcm9sbENvbnRlbnRWaWV3TmF0aXZlQ29tcG9uZW50JztcbmltcG9ydCBTY3JvbGxWaWV3TmF0aXZlQ29tcG9uZW50IGZyb20gJy4vU2Nyb2xsVmlld05hdGl2ZUNvbXBvbmVudCc7XG5cbmNvbnN0IHtOYXRpdmVIb3Jpem9udGFsU2Nyb2xsVmlld1R1cGxlLCBOYXRpdmVWZXJ0aWNhbFNjcm9sbFZpZXdUdXBsZX0gPVxuICBQbGF0Zm9ybS5PUyA9PT0gJ2FuZHJvaWQnXG4gICAgPyB7XG4gICAgICAgIE5hdGl2ZUhvcml6b250YWxTY3JvbGxWaWV3VHVwbGU6IFtcbiAgICAgICAgICBBbmRyb2lkSG9yaXpvbnRhbFNjcm9sbFZpZXdOYXRpdmVDb21wb25lbnQsXG4gICAgICAgICAgQW5kcm9pZEhvcml6b250YWxTY3JvbGxDb250ZW50Vmlld05hdGl2ZUNvbXBvbmVudCxcbiAgICAgICAgXSxcbiAgICAgICAgTmF0aXZlVmVydGljYWxTY3JvbGxWaWV3VHVwbGU6IFtTY3JvbGxWaWV3TmF0aXZlQ29tcG9uZW50LCBWaWV3XSxcbiAgICAgIH1cbiAgICA6IHtcbiAgICAgICAgTmF0aXZlSG9yaXpvbnRhbFNjcm9sbFZpZXdUdXBsZTogW1xuICAgICAgICAgIFNjcm9sbFZpZXdOYXRpdmVDb21wb25lbnQsXG4gICAgICAgICAgU2Nyb2xsQ29udGVudFZpZXdOYXRpdmVDb21wb25lbnQsXG4gICAgICAgIF0sXG4gICAgICAgIE5hdGl2ZVZlcnRpY2FsU2Nyb2xsVmlld1R1cGxlOiBbXG4gICAgICAgICAgU2Nyb2xsVmlld05hdGl2ZUNvbXBvbmVudCxcbiAgICAgICAgICBTY3JvbGxDb250ZW50Vmlld05hdGl2ZUNvbXBvbmVudCxcbiAgICAgICAgXSxcbiAgICAgIH07XG5cbi8qXG4gKiBpT1Mgc2Nyb2xsIGV2ZW50IHRpbWluZyBudWFuY2VzOlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICpcbiAqXG4gKiBTY3JvbGxpbmcgd2l0aG91dCBib3VuY2luZywgaWYgeW91IHRvdWNoIGRvd246XG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKlxuICogMS4gYG9uTW9tZW50dW1TY3JvbGxCZWdpbmAgKHdoZW4gYW5pbWF0aW9uIGJlZ2lucyBhZnRlciBsZXR0aW5nIHVwKVxuICogICAgLi4uIHBoeXNpY2FsIHRvdWNoIHN0YXJ0cyAuLi5cbiAqIDIuIGBvblRvdWNoU3RhcnRDYXB0dXJlYCAgICh3aGVuIHlvdSBwcmVzcyBkb3duIHRvIHN0b3AgdGhlIHNjcm9sbClcbiAqIDMuIGBvblRvdWNoU3RhcnRgICAgICAgICAgIChzYW1lLCBidXQgYnViYmxlIHBoYXNlKVxuICogNC4gYG9uUmVzcG9uZGVyUmVsZWFzZWAgICAgKHdoZW4gbGlmdGluZyB1cCAtIHlvdSBjb3VsZCBwYXVzZSBmb3JldmVyIGJlZm9yZSAqIGxpZnRpbmcpXG4gKiA1LiBgb25Nb21lbnR1bVNjcm9sbEVuZGBcbiAqXG4gKlxuICogU2Nyb2xsaW5nIHdpdGggYm91bmNpbmcsIGlmIHlvdSB0b3VjaCBkb3duOlxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICpcbiAqIDEuIGBvbk1vbWVudHVtU2Nyb2xsQmVnaW5gICh3aGVuIGFuaW1hdGlvbiBiZWdpbnMgYWZ0ZXIgbGV0dGluZyB1cClcbiAqICAgIC4uLiBib3VuY2UgYmVnaW5zIC4uLlxuICogICAgLi4uIHNvbWUgdGltZSBlbGFwc2VzIC4uLlxuICogICAgLi4uIHBoeXNpY2FsIHRvdWNoIGR1cmluZyBib3VuY2UgLi4uXG4gKiAyLiBgb25Nb21lbnR1bVNjcm9sbEVuZGAgICAoTWFrZXMgbm8gc2Vuc2Ugd2h5IHRoaXMgb2NjdXJzIGZpcnN0IGR1cmluZyBib3VuY2UpXG4gKiAzLiBgb25Ub3VjaFN0YXJ0Q2FwdHVyZWAgICAoaW1tZWRpYXRlbHkgYWZ0ZXIgYG9uTW9tZW50dW1TY3JvbGxFbmRgKVxuICogNC4gYG9uVG91Y2hTdGFydGAgICAgICAgICAgKHNhbWUsIGJ1dCBidWJibGUgcGhhc2UpXG4gKiA1LiBgb25Ub3VjaEVuZGAgICAgICAgICAgICAoWW91IGNvdWxkIGhvbGQgdGhlIHRvdWNoIHN0YXJ0IGZvciBhIGxvbmcgdGltZSlcbiAqIDYuIGBvbk1vbWVudHVtU2Nyb2xsQmVnaW5gIChXaGVuIHJlbGVhc2luZyB0aGUgdmlldyBzdGFydHMgYm91bmNpbmcgYmFjaylcbiAqXG4gKiBTbyB3aGVuIHdlIHJlY2VpdmUgYW4gYG9uVG91Y2hTdGFydGAsIGhvdyBjYW4gd2UgdGVsbCBpZiB3ZSBhcmUgdG91Y2hpbmdcbiAqICpkdXJpbmcqIGFuIGFuaW1hdGlvbiAod2hpY2ggdGhlbiBjYXVzZXMgdGhlIGFuaW1hdGlvbiB0byBzdG9wKT8gVGhlIG9ubHkgd2F5XG4gKiB0byB0ZWxsIGlzIGlmIHRoZSBgdG91Y2hTdGFydGAgb2NjdXJyZWQgaW1tZWRpYXRlbHkgYWZ0ZXIgdGhlXG4gKiBgb25Nb21lbnR1bVNjcm9sbEVuZGAuXG4gKlxuICogVGhpcyBpcyBhYnN0cmFjdGVkIG91dCBmb3IgeW91LCBzbyB5b3UgY2FuIGp1c3QgY2FsbCB0aGlzLnNjcm9sbFJlc3BvbmRlcklzQW5pbWF0aW5nKCkgaWZcbiAqIG5lY2Vzc2FyeVxuICpcbiAqIGBTY3JvbGxWaWV3YCBhbHNvIGluY2x1ZGVzIGxvZ2ljIGZvciBibHVycmluZyBhIGN1cnJlbnRseSBmb2N1c2VkIGlucHV0XG4gKiBpZiBvbmUgaXMgZm9jdXNlZCB3aGlsZSBzY3JvbGxpbmcuIFRoaXMgaXMgYSBuYXR1cmFsIHBsYWNlXG4gKiB0byBwdXQgdGhpcyBsb2dpYyBzaW5jZSBpdCBjYW4gc3VwcG9ydCBub3QgZGlzbWlzc2luZyB0aGUga2V5Ym9hcmQgd2hpbGVcbiAqIHNjcm9sbGluZywgdW5sZXNzIGEgcmVjb2duaXplZCBcInRhcFwiLWxpa2UgZ2VzdHVyZSBoYXMgb2NjdXJyZWQuXG4gKlxuICogVGhlIHB1YmxpYyBsaWZlY3ljbGUgQVBJIGluY2x1ZGVzIGV2ZW50cyBmb3Iga2V5Ym9hcmQgaW50ZXJhY3Rpb24sIHJlc3BvbmRlclxuICogaW50ZXJhY3Rpb24sIGFuZCBzY3JvbGxpbmcgKGFtb25nIG90aGVycykuIFRoZSBrZXlib2FyZCBjYWxsYmFja3NcbiAqIGBvbktleWJvYXJkV2lsbC9EaWQvKmAgYXJlICpnbG9iYWwqIGV2ZW50cywgYnV0IGFyZSBpbnZva2VkIG9uIHNjcm9sbFxuICogcmVzcG9uZGVyJ3MgcHJvcHMgc28gdGhhdCB5b3UgY2FuIGd1YXJhbnRlZSB0aGF0IHRoZSBzY3JvbGwgcmVzcG9uZGVyJ3NcbiAqIGludGVybmFsIHN0YXRlIGhhcyBiZWVuIHVwZGF0ZWQgYWNjb3JkaW5nbHkgKGFuZCBkZXRlcm1pbmlzdGljYWxseSkgYnlcbiAqIHRoZSB0aW1lIHRoZSBwcm9wcyBjYWxsYmFja3MgYXJlIGludm9rZS4gT3RoZXJ3aXNlLCB5b3Ugd291bGQgYWx3YXlzIHdvbmRlclxuICogaWYgdGhlIHNjcm9sbCByZXNwb25kZXIgaXMgY3VycmVudGx5IGluIGEgc3RhdGUgd2hlcmUgaXQgcmVjb2duaXplcyBuZXdcbiAqIGtleWJvYXJkIHBvc2l0aW9ucyBldGMuIElmIGNvb3JkaW5hdGluZyBzY3JvbGxpbmcgd2l0aCBrZXlib2FyZCBtb3ZlbWVudCxcbiAqICphbHdheXMqIHVzZSB0aGVzZSBob29rcyBpbnN0ZWFkIG9mIGxpc3RlbmluZyB0byB5b3VyIG93biBnbG9iYWwga2V5Ym9hcmRcbiAqIGV2ZW50cy5cbiAqXG4gKiBQdWJsaWMga2V5Ym9hcmQgbGlmZWN5Y2xlIEFQSTogKHByb3BzIGNhbGxiYWNrcylcbiAqXG4gKiBTdGFuZGFyZCBLZXlib2FyZCBBcHBlYXJhbmNlIFNlcXVlbmNlOlxuICpcbiAqICAgdGhpcy5wcm9wcy5vbktleWJvYXJkV2lsbFNob3dcbiAqICAgdGhpcy5wcm9wcy5vbktleWJvYXJkRGlkU2hvd1xuICpcbiAqIGBvblNjcm9sbFJlc3BvbmRlcktleWJvYXJkRGlzbWlzc2VkYCB3aWxsIGJlIGludm9rZWQgaWYgYW4gYXBwcm9wcmlhdGVcbiAqIHRhcCBpbnNpZGUgdGhlIHNjcm9sbCByZXNwb25kZXIncyBzY3JvbGxhYmxlIHJlZ2lvbiB3YXMgcmVzcG9uc2libGVcbiAqIGZvciB0aGUgZGlzbWlzc2FsIG9mIHRoZSBrZXlib2FyZC4gVGhlcmUgYXJlIG90aGVyIHJlYXNvbnMgd2h5IHRoZVxuICoga2V5Ym9hcmQgY291bGQgYmUgZGlzbWlzc2VkLlxuICpcbiAqICAgdGhpcy5wcm9wcy5vblNjcm9sbFJlc3BvbmRlcktleWJvYXJkRGlzbWlzc2VkXG4gKlxuICogU3RhbmRhcmQgS2V5Ym9hcmQgSGlkZSBTZXF1ZW5jZTpcbiAqXG4gKiAgIHRoaXMucHJvcHMub25LZXlib2FyZFdpbGxIaWRlXG4gKiAgIHRoaXMucHJvcHMub25LZXlib2FyZERpZEhpZGVcbiAqL1xuXG4vLyBQdWJsaWMgbWV0aG9kcyBmb3IgU2Nyb2xsVmlld1xuZXhwb3J0IHR5cGUgU2Nyb2xsVmlld0ltcGVyYXRpdmVNZXRob2RzID0gJFJlYWRPbmx5PHt8XG4gIGdldFNjcm9sbFJlc3BvbmRlcjogJFByb3BlcnR5VHlwZTxTY3JvbGxWaWV3LCAnZ2V0U2Nyb2xsUmVzcG9uZGVyJz4sXG4gIGdldFNjcm9sbGFibGVOb2RlOiAkUHJvcGVydHlUeXBlPFNjcm9sbFZpZXcsICdnZXRTY3JvbGxhYmxlTm9kZSc+LFxuICBnZXRJbm5lclZpZXdOb2RlOiAkUHJvcGVydHlUeXBlPFNjcm9sbFZpZXcsICdnZXRJbm5lclZpZXdOb2RlJz4sXG4gIGdldElubmVyVmlld1JlZjogJFByb3BlcnR5VHlwZTxTY3JvbGxWaWV3LCAnZ2V0SW5uZXJWaWV3UmVmJz4sXG4gIGdldE5hdGl2ZVNjcm9sbFJlZjogJFByb3BlcnR5VHlwZTxTY3JvbGxWaWV3LCAnZ2V0TmF0aXZlU2Nyb2xsUmVmJz4sXG4gIHNjcm9sbFRvOiAkUHJvcGVydHlUeXBlPFNjcm9sbFZpZXcsICdzY3JvbGxUbyc+LFxuICBzY3JvbGxUb0VuZDogJFByb3BlcnR5VHlwZTxTY3JvbGxWaWV3LCAnc2Nyb2xsVG9FbmQnPixcbiAgZmxhc2hTY3JvbGxJbmRpY2F0b3JzOiAkUHJvcGVydHlUeXBlPFNjcm9sbFZpZXcsICdmbGFzaFNjcm9sbEluZGljYXRvcnMnPixcbiAgc2Nyb2xsUmVzcG9uZGVyWm9vbVRvOiAkUHJvcGVydHlUeXBlPFNjcm9sbFZpZXcsICdzY3JvbGxSZXNwb25kZXJab29tVG8nPixcbiAgc2Nyb2xsUmVzcG9uZGVyU2Nyb2xsTmF0aXZlSGFuZGxlVG9LZXlib2FyZDogJFByb3BlcnR5VHlwZTxcbiAgICBTY3JvbGxWaWV3LFxuICAgICdzY3JvbGxSZXNwb25kZXJTY3JvbGxOYXRpdmVIYW5kbGVUb0tleWJvYXJkJyxcbiAgPixcbnx9PjtcblxuZXhwb3J0IHR5cGUgU2Nyb2xsUmVzcG9uZGVyVHlwZSA9IFNjcm9sbFZpZXdJbXBlcmF0aXZlTWV0aG9kcztcblxudHlwZSBJT1NQcm9wcyA9ICRSZWFkT25seTx7fFxuICAvKipcbiAgICogQ29udHJvbHMgd2hldGhlciBpT1Mgc2hvdWxkIGF1dG9tYXRpY2FsbHkgYWRqdXN0IHRoZSBjb250ZW50IGluc2V0XG4gICAqIGZvciBzY3JvbGwgdmlld3MgdGhhdCBhcmUgcGxhY2VkIGJlaGluZCBhIG5hdmlnYXRpb24gYmFyIG9yXG4gICAqIHRhYiBiYXIvIHRvb2xiYXIuIFRoZSBkZWZhdWx0IHZhbHVlIGlzIHRydWUuXG4gICAqIEBwbGF0Zm9ybSBpb3NcbiAgICovXG4gIGF1dG9tYXRpY2FsbHlBZGp1c3RDb250ZW50SW5zZXRzPzogP2Jvb2xlYW4sXG4gIC8qKlxuICAgKiBDb250cm9scyB3aGV0aGVyIGlPUyBzaG91bGQgYXV0b21hdGljYWxseSBhZGp1c3QgdGhlIHNjcm9sbCBpbmRpY2F0b3JcbiAgICogaW5zZXRzLiBUaGUgZGVmYXVsdCB2YWx1ZSBpcyB0cnVlLiBBdmFpbGFibGUgb24gaU9TIDEzIGFuZCBsYXRlci5cbiAgICogQHBsYXRmb3JtIGlvc1xuICAgKi9cbiAgYXV0b21hdGljYWxseUFkanVzdHNTY3JvbGxJbmRpY2F0b3JJbnNldHM/OiA/Ym9vbGVhbixcbiAgLyoqXG4gICAqIFRoZSBhbW91bnQgYnkgd2hpY2ggdGhlIHNjcm9sbCB2aWV3IGNvbnRlbnQgaXMgaW5zZXQgZnJvbSB0aGUgZWRnZXNcbiAgICogb2YgdGhlIHNjcm9sbCB2aWV3LiBEZWZhdWx0cyB0byBge3RvcDogMCwgbGVmdDogMCwgYm90dG9tOiAwLCByaWdodDogMH1gLlxuICAgKiBAcGxhdGZvcm0gaW9zXG4gICAqL1xuICBjb250ZW50SW5zZXQ/OiA/RWRnZUluc2V0c1Byb3AsXG4gIC8qKlxuICAgKiBVc2VkIHRvIG1hbnVhbGx5IHNldCB0aGUgc3RhcnRpbmcgc2Nyb2xsIG9mZnNldC5cbiAgICogVGhlIGRlZmF1bHQgdmFsdWUgaXMgYHt4OiAwLCB5OiAwfWAuXG4gICAqIEBwbGF0Zm9ybSBpb3NcbiAgICovXG4gIGNvbnRlbnRPZmZzZXQ/OiA/UG9pbnRQcm9wLFxuICAvKipcbiAgICogV2hlbiB0cnVlLCB0aGUgc2Nyb2xsIHZpZXcgYm91bmNlcyB3aGVuIGl0IHJlYWNoZXMgdGhlIGVuZCBvZiB0aGVcbiAgICogY29udGVudCBpZiB0aGUgY29udGVudCBpcyBsYXJnZXIgdGhlbiB0aGUgc2Nyb2xsIHZpZXcgYWxvbmcgdGhlIGF4aXMgb2ZcbiAgICogdGhlIHNjcm9sbCBkaXJlY3Rpb24uIFdoZW4gZmFsc2UsIGl0IGRpc2FibGVzIGFsbCBib3VuY2luZyBldmVuIGlmXG4gICAqIHRoZSBgYWx3YXlzQm91bmNlKmAgcHJvcHMgYXJlIHRydWUuIFRoZSBkZWZhdWx0IHZhbHVlIGlzIHRydWUuXG4gICAqIEBwbGF0Zm9ybSBpb3NcbiAgICovXG4gIGJvdW5jZXM/OiA/Ym9vbGVhbixcbiAgLyoqXG4gICAqIEJ5IGRlZmF1bHQsIFNjcm9sbFZpZXcgaGFzIGFuIGFjdGl2ZSBwYW4gcmVzcG9uZGVyIHRoYXQgaGlqYWNrcyBwYW5yZXNwb25kZXJzXG4gICAqIGRlZXBlciBpbiB0aGUgcmVuZGVyIHRyZWUgaW4gb3JkZXIgdG8gcHJldmVudCBhY2NpZGVudGFsIHRvdWNoZXMgd2hpbGUgc2Nyb2xsaW5nLlxuICAgKiBIb3dldmVyLCBpbiBjZXJ0YWluIG9jY2FzaW9ucyAoc3VjaCBhcyB3aGVuIHVzaW5nIHNuYXBUb0ludGVydmFsKSBpbiBhIHZlcnRpY2FsIHNjcm9sbHZpZXdcbiAgICogWW91IG1heSB3YW50IHRvIGRpc2FibGUgdGhpcyBiZWhhdmlvciBpbiBvcmRlciB0byBwcmV2ZW50IHRoZSBTY3JvbGxWaWV3IGZyb20gYmxvY2tpbmcgdG91Y2hlc1xuICAgKi9cbiAgZGlzYWJsZVNjcm9sbFZpZXdQYW5SZXNwb25kZXI/OiA/Ym9vbGVhbixcbiAgLyoqXG4gICAqIFdoZW4gdHJ1ZSwgZ2VzdHVyZXMgY2FuIGRyaXZlIHpvb20gcGFzdCBtaW4vbWF4IGFuZCB0aGUgem9vbSB3aWxsIGFuaW1hdGVcbiAgICogdG8gdGhlIG1pbi9tYXggdmFsdWUgYXQgZ2VzdHVyZSBlbmQsIG90aGVyd2lzZSB0aGUgem9vbSB3aWxsIG5vdCBleGNlZWRcbiAgICogdGhlIGxpbWl0cy5cbiAgICogQHBsYXRmb3JtIGlvc1xuICAgKi9cbiAgYm91bmNlc1pvb20/OiA/Ym9vbGVhbixcbiAgLyoqXG4gICAqIFdoZW4gdHJ1ZSwgdGhlIHNjcm9sbCB2aWV3IGJvdW5jZXMgaG9yaXpvbnRhbGx5IHdoZW4gaXQgcmVhY2hlcyB0aGUgZW5kXG4gICAqIGV2ZW4gaWYgdGhlIGNvbnRlbnQgaXMgc21hbGxlciB0aGFuIHRoZSBzY3JvbGwgdmlldyBpdHNlbGYuIFRoZSBkZWZhdWx0XG4gICAqIHZhbHVlIGlzIHRydWUgd2hlbiBgaG9yaXpvbnRhbD17dHJ1ZX1gIGFuZCBmYWxzZSBvdGhlcndpc2UuXG4gICAqIEBwbGF0Zm9ybSBpb3NcbiAgICovXG4gIGFsd2F5c0JvdW5jZUhvcml6b250YWw/OiA/Ym9vbGVhbixcbiAgLyoqXG4gICAqIFdoZW4gdHJ1ZSwgdGhlIHNjcm9sbCB2aWV3IGJvdW5jZXMgdmVydGljYWxseSB3aGVuIGl0IHJlYWNoZXMgdGhlIGVuZFxuICAgKiBldmVuIGlmIHRoZSBjb250ZW50IGlzIHNtYWxsZXIgdGhhbiB0aGUgc2Nyb2xsIHZpZXcgaXRzZWxmLiBUaGUgZGVmYXVsdFxuICAgKiB2YWx1ZSBpcyBmYWxzZSB3aGVuIGBob3Jpem9udGFsPXt0cnVlfWAgYW5kIHRydWUgb3RoZXJ3aXNlLlxuICAgKiBAcGxhdGZvcm0gaW9zXG4gICAqL1xuICBhbHdheXNCb3VuY2VWZXJ0aWNhbD86ID9ib29sZWFuLFxuICAvKipcbiAgICogV2hlbiB0cnVlLCB0aGUgc2Nyb2xsIHZpZXcgYXV0b21hdGljYWxseSBjZW50ZXJzIHRoZSBjb250ZW50IHdoZW4gdGhlXG4gICAqIGNvbnRlbnQgaXMgc21hbGxlciB0aGFuIHRoZSBzY3JvbGwgdmlldyBib3VuZHM7IHdoZW4gdGhlIGNvbnRlbnQgaXNcbiAgICogbGFyZ2VyIHRoYW4gdGhlIHNjcm9sbCB2aWV3LCB0aGlzIHByb3BlcnR5IGhhcyBubyBlZmZlY3QuIFRoZSBkZWZhdWx0XG4gICAqIHZhbHVlIGlzIGZhbHNlLlxuICAgKiBAcGxhdGZvcm0gaW9zXG4gICAqL1xuICBjZW50ZXJDb250ZW50PzogP2Jvb2xlYW4sXG4gIC8qKlxuICAgKiBUaGUgc3R5bGUgb2YgdGhlIHNjcm9sbCBpbmRpY2F0b3JzLlxuICAgKlxuICAgKiAgIC0gYCdkZWZhdWx0J2AgKHRoZSBkZWZhdWx0KSwgc2FtZSBhcyBgYmxhY2tgLlxuICAgKiAgIC0gYCdibGFjaydgLCBzY3JvbGwgaW5kaWNhdG9yIGlzIGJsYWNrLiBUaGlzIHN0eWxlIGlzIGdvb2QgYWdhaW5zdCBhIGxpZ2h0IGJhY2tncm91bmQuXG4gICAqICAgLSBgJ3doaXRlJ2AsIHNjcm9sbCBpbmRpY2F0b3IgaXMgd2hpdGUuIFRoaXMgc3R5bGUgaXMgZ29vZCBhZ2FpbnN0IGEgZGFyayBiYWNrZ3JvdW5kLlxuICAgKlxuICAgKiBAcGxhdGZvcm0gaW9zXG4gICAqL1xuICBpbmRpY2F0b3JTdHlsZT86ID8oJ2RlZmF1bHQnIHwgJ2JsYWNrJyB8ICd3aGl0ZScpLFxuICAvKipcbiAgICogV2hlbiB0cnVlLCB0aGUgU2Nyb2xsVmlldyB3aWxsIHRyeSB0byBsb2NrIHRvIG9ubHkgdmVydGljYWwgb3IgaG9yaXpvbnRhbFxuICAgKiBzY3JvbGxpbmcgd2hpbGUgZHJhZ2dpbmcuICBUaGUgZGVmYXVsdCB2YWx1ZSBpcyBmYWxzZS5cbiAgICogQHBsYXRmb3JtIGlvc1xuICAgKi9cbiAgZGlyZWN0aW9uYWxMb2NrRW5hYmxlZD86ID9ib29sZWFuLFxuICAvKipcbiAgICogV2hlbiBmYWxzZSwgb25jZSB0cmFja2luZyBzdGFydHMsIHdvbid0IHRyeSB0byBkcmFnIGlmIHRoZSB0b3VjaCBtb3Zlcy5cbiAgICogVGhlIGRlZmF1bHQgdmFsdWUgaXMgdHJ1ZS5cbiAgICogQHBsYXRmb3JtIGlvc1xuICAgKi9cbiAgY2FuQ2FuY2VsQ29udGVudFRvdWNoZXM/OiA/Ym9vbGVhbixcbiAgLyoqXG4gICAqIFdoZW4gc2V0LCB0aGUgc2Nyb2xsIHZpZXcgd2lsbCBhZGp1c3QgdGhlIHNjcm9sbCBwb3NpdGlvbiBzbyB0aGF0IHRoZSBmaXJzdCBjaGlsZCB0aGF0IGlzXG4gICAqIGN1cnJlbnRseSB2aXNpYmxlIGFuZCBhdCBvciBiZXlvbmQgYG1pbkluZGV4Rm9yVmlzaWJsZWAgd2lsbCBub3QgY2hhbmdlIHBvc2l0aW9uLiBUaGlzIGlzXG4gICAqIHVzZWZ1bCBmb3IgbGlzdHMgdGhhdCBhcmUgbG9hZGluZyBjb250ZW50IGluIGJvdGggZGlyZWN0aW9ucywgZS5nLiBhIGNoYXQgdGhyZWFkLCB3aGVyZSBuZXdcbiAgICogbWVzc2FnZXMgY29taW5nIGluIG1pZ2h0IG90aGVyd2lzZSBjYXVzZSB0aGUgc2Nyb2xsIHBvc2l0aW9uIHRvIGp1bXAuIEEgdmFsdWUgb2YgMCBpcyBjb21tb24sXG4gICAqIGJ1dCBvdGhlciB2YWx1ZXMgc3VjaCBhcyAxIGNhbiBiZSB1c2VkIHRvIHNraXAgbG9hZGluZyBzcGlubmVycyBvciBvdGhlciBjb250ZW50IHRoYXQgc2hvdWxkXG4gICAqIG5vdCBtYWludGFpbiBwb3NpdGlvbi5cbiAgICpcbiAgICogVGhlIG9wdGlvbmFsIGBhdXRvc2Nyb2xsVG9Ub3BUaHJlc2hvbGRgIGNhbiBiZSB1c2VkIHRvIG1ha2UgdGhlIGNvbnRlbnQgYXV0b21hdGljYWxseSBzY3JvbGxcbiAgICogdG8gdGhlIHRvcCBhZnRlciBtYWtpbmcgdGhlIGFkanVzdG1lbnQgaWYgdGhlIHVzZXIgd2FzIHdpdGhpbiB0aGUgdGhyZXNob2xkIG9mIHRoZSB0b3AgYmVmb3JlXG4gICAqIHRoZSBhZGp1c3RtZW50IHdhcyBtYWRlLiBUaGlzIGlzIGFsc28gdXNlZnVsIGZvciBjaGF0LWxpa2UgYXBwbGljYXRpb25zIHdoZXJlIHlvdSB3YW50IHRvIHNlZVxuICAgKiBuZXcgbWVzc2FnZXMgc2Nyb2xsIGludG8gcGxhY2UsIGJ1dCBub3QgaWYgdGhlIHVzZXIgaGFzIHNjcm9sbGVkIHVwIGEgd2F5cyBhbmQgaXQgd291bGQgYmVcbiAgICogZGlzcnVwdGl2ZSB0byBzY3JvbGwgYSBidW5jaC5cbiAgICpcbiAgICogQ2F2ZWF0IDE6IFJlb3JkZXJpbmcgZWxlbWVudHMgaW4gdGhlIHNjcm9sbHZpZXcgd2l0aCB0aGlzIGVuYWJsZWQgd2lsbCBwcm9iYWJseSBjYXVzZVxuICAgKiBqdW1waW5lc3MgYW5kIGphbmsuIEl0IGNhbiBiZSBmaXhlZCwgYnV0IHRoZXJlIGFyZSBjdXJyZW50bHkgbm8gcGxhbnMgdG8gZG8gc28uIEZvciBub3csXG4gICAqIGRvbid0IHJlLW9yZGVyIHRoZSBjb250ZW50IG9mIGFueSBTY3JvbGxWaWV3cyBvciBMaXN0cyB0aGF0IHVzZSB0aGlzIGZlYXR1cmUuXG4gICAqXG4gICAqIENhdmVhdCAyOiBUaGlzIHNpbXBseSB1c2VzIGBjb250ZW50T2Zmc2V0YCBhbmQgYGZyYW1lLm9yaWdpbmAgaW4gbmF0aXZlIGNvZGUgdG8gY29tcHV0ZVxuICAgKiB2aXNpYmlsaXR5LiBPY2NsdXNpb24sIHRyYW5zZm9ybXMsIGFuZCBvdGhlciBjb21wbGV4aXR5IHdvbid0IGJlIHRha2VuIGludG8gYWNjb3VudCBhcyB0b1xuICAgKiB3aGV0aGVyIGNvbnRlbnQgaXMgXCJ2aXNpYmxlXCIgb3Igbm90LlxuICAgKlxuICAgKiBAcGxhdGZvcm0gaW9zXG4gICAqL1xuICBtYWludGFpblZpc2libGVDb250ZW50UG9zaXRpb24/OiA/JFJlYWRPbmx5PHt8XG4gICAgbWluSW5kZXhGb3JWaXNpYmxlOiBudW1iZXIsXG4gICAgYXV0b3Njcm9sbFRvVG9wVGhyZXNob2xkPzogP251bWJlcixcbiAgfH0+LFxuICAvKipcbiAgICogVGhlIG1heGltdW0gYWxsb3dlZCB6b29tIHNjYWxlLiBUaGUgZGVmYXVsdCB2YWx1ZSBpcyAxLjAuXG4gICAqIEBwbGF0Zm9ybSBpb3NcbiAgICovXG4gIG1heGltdW1ab29tU2NhbGU/OiA/bnVtYmVyLFxuICAvKipcbiAgICogVGhlIG1pbmltdW0gYWxsb3dlZCB6b29tIHNjYWxlLiBUaGUgZGVmYXVsdCB2YWx1ZSBpcyAxLjAuXG4gICAqIEBwbGF0Zm9ybSBpb3NcbiAgICovXG4gIG1pbmltdW1ab29tU2NhbGU/OiA/bnVtYmVyLFxuICAvKipcbiAgICogV2hlbiB0cnVlLCBTY3JvbGxWaWV3IGFsbG93cyB1c2Ugb2YgcGluY2ggZ2VzdHVyZXMgdG8gem9vbSBpbiBhbmQgb3V0LlxuICAgKiBUaGUgZGVmYXVsdCB2YWx1ZSBpcyB0cnVlLlxuICAgKiBAcGxhdGZvcm0gaW9zXG4gICAqL1xuICBwaW5jaEdlc3R1cmVFbmFibGVkPzogP2Jvb2xlYW4sXG4gIC8qKlxuICAgKiBUaGlzIGNvbnRyb2xzIGhvdyBvZnRlbiB0aGUgc2Nyb2xsIGV2ZW50IHdpbGwgYmUgZmlyZWQgd2hpbGUgc2Nyb2xsaW5nXG4gICAqIChhcyBhIHRpbWUgaW50ZXJ2YWwgaW4gbXMpLiBBIGxvd2VyIG51bWJlciB5aWVsZHMgYmV0dGVyIGFjY3VyYWN5IGZvciBjb2RlXG4gICAqIHRoYXQgaXMgdHJhY2tpbmcgdGhlIHNjcm9sbCBwb3NpdGlvbiwgYnV0IGNhbiBsZWFkIHRvIHNjcm9sbCBwZXJmb3JtYW5jZVxuICAgKiBwcm9ibGVtcyBkdWUgdG8gdGhlIHZvbHVtZSBvZiBpbmZvcm1hdGlvbiBiZWluZyBzZW5kIG92ZXIgdGhlIGJyaWRnZS5cbiAgICpcbiAgICogVmFsdWVzIGJldHdlZW4gMCBhbmQgMTdtcyBpbmRpY2F0ZSA2MGZwcyB1cGRhdGVzIGFyZSBuZWVkZWQgYW5kIHRocm90dGxpbmdcbiAgICogd2lsbCBiZSBkaXNhYmxlZC5cbiAgICpcbiAgICogSWYgeW91IGRvIG5vdCBuZWVkIHByZWNpc2Ugc2Nyb2xsIHBvc2l0aW9uIHRyYWNraW5nLCBzZXQgdGhpcyB2YWx1ZSBoaWdoZXJcbiAgICogdG8gbGltaXQgdGhlIGluZm9ybWF0aW9uIGJlaW5nIHNlbnQgYWNyb3NzIHRoZSBicmlkZ2UuXG4gICAqXG4gICAqIFRoZSBkZWZhdWx0IHZhbHVlIGlzIHplcm8sIHdoaWNoIHJlc3VsdHMgaW4gdGhlIHNjcm9sbCBldmVudCBiZWluZyBzZW50IG9ubHlcbiAgICogb25jZSBlYWNoIHRpbWUgdGhlIHZpZXcgaXMgc2Nyb2xsZWQuXG4gICAqXG4gICAqIEBwbGF0Zm9ybSBpb3NcbiAgICovXG4gIHNjcm9sbEV2ZW50VGhyb3R0bGU/OiA/bnVtYmVyLFxuICAvKipcbiAgICogVGhlIGFtb3VudCBieSB3aGljaCB0aGUgc2Nyb2xsIHZpZXcgaW5kaWNhdG9ycyBhcmUgaW5zZXQgZnJvbSB0aGUgZWRnZXNcbiAgICogb2YgdGhlIHNjcm9sbCB2aWV3LiBUaGlzIHNob3VsZCBub3JtYWxseSBiZSBzZXQgdG8gdGhlIHNhbWUgdmFsdWUgYXNcbiAgICogdGhlIGBjb250ZW50SW5zZXRgLiBEZWZhdWx0cyB0byBgezAsIDAsIDAsIDB9YC5cbiAgICogQHBsYXRmb3JtIGlvc1xuICAgKi9cbiAgc2Nyb2xsSW5kaWNhdG9ySW5zZXRzPzogP0VkZ2VJbnNldHNQcm9wLFxuICAvKipcbiAgICogV2hlbiB0cnVlLCB0aGUgc2Nyb2xsIHZpZXcgY2FuIGJlIHByb2dyYW1tYXRpY2FsbHkgc2Nyb2xsZWQgYmV5b25kIGl0c1xuICAgKiBjb250ZW50IHNpemUuIFRoZSBkZWZhdWx0IHZhbHVlIGlzIGZhbHNlLlxuICAgKiBAcGxhdGZvcm0gaW9zXG4gICAqL1xuICBzY3JvbGxUb092ZXJmbG93RW5hYmxlZD86ID9ib29sZWFuLFxuICAvKipcbiAgICogV2hlbiB0cnVlLCB0aGUgc2Nyb2xsIHZpZXcgc2Nyb2xscyB0byB0b3Agd2hlbiB0aGUgc3RhdHVzIGJhciBpcyB0YXBwZWQuXG4gICAqIFRoZSBkZWZhdWx0IHZhbHVlIGlzIHRydWUuXG4gICAqIEBwbGF0Zm9ybSBpb3NcbiAgICovXG4gIHNjcm9sbHNUb1RvcD86ID9ib29sZWFuLFxuICAvKipcbiAgICogRmlyZXMgd2hlbiB0aGUgc2Nyb2xsIHZpZXcgc2Nyb2xscyB0byB0b3AgYWZ0ZXIgdGhlIHN0YXR1cyBiYXIgaGFzIGJlZW4gdGFwcGVkXG4gICAqIEBwbGF0Zm9ybSBpb3NcbiAgICovXG4gIG9uU2Nyb2xsVG9Ub3A/OiAoZXZlbnQ6IFNjcm9sbEV2ZW50KSA9PiB2b2lkLFxuICAvKipcbiAgICogV2hlbiB0cnVlLCBzaG93cyBhIGhvcml6b250YWwgc2Nyb2xsIGluZGljYXRvci5cbiAgICogVGhlIGRlZmF1bHQgdmFsdWUgaXMgdHJ1ZS5cbiAgICovXG4gIHNob3dzSG9yaXpvbnRhbFNjcm9sbEluZGljYXRvcj86ID9ib29sZWFuLFxuICAvKipcbiAgICogV2hlbiBgc25hcFRvSW50ZXJ2YWxgIGlzIHNldCwgYHNuYXBUb0FsaWdubWVudGAgd2lsbCBkZWZpbmUgdGhlIHJlbGF0aW9uc2hpcFxuICAgKiBvZiB0aGUgc25hcHBpbmcgdG8gdGhlIHNjcm9sbCB2aWV3LlxuICAgKlxuICAgKiAgIC0gYCdzdGFydCdgICh0aGUgZGVmYXVsdCkgd2lsbCBhbGlnbiB0aGUgc25hcCBhdCB0aGUgbGVmdCAoaG9yaXpvbnRhbCkgb3IgdG9wICh2ZXJ0aWNhbClcbiAgICogICAtIGAnY2VudGVyJ2Agd2lsbCBhbGlnbiB0aGUgc25hcCBpbiB0aGUgY2VudGVyXG4gICAqICAgLSBgJ2VuZCdgIHdpbGwgYWxpZ24gdGhlIHNuYXAgYXQgdGhlIHJpZ2h0IChob3Jpem9udGFsKSBvciBib3R0b20gKHZlcnRpY2FsKVxuICAgKlxuICAgKiBAcGxhdGZvcm0gaW9zXG4gICAqL1xuICBzbmFwVG9BbGlnbm1lbnQ/OiA/KCdzdGFydCcgfCAnY2VudGVyJyB8ICdlbmQnKSxcbiAgLyoqXG4gICAqIFRoZSBjdXJyZW50IHNjYWxlIG9mIHRoZSBzY3JvbGwgdmlldyBjb250ZW50LiBUaGUgZGVmYXVsdCB2YWx1ZSBpcyAxLjAuXG4gICAqIEBwbGF0Zm9ybSBpb3NcbiAgICovXG4gIHpvb21TY2FsZT86ID9udW1iZXIsXG4gIC8qKlxuICAgKiBUaGlzIHByb3BlcnR5IHNwZWNpZmllcyBob3cgdGhlIHNhZmUgYXJlYSBpbnNldHMgYXJlIHVzZWQgdG8gbW9kaWZ5IHRoZVxuICAgKiBjb250ZW50IGFyZWEgb2YgdGhlIHNjcm9sbCB2aWV3LiBUaGUgZGVmYXVsdCB2YWx1ZSBvZiB0aGlzIHByb3BlcnR5IGlzXG4gICAqIFwibmV2ZXJcIi4gQXZhaWxhYmxlIG9uIGlPUyAxMSBhbmQgbGF0ZXIuXG4gICAqIEBwbGF0Zm9ybSBpb3NcbiAgICovXG4gIGNvbnRlbnRJbnNldEFkanVzdG1lbnRCZWhhdmlvcj86ID8oXG4gICAgfCAnYXV0b21hdGljJ1xuICAgIHwgJ3Njcm9sbGFibGVBeGVzJ1xuICAgIHwgJ25ldmVyJ1xuICAgIHwgJ2Fsd2F5cydcbiAgKSxcbnx9PjtcblxudHlwZSBBbmRyb2lkUHJvcHMgPSAkUmVhZE9ubHk8e3xcbiAgLyoqXG4gICAqIEVuYWJsZXMgbmVzdGVkIHNjcm9sbGluZyBmb3IgQW5kcm9pZCBBUEkgbGV2ZWwgMjErLlxuICAgKiBOZXN0ZWQgc2Nyb2xsaW5nIGlzIHN1cHBvcnRlZCBieSBkZWZhdWx0IG9uIGlPU1xuICAgKiBAcGxhdGZvcm0gYW5kcm9pZFxuICAgKi9cbiAgbmVzdGVkU2Nyb2xsRW5hYmxlZD86ID9ib29sZWFuLFxuICAvKipcbiAgICogU29tZXRpbWVzIGEgc2Nyb2xsdmlldyB0YWtlcyB1cCBtb3JlIHNwYWNlIHRoYW4gaXRzIGNvbnRlbnQgZmlsbHMuIFdoZW4gdGhpcyBpc1xuICAgKiB0aGUgY2FzZSwgdGhpcyBwcm9wIHdpbGwgZmlsbCB0aGUgcmVzdCBvZiB0aGUgc2Nyb2xsdmlldyB3aXRoIGEgY29sb3IgdG8gYXZvaWQgc2V0dGluZ1xuICAgKiBhIGJhY2tncm91bmQgYW5kIGNyZWF0aW5nIHVubmVjZXNzYXJ5IG92ZXJkcmF3LiBUaGlzIGlzIGFuIGFkdmFuY2VkIG9wdGltaXphdGlvblxuICAgKiB0aGF0IGlzIG5vdCBuZWVkZWQgaW4gdGhlIGdlbmVyYWwgY2FzZS5cbiAgICogQHBsYXRmb3JtIGFuZHJvaWRcbiAgICovXG4gIGVuZEZpbGxDb2xvcj86ID9Db2xvclZhbHVlLFxuICAvKipcbiAgICogVGFnIHVzZWQgdG8gbG9nIHNjcm9sbCBwZXJmb3JtYW5jZSBvbiB0aGlzIHNjcm9sbCB2aWV3LiBXaWxsIGZvcmNlXG4gICAqIG1vbWVudHVtIGV2ZW50cyB0byBiZSB0dXJuZWQgb24gKHNlZSBzZW5kTW9tZW50dW1FdmVudHMpLiBUaGlzIGRvZXNuJ3QgZG9cbiAgICogYW55dGhpbmcgb3V0IG9mIHRoZSBib3ggYW5kIHlvdSBuZWVkIHRvIGltcGxlbWVudCBhIGN1c3RvbSBuYXRpdmVcbiAgICogRnBzTGlzdGVuZXIgZm9yIGl0IHRvIGJlIHVzZWZ1bC5cbiAgICogQHBsYXRmb3JtIGFuZHJvaWRcbiAgICovXG4gIHNjcm9sbFBlcmZUYWc/OiA/c3RyaW5nLFxuICAvKipcbiAgICogVXNlZCB0byBvdmVycmlkZSBkZWZhdWx0IHZhbHVlIG9mIG92ZXJTY3JvbGwgbW9kZS5cbiAgICpcbiAgICogUG9zc2libGUgdmFsdWVzOlxuICAgKlxuICAgKiAgLSBgJ2F1dG8nYCAtIERlZmF1bHQgdmFsdWUsIGFsbG93IGEgdXNlciB0byBvdmVyLXNjcm9sbFxuICAgKiAgICB0aGlzIHZpZXcgb25seSBpZiB0aGUgY29udGVudCBpcyBsYXJnZSBlbm91Z2ggdG8gbWVhbmluZ2Z1bGx5IHNjcm9sbC5cbiAgICogIC0gYCdhbHdheXMnYCAtIEFsd2F5cyBhbGxvdyBhIHVzZXIgdG8gb3Zlci1zY3JvbGwgdGhpcyB2aWV3LlxuICAgKiAgLSBgJ25ldmVyJ2AgLSBOZXZlciBhbGxvdyBhIHVzZXIgdG8gb3Zlci1zY3JvbGwgdGhpcyB2aWV3LlxuICAgKlxuICAgKiBAcGxhdGZvcm0gYW5kcm9pZFxuICAgKi9cbiAgb3ZlclNjcm9sbE1vZGU/OiA/KCdhdXRvJyB8ICdhbHdheXMnIHwgJ25ldmVyJyksXG4gIC8qKlxuICAgKiBDYXVzZXMgdGhlIHNjcm9sbGJhcnMgbm90IHRvIHR1cm4gdHJhbnNwYXJlbnQgd2hlbiB0aGV5IGFyZSBub3QgaW4gdXNlLlxuICAgKiBUaGUgZGVmYXVsdCB2YWx1ZSBpcyBmYWxzZS5cbiAgICpcbiAgICogQHBsYXRmb3JtIGFuZHJvaWRcbiAgICovXG4gIHBlcnNpc3RlbnRTY3JvbGxiYXI/OiA/Ym9vbGVhbixcbiAgLyoqXG4gICAqIEZhZGVzIG91dCB0aGUgZWRnZXMgb2YgdGhlIHRoZSBzY3JvbGwgY29udGVudC5cbiAgICpcbiAgICogSWYgdGhlIHZhbHVlIGlzIGdyZWF0ZXIgdGhhbiAwLCB0aGUgZmFkaW5nIGVkZ2VzIHdpbGwgYmUgc2V0IGFjY29yZGluZ2x5XG4gICAqIHRvIHRoZSBjdXJyZW50IHNjcm9sbCBkaXJlY3Rpb24gYW5kIHBvc2l0aW9uLFxuICAgKiBpbmRpY2F0aW5nIGlmIHRoZXJlIGlzIG1vcmUgY29udGVudCB0byBzaG93LlxuICAgKlxuICAgKiBUaGUgZGVmYXVsdCB2YWx1ZSBpcyAwLlxuICAgKlxuICAgKiBAcGxhdGZvcm0gYW5kcm9pZFxuICAgKi9cbiAgZmFkaW5nRWRnZUxlbmd0aD86ID9udW1iZXIsXG58fT47XG5cbnR5cGUgU3RpY2t5SGVhZGVyQ29tcG9uZW50VHlwZSA9IFJlYWN0LkFic3RyYWN0Q29tcG9uZW50PFxuICBTY3JvbGxWaWV3U3RpY2t5SGVhZGVyUHJvcHMsXG4gICRSZWFkT25seTxpbnRlcmZhY2Uge3NldE5leHRIZWFkZXJZOiBudW1iZXIgPT4gdm9pZH0+LFxuPjtcblxuZXhwb3J0IHR5cGUgUHJvcHMgPSAkUmVhZE9ubHk8e3xcbiAgLi4uVmlld1Byb3BzLFxuICAuLi5JT1NQcm9wcyxcbiAgLi4uQW5kcm9pZFByb3BzLFxuXG4gIC8qKlxuICAgKiBUaGVzZSBzdHlsZXMgd2lsbCBiZSBhcHBsaWVkIHRvIHRoZSBzY3JvbGwgdmlldyBjb250ZW50IGNvbnRhaW5lciB3aGljaFxuICAgKiB3cmFwcyBhbGwgb2YgdGhlIGNoaWxkIHZpZXdzLiBFeGFtcGxlOlxuICAgKlxuICAgKiBgYGBcbiAgICogcmV0dXJuIChcbiAgICogICA8U2Nyb2xsVmlldyBjb250ZW50Q29udGFpbmVyU3R5bGU9e3N0eWxlcy5jb250ZW50Q29udGFpbmVyfT5cbiAgICogICA8L1Njcm9sbFZpZXc+XG4gICAqICk7XG4gICAqIC4uLlxuICAgKiBjb25zdCBzdHlsZXMgPSBTdHlsZVNoZWV0LmNyZWF0ZSh7XG4gICAqICAgY29udGVudENvbnRhaW5lcjoge1xuICAgKiAgICAgcGFkZGluZ1ZlcnRpY2FsOiAyMFxuICAgKiAgIH1cbiAgICogfSk7XG4gICAqIGBgYFxuICAgKi9cbiAgY29udGVudENvbnRhaW5lclN0eWxlPzogP1ZpZXdTdHlsZVByb3AsXG4gIC8qKlxuICAgKiBXaGVuIHRydWUsIHRoZSBzY3JvbGwgdmlldyBzdG9wcyBvbiB0aGUgbmV4dCBpbmRleCAoaW4gcmVsYXRpb24gdG8gc2Nyb2xsXG4gICAqIHBvc2l0aW9uIGF0IHJlbGVhc2UpIHJlZ2FyZGxlc3Mgb2YgaG93IGZhc3QgdGhlIGdlc3R1cmUgaXMuIFRoaXMgY2FuIGJlXG4gICAqIHVzZWQgZm9yIHBhZ2luYXRpb24gd2hlbiB0aGUgcGFnZSBpcyBsZXNzIHRoYW4gdGhlIHdpZHRoIG9mIHRoZVxuICAgKiBob3Jpem9udGFsIFNjcm9sbFZpZXcgb3IgdGhlIGhlaWdodCBvZiB0aGUgdmVydGljYWwgU2Nyb2xsVmlldy4gVGhlIGRlZmF1bHQgdmFsdWUgaXMgZmFsc2UuXG4gICAqL1xuICBkaXNhYmxlSW50ZXJ2YWxNb21lbnR1bT86ID9ib29sZWFuLFxuICAvKipcbiAgICogQSBmbG9hdGluZy1wb2ludCBudW1iZXIgdGhhdCBkZXRlcm1pbmVzIGhvdyBxdWlja2x5IHRoZSBzY3JvbGwgdmlld1xuICAgKiBkZWNlbGVyYXRlcyBhZnRlciB0aGUgdXNlciBsaWZ0cyB0aGVpciBmaW5nZXIuIFlvdSBtYXkgYWxzbyB1c2Ugc3RyaW5nXG4gICAqIHNob3J0Y3V0cyBgXCJub3JtYWxcImAgYW5kIGBcImZhc3RcImAgd2hpY2ggbWF0Y2ggdGhlIHVuZGVybHlpbmcgaU9TIHNldHRpbmdzXG4gICAqIGZvciBgVUlTY3JvbGxWaWV3RGVjZWxlcmF0aW9uUmF0ZU5vcm1hbGAgYW5kXG4gICAqIGBVSVNjcm9sbFZpZXdEZWNlbGVyYXRpb25SYXRlRmFzdGAgcmVzcGVjdGl2ZWx5LlxuICAgKlxuICAgKiAgIC0gYCdub3JtYWwnYDogMC45OTggb24gaU9TLCAwLjk4NSBvbiBBbmRyb2lkICh0aGUgZGVmYXVsdClcbiAgICogICAtIGAnZmFzdCdgOiAwLjk5IG9uIGlPUywgMC45IG9uIEFuZHJvaWRcbiAgICovXG4gIGRlY2VsZXJhdGlvblJhdGU/OiA/KCdmYXN0JyB8ICdub3JtYWwnIHwgbnVtYmVyKSxcbiAgLyoqXG4gICAqIFdoZW4gdHJ1ZSwgdGhlIHNjcm9sbCB2aWV3J3MgY2hpbGRyZW4gYXJlIGFycmFuZ2VkIGhvcml6b250YWxseSBpbiBhIHJvd1xuICAgKiBpbnN0ZWFkIG9mIHZlcnRpY2FsbHkgaW4gYSBjb2x1bW4uIFRoZSBkZWZhdWx0IHZhbHVlIGlzIGZhbHNlLlxuICAgKi9cbiAgaG9yaXpvbnRhbD86ID9ib29sZWFuLFxuICAvKipcbiAgICogSWYgc3RpY2t5IGhlYWRlcnMgc2hvdWxkIHN0aWNrIGF0IHRoZSBib3R0b20gaW5zdGVhZCBvZiB0aGUgdG9wIG9mIHRoZVxuICAgKiBTY3JvbGxWaWV3LiBUaGlzIGlzIHVzdWFsbHkgdXNlZCB3aXRoIGludmVydGVkIFNjcm9sbFZpZXdzLlxuICAgKi9cbiAgaW52ZXJ0U3RpY2t5SGVhZGVycz86ID9ib29sZWFuLFxuICAvKipcbiAgICogRGV0ZXJtaW5lcyB3aGV0aGVyIHRoZSBrZXlib2FyZCBnZXRzIGRpc21pc3NlZCBpbiByZXNwb25zZSB0byBhIGRyYWcuXG4gICAqXG4gICAqICpDcm9zcyBwbGF0Zm9ybSpcbiAgICpcbiAgICogICAtIGAnbm9uZSdgICh0aGUgZGVmYXVsdCksIGRyYWdzIGRvIG5vdCBkaXNtaXNzIHRoZSBrZXlib2FyZC5cbiAgICogICAtIGAnb24tZHJhZydgLCB0aGUga2V5Ym9hcmQgaXMgZGlzbWlzc2VkIHdoZW4gYSBkcmFnIGJlZ2lucy5cbiAgICpcbiAgICogKmlPUyBPbmx5KlxuICAgKlxuICAgKiAgIC0gYCdpbnRlcmFjdGl2ZSdgLCB0aGUga2V5Ym9hcmQgaXMgZGlzbWlzc2VkIGludGVyYWN0aXZlbHkgd2l0aCB0aGUgZHJhZyBhbmQgbW92ZXMgaW5cbiAgICogICAgIHN5bmNocm9ueSB3aXRoIHRoZSB0b3VjaDsgZHJhZ2dpbmcgdXB3YXJkcyBjYW5jZWxzIHRoZSBkaXNtaXNzYWwuXG4gICAqICAgICBPbiBhbmRyb2lkIHRoaXMgaXMgbm90IHN1cHBvcnRlZCBhbmQgaXQgd2lsbCBoYXZlIHRoZSBzYW1lIGJlaGF2aW9yIGFzICdub25lJy5cbiAgICovXG4gIGtleWJvYXJkRGlzbWlzc01vZGU/OiA/Ly8gZGVmYXVsdFxuICAvLyBjcm9zcy1wbGF0Zm9ybVxuICAoJ25vbmUnIHwgJ29uLWRyYWcnIHwgJ2ludGVyYWN0aXZlJyksIC8vIGlvcyBvbmx5XG4gIC8qKlxuICAgKiBEZXRlcm1pbmVzIHdoZW4gdGhlIGtleWJvYXJkIHNob3VsZCBzdGF5IHZpc2libGUgYWZ0ZXIgYSB0YXAuXG4gICAqXG4gICAqICAgLSBgJ25ldmVyJ2AgKHRoZSBkZWZhdWx0KSwgdGFwcGluZyBvdXRzaWRlIG9mIHRoZSBmb2N1c2VkIHRleHQgaW5wdXQgd2hlbiB0aGUga2V5Ym9hcmRcbiAgICogICAgIGlzIHVwIGRpc21pc3NlcyB0aGUga2V5Ym9hcmQuIFdoZW4gdGhpcyBoYXBwZW5zLCBjaGlsZHJlbiB3b24ndCByZWNlaXZlIHRoZSB0YXAuXG4gICAqICAgLSBgJ2Fsd2F5cydgLCB0aGUga2V5Ym9hcmQgd2lsbCBub3QgZGlzbWlzcyBhdXRvbWF0aWNhbGx5LCBhbmQgdGhlIHNjcm9sbCB2aWV3IHdpbGwgbm90XG4gICAqICAgICBjYXRjaCB0YXBzLCBidXQgY2hpbGRyZW4gb2YgdGhlIHNjcm9sbCB2aWV3IGNhbiBjYXRjaCB0YXBzLlxuICAgKiAgIC0gYCdoYW5kbGVkJ2AsIHRoZSBrZXlib2FyZCB3aWxsIG5vdCBkaXNtaXNzIGF1dG9tYXRpY2FsbHkgd2hlbiB0aGUgdGFwIHdhcyBoYW5kbGVkIGJ5XG4gICAqICAgICBhIGNoaWxkcmVuLCAob3IgY2FwdHVyZWQgYnkgYW4gYW5jZXN0b3IpLlxuICAgKiAgIC0gYGZhbHNlYCwgZGVwcmVjYXRlZCwgdXNlICduZXZlcicgaW5zdGVhZFxuICAgKiAgIC0gYHRydWVgLCBkZXByZWNhdGVkLCB1c2UgJ2Fsd2F5cycgaW5zdGVhZFxuICAgKi9cbiAga2V5Ym9hcmRTaG91bGRQZXJzaXN0VGFwcz86ID8oJ2Fsd2F5cycgfCAnbmV2ZXInIHwgJ2hhbmRsZWQnIHwgdHJ1ZSB8IGZhbHNlKSxcbiAgLyoqXG4gICAqIENhbGxlZCB3aGVuIHRoZSBtb21lbnR1bSBzY3JvbGwgc3RhcnRzIChzY3JvbGwgd2hpY2ggb2NjdXJzIGFzIHRoZSBTY3JvbGxWaWV3IGdsaWRlcyB0byBhIHN0b3ApLlxuICAgKi9cbiAgb25Nb21lbnR1bVNjcm9sbEJlZ2luPzogPyhldmVudDogU2Nyb2xsRXZlbnQpID0+IHZvaWQsXG4gIC8qKlxuICAgKiBDYWxsZWQgd2hlbiB0aGUgbW9tZW50dW0gc2Nyb2xsIGVuZHMgKHNjcm9sbCB3aGljaCBvY2N1cnMgYXMgdGhlIFNjcm9sbFZpZXcgZ2xpZGVzIHRvIGEgc3RvcCkuXG4gICAqL1xuICBvbk1vbWVudHVtU2Nyb2xsRW5kPzogPyhldmVudDogU2Nyb2xsRXZlbnQpID0+IHZvaWQsXG5cbiAgLyoqXG4gICAqIEZpcmVzIGF0IG1vc3Qgb25jZSBwZXIgZnJhbWUgZHVyaW5nIHNjcm9sbGluZy4gVGhlIGZyZXF1ZW5jeSBvZiB0aGVcbiAgICogZXZlbnRzIGNhbiBiZSBjb250cm9sbGVkIHVzaW5nIHRoZSBgc2Nyb2xsRXZlbnRUaHJvdHRsZWAgcHJvcC5cbiAgICovXG4gIG9uU2Nyb2xsPzogPyhldmVudDogU2Nyb2xsRXZlbnQpID0+IHZvaWQsXG4gIC8qKlxuICAgKiBDYWxsZWQgd2hlbiB0aGUgdXNlciBiZWdpbnMgdG8gZHJhZyB0aGUgc2Nyb2xsIHZpZXcuXG4gICAqL1xuICBvblNjcm9sbEJlZ2luRHJhZz86ID8oZXZlbnQ6IFNjcm9sbEV2ZW50KSA9PiB2b2lkLFxuICAvKipcbiAgICogQ2FsbGVkIHdoZW4gdGhlIHVzZXIgc3RvcHMgZHJhZ2dpbmcgdGhlIHNjcm9sbCB2aWV3IGFuZCBpdCBlaXRoZXIgc3RvcHNcbiAgICogb3IgYmVnaW5zIHRvIGdsaWRlLlxuICAgKi9cbiAgb25TY3JvbGxFbmREcmFnPzogPyhldmVudDogU2Nyb2xsRXZlbnQpID0+IHZvaWQsXG4gIC8qKlxuICAgKiBDYWxsZWQgd2hlbiBzY3JvbGxhYmxlIGNvbnRlbnQgdmlldyBvZiB0aGUgU2Nyb2xsVmlldyBjaGFuZ2VzLlxuICAgKlxuICAgKiBIYW5kbGVyIGZ1bmN0aW9uIGlzIHBhc3NlZCB0aGUgY29udGVudCB3aWR0aCBhbmQgY29udGVudCBoZWlnaHQgYXMgcGFyYW1ldGVyczpcbiAgICogYChjb250ZW50V2lkdGgsIGNvbnRlbnRIZWlnaHQpYFxuICAgKlxuICAgKiBJdCdzIGltcGxlbWVudGVkIHVzaW5nIG9uTGF5b3V0IGhhbmRsZXIgYXR0YWNoZWQgdG8gdGhlIGNvbnRlbnQgY29udGFpbmVyXG4gICAqIHdoaWNoIHRoaXMgU2Nyb2xsVmlldyByZW5kZXJzLlxuICAgKi9cbiAgb25Db250ZW50U2l6ZUNoYW5nZT86IChjb250ZW50V2lkdGg6IG51bWJlciwgY29udGVudEhlaWdodDogbnVtYmVyKSA9PiB2b2lkLFxuICBvbktleWJvYXJkRGlkU2hvdz86IChldmVudDogS2V5Ym9hcmRFdmVudCkgPT4gdm9pZCxcbiAgb25LZXlib2FyZERpZEhpZGU/OiAoZXZlbnQ6IEtleWJvYXJkRXZlbnQpID0+IHZvaWQsXG4gIG9uS2V5Ym9hcmRXaWxsU2hvdz86IChldmVudDogS2V5Ym9hcmRFdmVudCkgPT4gdm9pZCxcbiAgb25LZXlib2FyZFdpbGxIaWRlPzogKGV2ZW50OiBLZXlib2FyZEV2ZW50KSA9PiB2b2lkLFxuICAvKipcbiAgICogV2hlbiB0cnVlLCB0aGUgc2Nyb2xsIHZpZXcgc3RvcHMgb24gbXVsdGlwbGVzIG9mIHRoZSBzY3JvbGwgdmlldydzIHNpemVcbiAgICogd2hlbiBzY3JvbGxpbmcuIFRoaXMgY2FuIGJlIHVzZWQgZm9yIGhvcml6b250YWwgcGFnaW5hdGlvbi4gVGhlIGRlZmF1bHRcbiAgICogdmFsdWUgaXMgZmFsc2UuXG4gICAqXG4gICAqIE5vdGU6IFZlcnRpY2FsIHBhZ2luYXRpb24gaXMgbm90IHN1cHBvcnRlZCBvbiBBbmRyb2lkLlxuICAgKi9cbiAgcGFnaW5nRW5hYmxlZD86ID9ib29sZWFuLFxuXG4gIC8qKlxuICAgKiBXaGVuIGZhbHNlLCB0aGUgdmlldyBjYW5ub3QgYmUgc2Nyb2xsZWQgdmlhIHRvdWNoIGludGVyYWN0aW9uLlxuICAgKiBUaGUgZGVmYXVsdCB2YWx1ZSBpcyB0cnVlLlxuICAgKlxuICAgKiBOb3RlIHRoYXQgdGhlIHZpZXcgY2FuIGFsd2F5cyBiZSBzY3JvbGxlZCBieSBjYWxsaW5nIGBzY3JvbGxUb2AuXG4gICAqL1xuICBzY3JvbGxFbmFibGVkPzogP2Jvb2xlYW4sXG4gIC8qKlxuICAgKiBXaGVuIHRydWUsIHNob3dzIGEgdmVydGljYWwgc2Nyb2xsIGluZGljYXRvci5cbiAgICogVGhlIGRlZmF1bHQgdmFsdWUgaXMgdHJ1ZS5cbiAgICovXG4gIHNob3dzVmVydGljYWxTY3JvbGxJbmRpY2F0b3I/OiA/Ym9vbGVhbixcbiAgLyoqXG4gICAqIFdoZW4gdHJ1ZSwgU3RpY2t5IGhlYWRlciBpcyBoaWRkZW4gd2hlbiBzY3JvbGxpbmcgZG93biwgYW5kIGRvY2sgYXQgdGhlIHRvcFxuICAgKiB3aGVuIHNjcm9sbGluZyB1cFxuICAgKi9cbiAgc3RpY2t5SGVhZGVySGlkZGVuT25TY3JvbGw/OiA/Ym9vbGVhbixcbiAgLyoqXG4gICAqIEFuIGFycmF5IG9mIGNoaWxkIGluZGljZXMgZGV0ZXJtaW5pbmcgd2hpY2ggY2hpbGRyZW4gZ2V0IGRvY2tlZCB0byB0aGVcbiAgICogdG9wIG9mIHRoZSBzY3JlZW4gd2hlbiBzY3JvbGxpbmcuIEZvciBleGFtcGxlLCBwYXNzaW5nXG4gICAqIGBzdGlja3lIZWFkZXJJbmRpY2VzPXtbMF19YCB3aWxsIGNhdXNlIHRoZSBmaXJzdCBjaGlsZCB0byBiZSBmaXhlZCB0byB0aGVcbiAgICogdG9wIG9mIHRoZSBzY3JvbGwgdmlldy4gVGhpcyBwcm9wZXJ0eSBpcyBub3Qgc3VwcG9ydGVkIGluIGNvbmp1bmN0aW9uXG4gICAqIHdpdGggYGhvcml6b250YWw9e3RydWV9YC5cbiAgICovXG4gIHN0aWNreUhlYWRlckluZGljZXM/OiA/JFJlYWRPbmx5QXJyYXk8bnVtYmVyPixcbiAgLyoqXG4gICAqIEEgUmVhY3QgQ29tcG9uZW50IHRoYXQgd2lsbCBiZSB1c2VkIHRvIHJlbmRlciBzdGlja3kgaGVhZGVycy5cbiAgICogVG8gYmUgdXNlZCB0b2dldGhlciB3aXRoIGBzdGlja3lIZWFkZXJJbmRpY2VzYCBvciB3aXRoIGBTZWN0aW9uTGlzdGAsIGRlZmF1bHRzIHRvIGBTY3JvbGxWaWV3U3RpY2t5SGVhZGVyYC5cbiAgICogWW91IG1heSBuZWVkIHRvIHNldCB0aGlzIGlmIHlvdXIgc3RpY2t5IGhlYWRlciB1c2VzIGN1c3RvbSB0cmFuc2Zvcm1zIChlZy4gdHJhbnNsYXRpb24pLFxuICAgKiBmb3IgZXhhbXBsZSB3aGVuIHlvdSB3YW50IHlvdXIgbGlzdCB0byBoYXZlIGFuIGFuaW1hdGVkIGhpZGFibGUgaGVhZGVyLlxuICAgKi9cbiAgU3RpY2t5SGVhZGVyQ29tcG9uZW50PzogU3RpY2t5SGVhZGVyQ29tcG9uZW50VHlwZSxcbiAgLyoqXG4gICAqIFdoZW4gc2V0LCBjYXVzZXMgdGhlIHNjcm9sbCB2aWV3IHRvIHN0b3AgYXQgbXVsdGlwbGVzIG9mIHRoZSB2YWx1ZSBvZlxuICAgKiBgc25hcFRvSW50ZXJ2YWxgLiBUaGlzIGNhbiBiZSB1c2VkIGZvciBwYWdpbmF0aW5nIHRocm91Z2ggY2hpbGRyZW5cbiAgICogdGhhdCBoYXZlIGxlbmd0aHMgc21hbGxlciB0aGFuIHRoZSBzY3JvbGwgdmlldy4gVHlwaWNhbGx5IHVzZWQgaW5cbiAgICogY29tYmluYXRpb24gd2l0aCBgc25hcFRvQWxpZ25tZW50YCBhbmQgYGRlY2VsZXJhdGlvblJhdGU9XCJmYXN0XCJgLlxuICAgKlxuICAgKiBPdmVycmlkZXMgbGVzcyBjb25maWd1cmFibGUgYHBhZ2luZ0VuYWJsZWRgIHByb3AuXG4gICAqL1xuICBzbmFwVG9JbnRlcnZhbD86ID9udW1iZXIsXG4gIC8qKlxuICAgKiBXaGVuIHNldCwgY2F1c2VzIHRoZSBzY3JvbGwgdmlldyB0byBzdG9wIGF0IHRoZSBkZWZpbmVkIG9mZnNldHMuXG4gICAqIFRoaXMgY2FuIGJlIHVzZWQgZm9yIHBhZ2luYXRpbmcgdGhyb3VnaCB2YXJpb3VzbHkgc2l6ZWQgY2hpbGRyZW5cbiAgICogdGhhdCBoYXZlIGxlbmd0aHMgc21hbGxlciB0aGFuIHRoZSBzY3JvbGwgdmlldy4gVHlwaWNhbGx5IHVzZWQgaW5cbiAgICogY29tYmluYXRpb24gd2l0aCBgZGVjZWxlcmF0aW9uUmF0ZT1cImZhc3RcImAuXG4gICAqXG4gICAqIE92ZXJyaWRlcyBsZXNzIGNvbmZpZ3VyYWJsZSBgcGFnaW5nRW5hYmxlZGAgYW5kIGBzbmFwVG9JbnRlcnZhbGAgcHJvcHMuXG4gICAqL1xuICBzbmFwVG9PZmZzZXRzPzogPyRSZWFkT25seUFycmF5PG51bWJlcj4sXG4gIC8qKlxuICAgKiBVc2UgaW4gY29uanVuY3Rpb24gd2l0aCBgc25hcFRvT2Zmc2V0c2AuIEJ5IGRlZmF1bHQsIHRoZSBiZWdpbm5pbmdcbiAgICogb2YgdGhlIGxpc3QgY291bnRzIGFzIGEgc25hcCBvZmZzZXQuIFNldCBgc25hcFRvU3RhcnRgIHRvIGZhbHNlIHRvIGRpc2FibGVcbiAgICogdGhpcyBiZWhhdmlvciBhbmQgYWxsb3cgdGhlIGxpc3QgdG8gc2Nyb2xsIGZyZWVseSBiZXR3ZWVuIGl0cyBzdGFydCBhbmRcbiAgICogdGhlIGZpcnN0IGBzbmFwVG9PZmZzZXRzYCBvZmZzZXQuXG4gICAqIFRoZSBkZWZhdWx0IHZhbHVlIGlzIHRydWUuXG4gICAqL1xuICBzbmFwVG9TdGFydD86ID9ib29sZWFuLFxuICAvKipcbiAgICogVXNlIGluIGNvbmp1bmN0aW9uIHdpdGggYHNuYXBUb09mZnNldHNgLiBCeSBkZWZhdWx0LCB0aGUgZW5kXG4gICAqIG9mIHRoZSBsaXN0IGNvdW50cyBhcyBhIHNuYXAgb2Zmc2V0LiBTZXQgYHNuYXBUb0VuZGAgdG8gZmFsc2UgdG8gZGlzYWJsZVxuICAgKiB0aGlzIGJlaGF2aW9yIGFuZCBhbGxvdyB0aGUgbGlzdCB0byBzY3JvbGwgZnJlZWx5IGJldHdlZW4gaXRzIGVuZCBhbmRcbiAgICogdGhlIGxhc3QgYHNuYXBUb09mZnNldHNgIG9mZnNldC5cbiAgICogVGhlIGRlZmF1bHQgdmFsdWUgaXMgdHJ1ZS5cbiAgICovXG4gIHNuYXBUb0VuZD86ID9ib29sZWFuLFxuICAvKipcbiAgICogRXhwZXJpbWVudGFsOiBXaGVuIHRydWUsIG9mZnNjcmVlbiBjaGlsZCB2aWV3cyAod2hvc2UgYG92ZXJmbG93YCB2YWx1ZSBpc1xuICAgKiBgaGlkZGVuYCkgYXJlIHJlbW92ZWQgZnJvbSB0aGVpciBuYXRpdmUgYmFja2luZyBzdXBlcnZpZXcgd2hlbiBvZmZzY3JlZW4uXG4gICAqIFRoaXMgY2FuIGltcHJvdmUgc2Nyb2xsaW5nIHBlcmZvcm1hbmNlIG9uIGxvbmcgbGlzdHMuIFRoZSBkZWZhdWx0IHZhbHVlIGlzXG4gICAqIHRydWUuXG4gICAqL1xuICByZW1vdmVDbGlwcGVkU3Vidmlld3M/OiA/Ym9vbGVhbixcbiAgLyoqXG4gICAqIEEgUmVmcmVzaENvbnRyb2wgY29tcG9uZW50LCB1c2VkIHRvIHByb3ZpZGUgcHVsbC10by1yZWZyZXNoXG4gICAqIGZ1bmN0aW9uYWxpdHkgZm9yIHRoZSBTY3JvbGxWaWV3LiBPbmx5IHdvcmtzIGZvciB2ZXJ0aWNhbCBTY3JvbGxWaWV3c1xuICAgKiAoYGhvcml6b250YWxgIHByb3AgbXVzdCBiZSBgZmFsc2VgKS5cbiAgICpcbiAgICogU2VlIFtSZWZyZXNoQ29udHJvbF0oZG9jcy9yZWZyZXNoY29udHJvbC5odG1sKS5cbiAgICovXG4gIC8qICRGbG93Rml4TWVbdW5jbGVhci10eXBlXSAtIGhvdyB0byBoYW5kbGUgZ2VuZXJpYyB0eXBlIHdpdGhvdXQgZXhpc3RlbnRpYWxcbiAgICogb3BlcmF0b3I/ICovXG4gIHJlZnJlc2hDb250cm9sPzogP1JlYWN0LkVsZW1lbnQ8YW55PixcbiAgY2hpbGRyZW4/OiBSZWFjdC5Ob2RlLFxuICAvKipcbiAgICogQSByZWYgdG8gdGhlIGlubmVyIFZpZXcgZWxlbWVudCBvZiB0aGUgU2Nyb2xsVmlldy4gVGhpcyBzaG91bGQgYmUgdXNlZFxuICAgKiBpbnN0ZWFkIG9mIGNhbGxpbmcgYGdldElubmVyVmlld1JlZmAuXG4gICAqL1xuICBpbm5lclZpZXdSZWY/OiBSZWFjdC5SZWY8dHlwZW9mIFZpZXc+LFxuICAvKipcbiAgICogQSByZWYgdG8gdGhlIE5hdGl2ZSBTY3JvbGxWaWV3IGNvbXBvbmVudC4gVGhpcyByZWYgY2FuIGJlIHVzZWQgdG8gY2FsbFxuICAgKiBhbGwgb2YgU2Nyb2xsVmlldydzIHB1YmxpYyBtZXRob2RzLCBpbiBhZGRpdGlvbiB0byBuYXRpdmUgbWV0aG9kcyBsaWtlXG4gICAqIG1lYXN1cmUsIG1lYXN1cmVMYXlvdXQsIGV0Yy5cbiAgICovXG4gIHNjcm9sbFZpZXdSZWY/OiBSZWFjdC5SZWY8XG4gICAgdHlwZW9mIFNjcm9sbFZpZXdOYXRpdmVDb21wb25lbnQgJiBTY3JvbGxWaWV3SW1wZXJhdGl2ZU1ldGhvZHMsXG4gID4sXG58fT47XG5cbnR5cGUgU3RhdGUgPSB7fFxuICBsYXlvdXRIZWlnaHQ6ID9udW1iZXIsXG58fTtcblxuY29uc3QgSVNfQU5JTUFUSU5HX1RPVUNIX1NUQVJUX1RIUkVTSE9MRF9NUyA9IDE2O1xuXG50eXBlIFNjcm9sbFZpZXdDb21wb25lbnRTdGF0aWNzID0gJFJlYWRPbmx5PHt8XG4gIENvbnRleHQ6IHR5cGVvZiBTY3JvbGxWaWV3Q29udGV4dCxcbnx9PjtcblxuLyoqXG4gKiBDb21wb25lbnQgdGhhdCB3cmFwcyBwbGF0Zm9ybSBTY3JvbGxWaWV3IHdoaWxlIHByb3ZpZGluZ1xuICogaW50ZWdyYXRpb24gd2l0aCB0b3VjaCBsb2NraW5nIFwicmVzcG9uZGVyXCIgc3lzdGVtLlxuICpcbiAqIEtlZXAgaW4gbWluZCB0aGF0IFNjcm9sbFZpZXdzIG11c3QgaGF2ZSBhIGJvdW5kZWQgaGVpZ2h0IGluIG9yZGVyIHRvIHdvcmssXG4gKiBzaW5jZSB0aGV5IGNvbnRhaW4gdW5ib3VuZGVkLWhlaWdodCBjaGlsZHJlbiBpbnRvIGEgYm91bmRlZCBjb250YWluZXIgKHZpYVxuICogYSBzY3JvbGwgaW50ZXJhY3Rpb24pLiBJbiBvcmRlciB0byBib3VuZCB0aGUgaGVpZ2h0IG9mIGEgU2Nyb2xsVmlldywgZWl0aGVyXG4gKiBzZXQgdGhlIGhlaWdodCBvZiB0aGUgdmlldyBkaXJlY3RseSAoZGlzY291cmFnZWQpIG9yIG1ha2Ugc3VyZSBhbGwgcGFyZW50XG4gKiB2aWV3cyBoYXZlIGJvdW5kZWQgaGVpZ2h0LiBGb3JnZXR0aW5nIHRvIHRyYW5zZmVyIGB7ZmxleDogMX1gIGRvd24gdGhlXG4gKiB2aWV3IHN0YWNrIGNhbiBsZWFkIHRvIGVycm9ycyBoZXJlLCB3aGljaCB0aGUgZWxlbWVudCBpbnNwZWN0b3IgbWFrZXNcbiAqIGVhc3kgdG8gZGVidWcuXG4gKlxuICogRG9lc24ndCB5ZXQgc3VwcG9ydCBvdGhlciBjb250YWluZWQgcmVzcG9uZGVycyBmcm9tIGJsb2NraW5nIHRoaXMgc2Nyb2xsXG4gKiB2aWV3IGZyb20gYmVjb21pbmcgdGhlIHJlc3BvbmRlci5cbiAqXG4gKlxuICogYDxTY3JvbGxWaWV3PmAgdnMgW2A8RmxhdExpc3Q+YF0oaHR0cHM6Ly9yZWFjdG5hdGl2ZS5kZXYvZG9jcy9mbGF0bGlzdC5odG1sKSAtIHdoaWNoIG9uZSB0byB1c2U/XG4gKlxuICogYFNjcm9sbFZpZXdgIHNpbXBseSByZW5kZXJzIGFsbCBpdHMgcmVhY3QgY2hpbGQgY29tcG9uZW50cyBhdCBvbmNlLiBUaGF0XG4gKiBtYWtlcyBpdCB2ZXJ5IGVhc3kgdG8gdW5kZXJzdGFuZCBhbmQgdXNlLlxuICpcbiAqIE9uIHRoZSBvdGhlciBoYW5kLCB0aGlzIGhhcyBhIHBlcmZvcm1hbmNlIGRvd25zaWRlLiBJbWFnaW5lIHlvdSBoYXZlIGEgdmVyeVxuICogbG9uZyBsaXN0IG9mIGl0ZW1zIHlvdSB3YW50IHRvIGRpc3BsYXksIG1heWJlIHNldmVyYWwgc2NyZWVucyB3b3J0aCBvZlxuICogY29udGVudC4gQ3JlYXRpbmcgSlMgY29tcG9uZW50cyBhbmQgbmF0aXZlIHZpZXdzIGZvciBldmVyeXRoaW5nIGFsbCBhdCBvbmNlLFxuICogbXVjaCBvZiB3aGljaCBtYXkgbm90IGV2ZW4gYmUgc2hvd24sIHdpbGwgY29udHJpYnV0ZSB0byBzbG93IHJlbmRlcmluZyBhbmRcbiAqIGluY3JlYXNlZCBtZW1vcnkgdXNhZ2UuXG4gKlxuICogVGhpcyBpcyB3aGVyZSBgRmxhdExpc3RgIGNvbWVzIGludG8gcGxheS4gYEZsYXRMaXN0YCByZW5kZXJzIGl0ZW1zIGxhemlseSxcbiAqIGp1c3Qgd2hlbiB0aGV5IGFyZSBhYm91dCB0byBhcHBlYXIsIGFuZCByZW1vdmVzIGl0ZW1zIHRoYXQgc2Nyb2xsIHdheSBvZmZcbiAqIHNjcmVlbiB0byBzYXZlIG1lbW9yeSBhbmQgcHJvY2Vzc2luZyB0aW1lLlxuICpcbiAqIGBGbGF0TGlzdGAgaXMgYWxzbyBoYW5keSBpZiB5b3Ugd2FudCB0byByZW5kZXIgc2VwYXJhdG9ycyBiZXR3ZWVuIHlvdXIgaXRlbXMsXG4gKiBtdWx0aXBsZSBjb2x1bW5zLCBpbmZpbml0ZSBzY3JvbGwgbG9hZGluZywgb3IgYW55IG51bWJlciBvZiBvdGhlciBmZWF0dXJlcyBpdFxuICogc3VwcG9ydHMgb3V0IG9mIHRoZSBib3guXG4gKi9cbmNsYXNzIFNjcm9sbFZpZXcgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQ8UHJvcHMsIFN0YXRlPiB7XG4gIHN0YXRpYyBDb250ZXh0OiB0eXBlb2YgU2Nyb2xsVmlld0NvbnRleHQgPSBTY3JvbGxWaWV3Q29udGV4dDtcblxuICBjb25zdHJ1Y3Rvcihwcm9wczogUHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG5cbiAgICB0aGlzLl9zY3JvbGxBbmltYXRlZFZhbHVlID0gbmV3IEFuaW1hdGVkSW1wbGVtZW50YXRpb24uVmFsdWUoXG4gICAgICB0aGlzLnByb3BzLmNvbnRlbnRPZmZzZXQ/LnkgPz8gMCxcbiAgICApO1xuICAgIHRoaXMuX3Njcm9sbEFuaW1hdGVkVmFsdWUuc2V0T2Zmc2V0KHRoaXMucHJvcHMuY29udGVudEluc2V0Py50b3AgPz8gMCk7XG4gIH1cblxuICBfc2Nyb2xsQW5pbWF0ZWRWYWx1ZTogQW5pbWF0ZWRJbXBsZW1lbnRhdGlvbi5WYWx1ZTtcbiAgX3Njcm9sbEFuaW1hdGVkVmFsdWVBdHRhY2htZW50OiA/e2RldGFjaDogKCkgPT4gdm9pZCwgLi4ufSA9IG51bGw7XG4gIF9zdGlja3lIZWFkZXJSZWZzOiBNYXA8XG4gICAgc3RyaW5nLFxuICAgIFJlYWN0LkVsZW1lbnRSZWY8U3RpY2t5SGVhZGVyQ29tcG9uZW50VHlwZT4sXG4gID4gPSBuZXcgTWFwKCk7XG4gIF9oZWFkZXJMYXlvdXRZczogTWFwPHN0cmluZywgbnVtYmVyPiA9IG5ldyBNYXAoKTtcblxuICBfa2V5Ym9hcmRXaWxsT3BlblRvOiA/S2V5Ym9hcmRFdmVudCA9IG51bGw7XG4gIF9hZGRpdGlvbmFsU2Nyb2xsT2Zmc2V0OiBudW1iZXIgPSAwO1xuICBfaXNUb3VjaGluZzogYm9vbGVhbiA9IGZhbHNlO1xuICBfbGFzdE1vbWVudHVtU2Nyb2xsQmVnaW5UaW1lOiBudW1iZXIgPSAwO1xuICBfbGFzdE1vbWVudHVtU2Nyb2xsRW5kVGltZTogbnVtYmVyID0gMDtcblxuICAvLyBSZXNldCB0byBmYWxzZSBldmVyeSB0aW1lIGJlY29tZXMgcmVzcG9uZGVyLiBUaGlzIGlzIHVzZWQgdG86XG4gIC8vIC0gRGV0ZXJtaW5lIGlmIHRoZSBzY3JvbGwgdmlldyBoYXMgYmVlbiBzY3JvbGxlZCBhbmQgdGhlcmVmb3JlIHNob3VsZFxuICAvLyByZWZ1c2UgdG8gZ2l2ZSB1cCBpdHMgcmVzcG9uZGVyIGxvY2suXG4gIC8vIC0gRGV0ZXJtaW5lIGlmIHJlbGVhc2luZyBzaG91bGQgZGlzbWlzcyB0aGUga2V5Ym9hcmQgd2hlbiB3ZSBhcmUgaW5cbiAgLy8gdGFwLXRvLWRpc21pc3MgbW9kZSAodGhpcy5wcm9wcy5rZXlib2FyZFNob3VsZFBlcnNpc3RUYXBzICE9PSAnYWx3YXlzJykuXG4gIF9vYnNlcnZlZFNjcm9sbFNpbmNlQmVjb21pbmdSZXNwb25kZXI6IGJvb2xlYW4gPSBmYWxzZTtcbiAgX2JlY2FtZVJlc3BvbmRlcldoaWxlQW5pbWF0aW5nOiBib29sZWFuID0gZmFsc2U7XG4gIF9wcmV2ZW50TmVnYXRpdmVTY3JvbGxPZmZzZXQ6ID9ib29sZWFuID0gbnVsbDtcblxuICBfYW5pbWF0ZWQgPSBudWxsO1xuXG4gIF9zdWJzY3JpcHRpb25LZXlib2FyZFdpbGxTaG93OiA/RXZlbnRTdWJzY3JpcHRpb24gPSBudWxsO1xuICBfc3Vic2NyaXB0aW9uS2V5Ym9hcmRXaWxsSGlkZTogP0V2ZW50U3Vic2NyaXB0aW9uID0gbnVsbDtcbiAgX3N1YnNjcmlwdGlvbktleWJvYXJkRGlkU2hvdzogP0V2ZW50U3Vic2NyaXB0aW9uID0gbnVsbDtcbiAgX3N1YnNjcmlwdGlvbktleWJvYXJkRGlkSGlkZTogP0V2ZW50U3Vic2NyaXB0aW9uID0gbnVsbDtcblxuICBzdGF0ZTogU3RhdGUgPSB7XG4gICAgbGF5b3V0SGVpZ2h0OiBudWxsLFxuICB9O1xuXG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIGlmICh0eXBlb2YgdGhpcy5wcm9wcy5rZXlib2FyZFNob3VsZFBlcnNpc3RUYXBzID09PSAnYm9vbGVhbicpIHtcbiAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgYCdrZXlib2FyZFNob3VsZFBlcnNpc3RUYXBzPXske1xuICAgICAgICAgIHRoaXMucHJvcHMua2V5Ym9hcmRTaG91bGRQZXJzaXN0VGFwcyA9PT0gdHJ1ZSA/ICd0cnVlJyA6ICdmYWxzZSdcbiAgICAgICAgfX0nIGlzIGRlcHJlY2F0ZWQuIGAgK1xuICAgICAgICAgIGBVc2UgJ2tleWJvYXJkU2hvdWxkUGVyc2lzdFRhcHM9XCIke1xuICAgICAgICAgICAgdGhpcy5wcm9wcy5rZXlib2FyZFNob3VsZFBlcnNpc3RUYXBzID8gJ2Fsd2F5cycgOiAnbmV2ZXInXG4gICAgICAgICAgfVwiJyBpbnN0ZWFkYCxcbiAgICAgICk7XG4gICAgfVxuXG4gICAgdGhpcy5fa2V5Ym9hcmRXaWxsT3BlblRvID0gbnVsbDtcbiAgICB0aGlzLl9hZGRpdGlvbmFsU2Nyb2xsT2Zmc2V0ID0gMDtcblxuICAgIHRoaXMuX3N1YnNjcmlwdGlvbktleWJvYXJkV2lsbFNob3cgPSBLZXlib2FyZC5hZGRMaXN0ZW5lcihcbiAgICAgICdrZXlib2FyZFdpbGxTaG93JyxcbiAgICAgIHRoaXMuc2Nyb2xsUmVzcG9uZGVyS2V5Ym9hcmRXaWxsU2hvdyxcbiAgICApO1xuICAgIHRoaXMuX3N1YnNjcmlwdGlvbktleWJvYXJkV2lsbEhpZGUgPSBLZXlib2FyZC5hZGRMaXN0ZW5lcihcbiAgICAgICdrZXlib2FyZFdpbGxIaWRlJyxcbiAgICAgIHRoaXMuc2Nyb2xsUmVzcG9uZGVyS2V5Ym9hcmRXaWxsSGlkZSxcbiAgICApO1xuICAgIHRoaXMuX3N1YnNjcmlwdGlvbktleWJvYXJkRGlkU2hvdyA9IEtleWJvYXJkLmFkZExpc3RlbmVyKFxuICAgICAgJ2tleWJvYXJkRGlkU2hvdycsXG4gICAgICB0aGlzLnNjcm9sbFJlc3BvbmRlcktleWJvYXJkRGlkU2hvdyxcbiAgICApO1xuICAgIHRoaXMuX3N1YnNjcmlwdGlvbktleWJvYXJkRGlkSGlkZSA9IEtleWJvYXJkLmFkZExpc3RlbmVyKFxuICAgICAgJ2tleWJvYXJkRGlkSGlkZScsXG4gICAgICB0aGlzLnNjcm9sbFJlc3BvbmRlcktleWJvYXJkRGlkSGlkZSxcbiAgICApO1xuXG4gICAgdGhpcy5fdXBkYXRlQW5pbWF0ZWROb2RlQXR0YWNobWVudCgpO1xuICB9XG5cbiAgY29tcG9uZW50RGlkVXBkYXRlKHByZXZQcm9wczogUHJvcHMpIHtcbiAgICBjb25zdCBwcmV2Q29udGVudEluc2V0VG9wID0gcHJldlByb3BzLmNvbnRlbnRJbnNldFxuICAgICAgPyBwcmV2UHJvcHMuY29udGVudEluc2V0LnRvcFxuICAgICAgOiAwO1xuICAgIGNvbnN0IG5ld0NvbnRlbnRJbnNldFRvcCA9IHRoaXMucHJvcHMuY29udGVudEluc2V0XG4gICAgICA/IHRoaXMucHJvcHMuY29udGVudEluc2V0LnRvcFxuICAgICAgOiAwO1xuICAgIGlmIChwcmV2Q29udGVudEluc2V0VG9wICE9PSBuZXdDb250ZW50SW5zZXRUb3ApIHtcbiAgICAgIHRoaXMuX3Njcm9sbEFuaW1hdGVkVmFsdWUuc2V0T2Zmc2V0KG5ld0NvbnRlbnRJbnNldFRvcCB8fCAwKTtcbiAgICB9XG5cbiAgICB0aGlzLl91cGRhdGVBbmltYXRlZE5vZGVBdHRhY2htZW50KCk7XG4gIH1cblxuICBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICBpZiAodGhpcy5fc3Vic2NyaXB0aW9uS2V5Ym9hcmRXaWxsU2hvdyAhPSBudWxsKSB7XG4gICAgICB0aGlzLl9zdWJzY3JpcHRpb25LZXlib2FyZFdpbGxTaG93LnJlbW92ZSgpO1xuICAgIH1cbiAgICBpZiAodGhpcy5fc3Vic2NyaXB0aW9uS2V5Ym9hcmRXaWxsSGlkZSAhPSBudWxsKSB7XG4gICAgICB0aGlzLl9zdWJzY3JpcHRpb25LZXlib2FyZFdpbGxIaWRlLnJlbW92ZSgpO1xuICAgIH1cbiAgICBpZiAodGhpcy5fc3Vic2NyaXB0aW9uS2V5Ym9hcmREaWRTaG93ICE9IG51bGwpIHtcbiAgICAgIHRoaXMuX3N1YnNjcmlwdGlvbktleWJvYXJkRGlkU2hvdy5yZW1vdmUoKTtcbiAgICB9XG4gICAgaWYgKHRoaXMuX3N1YnNjcmlwdGlvbktleWJvYXJkRGlkSGlkZSAhPSBudWxsKSB7XG4gICAgICB0aGlzLl9zdWJzY3JpcHRpb25LZXlib2FyZERpZEhpZGUucmVtb3ZlKCk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuX3Njcm9sbEFuaW1hdGVkVmFsdWVBdHRhY2htZW50KSB7XG4gICAgICB0aGlzLl9zY3JvbGxBbmltYXRlZFZhbHVlQXR0YWNobWVudC5kZXRhY2goKTtcbiAgICB9XG4gIH1cblxuICBfc2V0TmF0aXZlUmVmID0gc2V0QW5kRm9yd2FyZFJlZih7XG4gICAgZ2V0Rm9yd2FyZGVkUmVmOiAoKSA9PiB0aGlzLnByb3BzLnNjcm9sbFZpZXdSZWYsXG4gICAgc2V0TG9jYWxSZWY6IHJlZiA9PiB7XG4gICAgICB0aGlzLl9zY3JvbGxWaWV3UmVmID0gcmVmO1xuXG4gICAgICAvKlxuICAgICAgICBUaGlzIGlzIGEgaGFjay4gSWRlYWxseSB3ZSB3b3VsZCBmb3J3YXJkUmVmIHRvIHRoZSB1bmRlcmx5aW5nXG4gICAgICAgIGhvc3QgY29tcG9uZW50LiBIb3dldmVyLCBzaW5jZSBTY3JvbGxWaWV3IGhhcyBpdCdzIG93biBtZXRob2RzIHRoYXQgY2FuIGJlXG4gICAgICAgIGNhbGxlZCBhcyB3ZWxsLCBpZiB3ZSB1c2VkIHRoZSBzdGFuZGFyZCBmb3J3YXJkUmVmIHRoZW4gdGhlc2VcbiAgICAgICAgbWV0aG9kcyB3b3VsZG4ndCBiZSBhY2Nlc3NpYmxlIGFuZCB0aHVzIGJlIGEgYnJlYWtpbmcgY2hhbmdlLlxuXG4gICAgICAgIFRoZXJlZm9yZSB3ZSBlZGl0IHJlZiB0byBpbmNsdWRlIFNjcm9sbFZpZXcncyBwdWJsaWMgbWV0aG9kcyBzbyB0aGF0XG4gICAgICAgIHRoZXkgYXJlIGNhbGxhYmxlIGZyb20gdGhlIHJlZi5cbiAgICAgICovXG4gICAgICBpZiAocmVmKSB7XG4gICAgICAgIHJlZi5nZXRTY3JvbGxSZXNwb25kZXIgPSB0aGlzLmdldFNjcm9sbFJlc3BvbmRlcjtcbiAgICAgICAgcmVmLmdldFNjcm9sbGFibGVOb2RlID0gdGhpcy5nZXRTY3JvbGxhYmxlTm9kZTtcbiAgICAgICAgcmVmLmdldElubmVyVmlld05vZGUgPSB0aGlzLmdldElubmVyVmlld05vZGU7XG4gICAgICAgIHJlZi5nZXRJbm5lclZpZXdSZWYgPSB0aGlzLmdldElubmVyVmlld1JlZjtcbiAgICAgICAgcmVmLmdldE5hdGl2ZVNjcm9sbFJlZiA9IHRoaXMuZ2V0TmF0aXZlU2Nyb2xsUmVmO1xuICAgICAgICByZWYuc2Nyb2xsVG8gPSB0aGlzLnNjcm9sbFRvO1xuICAgICAgICByZWYuc2Nyb2xsVG9FbmQgPSB0aGlzLnNjcm9sbFRvRW5kO1xuICAgICAgICByZWYuZmxhc2hTY3JvbGxJbmRpY2F0b3JzID0gdGhpcy5mbGFzaFNjcm9sbEluZGljYXRvcnM7XG4gICAgICAgIHJlZi5zY3JvbGxSZXNwb25kZXJab29tVG8gPSB0aGlzLnNjcm9sbFJlc3BvbmRlclpvb21UbztcbiAgICAgICAgcmVmLnNjcm9sbFJlc3BvbmRlclNjcm9sbE5hdGl2ZUhhbmRsZVRvS2V5Ym9hcmQgPSB0aGlzLnNjcm9sbFJlc3BvbmRlclNjcm9sbE5hdGl2ZUhhbmRsZVRvS2V5Ym9hcmQ7XG4gICAgICB9XG4gICAgfSxcbiAgfSk7XG5cbiAgLyoqXG4gICAqIFJldHVybnMgYSByZWZlcmVuY2UgdG8gdGhlIHVuZGVybHlpbmcgc2Nyb2xsIHJlc3BvbmRlciwgd2hpY2ggc3VwcG9ydHNcbiAgICogb3BlcmF0aW9ucyBsaWtlIGBzY3JvbGxUb2AuIEFsbCBTY3JvbGxWaWV3LWxpa2UgY29tcG9uZW50cyBzaG91bGRcbiAgICogaW1wbGVtZW50IHRoaXMgbWV0aG9kIHNvIHRoYXQgdGhleSBjYW4gYmUgY29tcG9zZWQgd2hpbGUgcHJvdmlkaW5nIGFjY2Vzc1xuICAgKiB0byB0aGUgdW5kZXJseWluZyBzY3JvbGwgcmVzcG9uZGVyJ3MgbWV0aG9kcy5cbiAgICovXG4gIGdldFNjcm9sbFJlc3BvbmRlcjogKCkgPT4gU2Nyb2xsUmVzcG9uZGVyVHlwZSA9ICgpID0+IHtcbiAgICAvLyAkRmxvd0ZpeE1lW3VuY2xlYXItdHlwZV1cbiAgICByZXR1cm4gKCh0aGlzOiBhbnkpOiBTY3JvbGxSZXNwb25kZXJUeXBlKTtcbiAgfTtcblxuICBnZXRTY3JvbGxhYmxlTm9kZTogKCkgPT4gP251bWJlciA9ICgpID0+IHtcbiAgICByZXR1cm4gUmVhY3ROYXRpdmUuZmluZE5vZGVIYW5kbGUodGhpcy5fc2Nyb2xsVmlld1JlZik7XG4gIH07XG5cbiAgZ2V0SW5uZXJWaWV3Tm9kZTogKCkgPT4gP251bWJlciA9ICgpID0+IHtcbiAgICByZXR1cm4gUmVhY3ROYXRpdmUuZmluZE5vZGVIYW5kbGUodGhpcy5faW5uZXJWaWV3UmVmKTtcbiAgfTtcblxuICBnZXRJbm5lclZpZXdSZWY6ICgpID0+ID9SZWFjdC5FbGVtZW50UmVmPHR5cGVvZiBWaWV3PiA9ICgpID0+IHtcbiAgICByZXR1cm4gdGhpcy5faW5uZXJWaWV3UmVmO1xuICB9O1xuXG4gIGdldE5hdGl2ZVNjcm9sbFJlZjogKCkgPT4gP1JlYWN0LkVsZW1lbnRSZWY8SG9zdENvbXBvbmVudDxtaXhlZD4+ID0gKCkgPT4ge1xuICAgIHJldHVybiB0aGlzLl9zY3JvbGxWaWV3UmVmO1xuICB9O1xuXG4gIC8qKlxuICAgKiBTY3JvbGxzIHRvIGEgZ2l2ZW4geCwgeSBvZmZzZXQsIGVpdGhlciBpbW1lZGlhdGVseSBvciB3aXRoIGEgc21vb3RoIGFuaW1hdGlvbi5cbiAgICpcbiAgICogRXhhbXBsZTpcbiAgICpcbiAgICogYHNjcm9sbFRvKHt4OiAwLCB5OiAwLCBhbmltYXRlZDogdHJ1ZX0pYFxuICAgKlxuICAgKiBOb3RlOiBUaGUgd2VpcmQgZnVuY3Rpb24gc2lnbmF0dXJlIGlzIGR1ZSB0byB0aGUgZmFjdCB0aGF0LCBmb3IgaGlzdG9yaWNhbCByZWFzb25zLFxuICAgKiB0aGUgZnVuY3Rpb24gYWxzbyBhY2NlcHRzIHNlcGFyYXRlIGFyZ3VtZW50cyBhcyBhbiBhbHRlcm5hdGl2ZSB0byB0aGUgb3B0aW9ucyBvYmplY3QuXG4gICAqIFRoaXMgaXMgZGVwcmVjYXRlZCBkdWUgdG8gYW1iaWd1aXR5ICh5IGJlZm9yZSB4KSwgYW5kIFNIT1VMRCBOT1QgQkUgVVNFRC5cbiAgICovXG4gIHNjcm9sbFRvOiAoXG4gICAgb3B0aW9ucz86XG4gICAgICB8IHtcbiAgICAgICAgICB4PzogbnVtYmVyLFxuICAgICAgICAgIHk/OiBudW1iZXIsXG4gICAgICAgICAgYW5pbWF0ZWQ/OiBib29sZWFuLFxuICAgICAgICAgIC4uLlxuICAgICAgICB9XG4gICAgICB8IG51bWJlcixcbiAgICBkZXByZWNhdGVkWD86IG51bWJlcixcbiAgICBkZXByZWNhdGVkQW5pbWF0ZWQ/OiBib29sZWFuLFxuICApID0+IHZvaWQgPSAoXG4gICAgb3B0aW9ucz86XG4gICAgICB8IHtcbiAgICAgICAgICB4PzogbnVtYmVyLFxuICAgICAgICAgIHk/OiBudW1iZXIsXG4gICAgICAgICAgYW5pbWF0ZWQ/OiBib29sZWFuLFxuICAgICAgICAgIC4uLlxuICAgICAgICB9XG4gICAgICB8IG51bWJlcixcbiAgICBkZXByZWNhdGVkWD86IG51bWJlcixcbiAgICBkZXByZWNhdGVkQW5pbWF0ZWQ/OiBib29sZWFuLFxuICApID0+IHtcbiAgICBsZXQgeCwgeSwgYW5pbWF0ZWQ7XG4gICAgaWYgKHR5cGVvZiBvcHRpb25zID09PSAnbnVtYmVyJykge1xuICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICAnYHNjcm9sbFRvKHksIHgsIGFuaW1hdGVkKWAgaXMgZGVwcmVjYXRlZC4gVXNlIGBzY3JvbGxUbyh7eDogNSwgeTogNSwgJyArXG4gICAgICAgICAgJ2FuaW1hdGVkOiB0cnVlfSlgIGluc3RlYWQuJyxcbiAgICAgICk7XG4gICAgICB5ID0gb3B0aW9ucztcbiAgICAgIHggPSBkZXByZWNhdGVkWDtcbiAgICAgIGFuaW1hdGVkID0gZGVwcmVjYXRlZEFuaW1hdGVkO1xuICAgIH0gZWxzZSBpZiAob3B0aW9ucykge1xuICAgICAgeSA9IG9wdGlvbnMueTtcbiAgICAgIHggPSBvcHRpb25zLng7XG4gICAgICBhbmltYXRlZCA9IG9wdGlvbnMuYW5pbWF0ZWQ7XG4gICAgfVxuICAgIGlmICh0aGlzLl9zY3JvbGxWaWV3UmVmID09IG51bGwpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgQ29tbWFuZHMuc2Nyb2xsVG8odGhpcy5fc2Nyb2xsVmlld1JlZiwgeCB8fCAwLCB5IHx8IDAsIGFuaW1hdGVkICE9PSBmYWxzZSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIElmIHRoaXMgaXMgYSB2ZXJ0aWNhbCBTY3JvbGxWaWV3IHNjcm9sbHMgdG8gdGhlIGJvdHRvbS5cbiAgICogSWYgdGhpcyBpcyBhIGhvcml6b250YWwgU2Nyb2xsVmlldyBzY3JvbGxzIHRvIHRoZSByaWdodC5cbiAgICpcbiAgICogVXNlIGBzY3JvbGxUb0VuZCh7YW5pbWF0ZWQ6IHRydWV9KWAgZm9yIHNtb290aCBhbmltYXRlZCBzY3JvbGxpbmcsXG4gICAqIGBzY3JvbGxUb0VuZCh7YW5pbWF0ZWQ6IGZhbHNlfSlgIGZvciBpbW1lZGlhdGUgc2Nyb2xsaW5nLlxuICAgKiBJZiBubyBvcHRpb25zIGFyZSBwYXNzZWQsIGBhbmltYXRlZGAgZGVmYXVsdHMgdG8gdHJ1ZS5cbiAgICovXG4gIHNjcm9sbFRvRW5kOiAob3B0aW9ucz86ID97YW5pbWF0ZWQ/OiBib29sZWFuLCAuLi59KSA9PiB2b2lkID0gKFxuICAgIG9wdGlvbnM/OiA/e2FuaW1hdGVkPzogYm9vbGVhbiwgLi4ufSxcbiAgKSA9PiB7XG4gICAgLy8gRGVmYXVsdCB0byB0cnVlXG4gICAgY29uc3QgYW5pbWF0ZWQgPSAob3B0aW9ucyAmJiBvcHRpb25zLmFuaW1hdGVkKSAhPT0gZmFsc2U7XG4gICAgaWYgKHRoaXMuX3Njcm9sbFZpZXdSZWYgPT0gbnVsbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBDb21tYW5kcy5zY3JvbGxUb0VuZCh0aGlzLl9zY3JvbGxWaWV3UmVmLCBhbmltYXRlZCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIERpc3BsYXlzIHRoZSBzY3JvbGwgaW5kaWNhdG9ycyBtb21lbnRhcmlseS5cbiAgICpcbiAgICogQHBsYXRmb3JtIGlvc1xuICAgKi9cbiAgZmxhc2hTY3JvbGxJbmRpY2F0b3JzOiAoKSA9PiB2b2lkID0gKCkgPT4ge1xuICAgIGlmICh0aGlzLl9zY3JvbGxWaWV3UmVmID09IG51bGwpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgQ29tbWFuZHMuZmxhc2hTY3JvbGxJbmRpY2F0b3JzKHRoaXMuX3Njcm9sbFZpZXdSZWYpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBUaGlzIG1ldGhvZCBzaG91bGQgYmUgdXNlZCBhcyB0aGUgY2FsbGJhY2sgdG8gb25Gb2N1cyBpbiBhIFRleHRJbnB1dHMnXG4gICAqIHBhcmVudCB2aWV3LiBOb3RlIHRoYXQgYW55IG1vZHVsZSB1c2luZyB0aGlzIG1peGluIG5lZWRzIHRvIHJldHVyblxuICAgKiB0aGUgcGFyZW50IHZpZXcncyByZWYgaW4gZ2V0U2Nyb2xsVmlld1JlZigpIGluIG9yZGVyIHRvIHVzZSB0aGlzIG1ldGhvZC5cbiAgICogQHBhcmFtIHtudW1iZXJ9IG5vZGVIYW5kbGUgVGhlIFRleHRJbnB1dCBub2RlIGhhbmRsZVxuICAgKiBAcGFyYW0ge251bWJlcn0gYWRkaXRpb25hbE9mZnNldCBUaGUgc2Nyb2xsIHZpZXcncyBib3R0b20gXCJjb250ZW50SW5zZXRcIi5cbiAgICogICAgICAgIERlZmF1bHQgaXMgMC5cbiAgICogQHBhcmFtIHtib29sfSBwcmV2ZW50TmVnYXRpdmVTY3JvbGxpbmcgV2hldGhlciB0byBhbGxvdyBwdWxsaW5nIHRoZSBjb250ZW50XG4gICAqICAgICAgICBkb3duIHRvIG1ha2UgaXQgbWVldCB0aGUga2V5Ym9hcmQncyB0b3AuIERlZmF1bHQgaXMgZmFsc2UuXG4gICAqL1xuICBzY3JvbGxSZXNwb25kZXJTY3JvbGxOYXRpdmVIYW5kbGVUb0tleWJvYXJkOiA8VD4oXG4gICAgbm9kZUhhbmRsZTogbnVtYmVyIHwgUmVhY3QuRWxlbWVudFJlZjxIb3N0Q29tcG9uZW50PFQ+PixcbiAgICBhZGRpdGlvbmFsT2Zmc2V0PzogbnVtYmVyLFxuICAgIHByZXZlbnROZWdhdGl2ZVNjcm9sbE9mZnNldD86IGJvb2xlYW4sXG4gICkgPT4gdm9pZCA9IDxUPihcbiAgICBub2RlSGFuZGxlOiBudW1iZXIgfCBSZWFjdC5FbGVtZW50UmVmPEhvc3RDb21wb25lbnQ8VD4+LFxuICAgIGFkZGl0aW9uYWxPZmZzZXQ/OiBudW1iZXIsXG4gICAgcHJldmVudE5lZ2F0aXZlU2Nyb2xsT2Zmc2V0PzogYm9vbGVhbixcbiAgKSA9PiB7XG4gICAgdGhpcy5fYWRkaXRpb25hbFNjcm9sbE9mZnNldCA9IGFkZGl0aW9uYWxPZmZzZXQgfHwgMDtcbiAgICB0aGlzLl9wcmV2ZW50TmVnYXRpdmVTY3JvbGxPZmZzZXQgPSAhIXByZXZlbnROZWdhdGl2ZVNjcm9sbE9mZnNldDtcblxuICAgIGlmICh0aGlzLl9pbm5lclZpZXdSZWYgPT0gbnVsbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2Ygbm9kZUhhbmRsZSA9PT0gJ251bWJlcicpIHtcbiAgICAgIFVJTWFuYWdlci5tZWFzdXJlTGF5b3V0KFxuICAgICAgICBub2RlSGFuZGxlLFxuICAgICAgICBSZWFjdE5hdGl2ZS5maW5kTm9kZUhhbmRsZSh0aGlzKSxcbiAgICAgICAgLy8gJEZsb3dGaXhNZVttZXRob2QtdW5iaW5kaW5nXSBhZGRlZCB3aGVuIGltcHJvdmluZyB0eXBpbmcgZm9yIHRoaXMgcGFyYW1ldGVyc1xuICAgICAgICB0aGlzLl90ZXh0SW5wdXRGb2N1c0Vycm9yLFxuICAgICAgICB0aGlzLl9pbnB1dE1lYXN1cmVBbmRTY3JvbGxUb0tleWJvYXJkLFxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbm9kZUhhbmRsZS5tZWFzdXJlTGF5b3V0KFxuICAgICAgICB0aGlzLl9pbm5lclZpZXdSZWYsXG4gICAgICAgIHRoaXMuX2lucHV0TWVhc3VyZUFuZFNjcm9sbFRvS2V5Ym9hcmQsXG4gICAgICAgIC8vICRGbG93Rml4TWVbbWV0aG9kLXVuYmluZGluZ10gYWRkZWQgd2hlbiBpbXByb3ZpbmcgdHlwaW5nIGZvciB0aGlzIHBhcmFtZXRlcnNcbiAgICAgICAgdGhpcy5fdGV4dElucHV0Rm9jdXNFcnJvcixcbiAgICAgICk7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBBIGhlbHBlciBmdW5jdGlvbiB0byB6b29tIHRvIGEgc3BlY2lmaWMgcmVjdCBpbiB0aGUgc2Nyb2xsdmlldy4gVGhlIGFyZ3VtZW50IGhhcyB0aGUgc2hhcGVcbiAgICoge3g6IG51bWJlcjsgeTogbnVtYmVyOyB3aWR0aDogbnVtYmVyOyBoZWlnaHQ6IG51bWJlcjsgYW5pbWF0ZWQ6IGJvb2xlYW4gPSB0cnVlfVxuICAgKlxuICAgKiBAcGxhdGZvcm0gaW9zXG4gICAqL1xuICBzY3JvbGxSZXNwb25kZXJab29tVG86IChcbiAgICByZWN0OiB7fFxuICAgICAgeDogbnVtYmVyLFxuICAgICAgeTogbnVtYmVyLFxuICAgICAgd2lkdGg6IG51bWJlcixcbiAgICAgIGhlaWdodDogbnVtYmVyLFxuICAgICAgYW5pbWF0ZWQ/OiBib29sZWFuLFxuICAgIHx9LFxuICAgIGFuaW1hdGVkPzogYm9vbGVhbiwgLy8gZGVwcmVjYXRlZCwgcHV0IHRoaXMgaW5zaWRlIHRoZSByZWN0IGFyZ3VtZW50IGluc3RlYWRcbiAgKSA9PiB2b2lkID0gKFxuICAgIHJlY3Q6IHt8XG4gICAgICB4OiBudW1iZXIsXG4gICAgICB5OiBudW1iZXIsXG4gICAgICB3aWR0aDogbnVtYmVyLFxuICAgICAgaGVpZ2h0OiBudW1iZXIsXG4gICAgICBhbmltYXRlZD86IGJvb2xlYW4sXG4gICAgfH0sXG4gICAgYW5pbWF0ZWQ/OiBib29sZWFuLCAvLyBkZXByZWNhdGVkLCBwdXQgdGhpcyBpbnNpZGUgdGhlIHJlY3QgYXJndW1lbnQgaW5zdGVhZFxuICApID0+IHtcbiAgICBpbnZhcmlhbnQoUGxhdGZvcm0uT1MgPT09ICdpb3MnLCAnem9vbVRvUmVjdCBpcyBub3QgaW1wbGVtZW50ZWQnKTtcbiAgICBpZiAoJ2FuaW1hdGVkJyBpbiByZWN0KSB7XG4gICAgICB0aGlzLl9hbmltYXRlZCA9IHJlY3QuYW5pbWF0ZWQ7XG4gICAgICBkZWxldGUgcmVjdC5hbmltYXRlZDtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBhbmltYXRlZCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgJ2BzY3JvbGxSZXNwb25kZXJab29tVG9gIGBhbmltYXRlZGAgYXJndW1lbnQgaXMgZGVwcmVjYXRlZC4gVXNlIGBvcHRpb25zLmFuaW1hdGVkYCBpbnN0ZWFkJyxcbiAgICAgICk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuX3Njcm9sbFZpZXdSZWYgPT0gbnVsbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBDb21tYW5kcy56b29tVG9SZWN0KHRoaXMuX3Njcm9sbFZpZXdSZWYsIHJlY3QsIGFuaW1hdGVkICE9PSBmYWxzZSk7XG4gIH07XG5cbiAgX3RleHRJbnB1dEZvY3VzRXJyb3IoKSB7XG4gICAgY29uc29sZS53YXJuKCdFcnJvciBtZWFzdXJpbmcgdGV4dCBmaWVsZC4nKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgY2FsY3VsYXRpb25zIHBlcmZvcm1lZCBoZXJlIGFzc3VtZSB0aGUgc2Nyb2xsIHZpZXcgdGFrZXMgdXAgdGhlIGVudGlyZVxuICAgKiBzY3JlZW4gLSBldmVuIGlmIGhhcyBzb21lIGNvbnRlbnQgaW5zZXQuIFdlIHRoZW4gbWVhc3VyZSB0aGUgb2Zmc2V0cyBvZiB0aGVcbiAgICoga2V5Ym9hcmQsIGFuZCBjb21wZW5zYXRlIGJvdGggZm9yIHRoZSBzY3JvbGwgdmlldydzIFwiY29udGVudEluc2V0XCIuXG4gICAqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBsZWZ0IFBvc2l0aW9uIG9mIGlucHV0IHcuci50LiB0YWJsZSB2aWV3LlxuICAgKiBAcGFyYW0ge251bWJlcn0gdG9wIFBvc2l0aW9uIG9mIGlucHV0IHcuci50LiB0YWJsZSB2aWV3LlxuICAgKiBAcGFyYW0ge251bWJlcn0gd2lkdGggV2lkdGggb2YgdGhlIHRleHQgaW5wdXQuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBoZWlnaHQgSGVpZ2h0IG9mIHRoZSB0ZXh0IGlucHV0LlxuICAgKi9cbiAgX2lucHV0TWVhc3VyZUFuZFNjcm9sbFRvS2V5Ym9hcmQ6IChcbiAgICBsZWZ0OiBudW1iZXIsXG4gICAgdG9wOiBudW1iZXIsXG4gICAgd2lkdGg6IG51bWJlcixcbiAgICBoZWlnaHQ6IG51bWJlcixcbiAgKSA9PiB2b2lkID0gKGxlZnQ6IG51bWJlciwgdG9wOiBudW1iZXIsIHdpZHRoOiBudW1iZXIsIGhlaWdodDogbnVtYmVyKSA9PiB7XG4gICAgbGV0IGtleWJvYXJkU2NyZWVuWSA9IERpbWVuc2lvbnMuZ2V0KCd3aW5kb3cnKS5oZWlnaHQ7XG5cbiAgICBjb25zdCBzY3JvbGxUZXh0SW5wdXRJbnRvVmlzaWJsZVJlY3QgPSAoKSA9PiB7XG4gICAgICBpZiAodGhpcy5fa2V5Ym9hcmRXaWxsT3BlblRvICE9IG51bGwpIHtcbiAgICAgICAga2V5Ym9hcmRTY3JlZW5ZID0gdGhpcy5fa2V5Ym9hcmRXaWxsT3BlblRvLmVuZENvb3JkaW5hdGVzLnNjcmVlblk7XG4gICAgICB9XG4gICAgICBsZXQgc2Nyb2xsT2Zmc2V0WSA9XG4gICAgICAgIHRvcCAtIGtleWJvYXJkU2NyZWVuWSArIGhlaWdodCArIHRoaXMuX2FkZGl0aW9uYWxTY3JvbGxPZmZzZXQ7XG5cbiAgICAgIC8vIEJ5IGRlZmF1bHQsIHRoaXMgY2FuIHNjcm9sbCB3aXRoIG5lZ2F0aXZlIG9mZnNldCwgcHVsbGluZyB0aGUgY29udGVudFxuICAgICAgLy8gZG93biBzbyB0aGF0IHRoZSB0YXJnZXQgY29tcG9uZW50J3MgYm90dG9tIG1lZXRzIHRoZSBrZXlib2FyZCdzIHRvcC5cbiAgICAgIC8vIElmIHJlcXVlc3RlZCBvdGhlcndpc2UsIGNhcCB0aGUgb2Zmc2V0IGF0IDAgbWluaW11bSB0byBhdm9pZCBjb250ZW50XG4gICAgICAvLyBzaGlmdGluZyBkb3duLlxuICAgICAgaWYgKHRoaXMuX3ByZXZlbnROZWdhdGl2ZVNjcm9sbE9mZnNldCA9PT0gdHJ1ZSkge1xuICAgICAgICBzY3JvbGxPZmZzZXRZID0gTWF0aC5tYXgoMCwgc2Nyb2xsT2Zmc2V0WSk7XG4gICAgICB9XG4gICAgICB0aGlzLnNjcm9sbFRvKHt4OiAwLCB5OiBzY3JvbGxPZmZzZXRZLCBhbmltYXRlZDogdHJ1ZX0pO1xuXG4gICAgICB0aGlzLl9hZGRpdGlvbmFsU2Nyb2xsT2Zmc2V0ID0gMDtcbiAgICAgIHRoaXMuX3ByZXZlbnROZWdhdGl2ZVNjcm9sbE9mZnNldCA9IGZhbHNlO1xuICAgIH07XG5cbiAgICBpZiAodGhpcy5fa2V5Ym9hcmRXaWxsT3BlblRvID09IG51bGwpIHtcbiAgICAgIC8vIGBfa2V5Ym9hcmRXaWxsT3BlblRvYCBpcyBzZXQgaW5zaWRlIGBzY3JvbGxSZXNwb25kZXJLZXlib2FyZFdpbGxTaG93YCB3aGljaFxuICAgICAgLy8gaXMgbm90IGd1YXJhbnRlZWQgdG8gYmUgY2FsbGVkIGJlZm9yZSBgX2lucHV0TWVhc3VyZUFuZFNjcm9sbFRvS2V5Ym9hcmRgIGJ1dCBuYXRpdmUgaGFzIGFscmVhZHkgc2NoZWR1bGVkIGl0LlxuICAgICAgLy8gSW4gY2FzZSBpdCB3YXMgbm90IGNhbGxlZCBiZWZvcmUgYF9pbnB1dE1lYXN1cmVBbmRTY3JvbGxUb0tleWJvYXJkYCwgd2UgcG9zdHBvbmUgc2Nyb2xsaW5nIHRvXG4gICAgICAvLyB0ZXh0IGlucHV0LlxuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIHNjcm9sbFRleHRJbnB1dEludG9WaXNpYmxlUmVjdCgpO1xuICAgICAgfSwgMCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNjcm9sbFRleHRJbnB1dEludG9WaXNpYmxlUmVjdCgpO1xuICAgIH1cbiAgfTtcblxuICBfZ2V0S2V5Rm9ySW5kZXgoaW5kZXgsIGNoaWxkQXJyYXkpIHtcbiAgICBjb25zdCBjaGlsZCA9IGNoaWxkQXJyYXlbaW5kZXhdO1xuICAgIHJldHVybiBjaGlsZCAmJiBjaGlsZC5rZXk7XG4gIH1cblxuICBfdXBkYXRlQW5pbWF0ZWROb2RlQXR0YWNobWVudCgpIHtcbiAgICBpZiAodGhpcy5fc2Nyb2xsQW5pbWF0ZWRWYWx1ZUF0dGFjaG1lbnQpIHtcbiAgICAgIHRoaXMuX3Njcm9sbEFuaW1hdGVkVmFsdWVBdHRhY2htZW50LmRldGFjaCgpO1xuICAgIH1cbiAgICBpZiAoXG4gICAgICB0aGlzLnByb3BzLnN0aWNreUhlYWRlckluZGljZXMgJiZcbiAgICAgIHRoaXMucHJvcHMuc3RpY2t5SGVhZGVySW5kaWNlcy5sZW5ndGggPiAwXG4gICAgKSB7XG4gICAgICB0aGlzLl9zY3JvbGxBbmltYXRlZFZhbHVlQXR0YWNobWVudCA9IEFuaW1hdGVkSW1wbGVtZW50YXRpb24uYXR0YWNoTmF0aXZlRXZlbnQoXG4gICAgICAgIHRoaXMuX3Njcm9sbFZpZXdSZWYsXG4gICAgICAgICdvblNjcm9sbCcsXG4gICAgICAgIFt7bmF0aXZlRXZlbnQ6IHtjb250ZW50T2Zmc2V0OiB7eTogdGhpcy5fc2Nyb2xsQW5pbWF0ZWRWYWx1ZX19fV0sXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIF9zZXRTdGlja3lIZWFkZXJSZWYoXG4gICAga2V5OiBzdHJpbmcsXG4gICAgcmVmOiA/UmVhY3QuRWxlbWVudFJlZjxTdGlja3lIZWFkZXJDb21wb25lbnRUeXBlPixcbiAgKSB7XG4gICAgaWYgKHJlZikge1xuICAgICAgdGhpcy5fc3RpY2t5SGVhZGVyUmVmcy5zZXQoa2V5LCByZWYpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9zdGlja3lIZWFkZXJSZWZzLmRlbGV0ZShrZXkpO1xuICAgIH1cbiAgfVxuXG4gIF9vblN0aWNreUhlYWRlckxheW91dChpbmRleCwgZXZlbnQsIGtleSkge1xuICAgIGNvbnN0IHtzdGlja3lIZWFkZXJJbmRpY2VzfSA9IHRoaXMucHJvcHM7XG4gICAgaWYgKCFzdGlja3lIZWFkZXJJbmRpY2VzKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGNoaWxkQXJyYXkgPSBSZWFjdC5DaGlsZHJlbi50b0FycmF5KHRoaXMucHJvcHMuY2hpbGRyZW4pO1xuICAgIGlmIChrZXkgIT09IHRoaXMuX2dldEtleUZvckluZGV4KGluZGV4LCBjaGlsZEFycmF5KSkge1xuICAgICAgLy8gaWdub3JlIHN0YWxlIGxheW91dCB1cGRhdGVcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBsYXlvdXRZID0gZXZlbnQubmF0aXZlRXZlbnQubGF5b3V0Lnk7XG4gICAgdGhpcy5faGVhZGVyTGF5b3V0WXMuc2V0KGtleSwgbGF5b3V0WSk7XG5cbiAgICBjb25zdCBpbmRleE9mSW5kZXggPSBzdGlja3lIZWFkZXJJbmRpY2VzLmluZGV4T2YoaW5kZXgpO1xuICAgIGNvbnN0IHByZXZpb3VzSGVhZGVySW5kZXggPSBzdGlja3lIZWFkZXJJbmRpY2VzW2luZGV4T2ZJbmRleCAtIDFdO1xuICAgIGlmIChwcmV2aW91c0hlYWRlckluZGV4ICE9IG51bGwpIHtcbiAgICAgIGNvbnN0IHByZXZpb3VzSGVhZGVyID0gdGhpcy5fc3RpY2t5SGVhZGVyUmVmcy5nZXQoXG4gICAgICAgIHRoaXMuX2dldEtleUZvckluZGV4KHByZXZpb3VzSGVhZGVySW5kZXgsIGNoaWxkQXJyYXkpLFxuICAgICAgKTtcbiAgICAgIHByZXZpb3VzSGVhZGVyICYmXG4gICAgICAgIHByZXZpb3VzSGVhZGVyLnNldE5leHRIZWFkZXJZICYmXG4gICAgICAgIHByZXZpb3VzSGVhZGVyLnNldE5leHRIZWFkZXJZKGxheW91dFkpO1xuICAgIH1cbiAgfVxuXG4gIF9oYW5kbGVTY3JvbGwgPSAoZTogU2Nyb2xsRXZlbnQpID0+IHtcbiAgICBpZiAoX19ERVZfXykge1xuICAgICAgaWYgKFxuICAgICAgICB0aGlzLnByb3BzLm9uU2Nyb2xsICYmXG4gICAgICAgIHRoaXMucHJvcHMuc2Nyb2xsRXZlbnRUaHJvdHRsZSA9PSBudWxsICYmXG4gICAgICAgIFBsYXRmb3JtLk9TID09PSAnaW9zJ1xuICAgICAgKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFxuICAgICAgICAgICdZb3Ugc3BlY2lmaWVkIGBvblNjcm9sbGAgb24gYSA8U2Nyb2xsVmlldz4gYnV0IG5vdCAnICtcbiAgICAgICAgICAgICdgc2Nyb2xsRXZlbnRUaHJvdHRsZWAuIFlvdSB3aWxsIG9ubHkgcmVjZWl2ZSBvbmUgZXZlbnQuICcgK1xuICAgICAgICAgICAgJ1VzaW5nIGAxNmAgeW91IGdldCBhbGwgdGhlIGV2ZW50cyBidXQgYmUgYXdhcmUgdGhhdCBpdCBtYXkgJyArXG4gICAgICAgICAgICBcImNhdXNlIGZyYW1lIGRyb3BzLCB1c2UgYSBiaWdnZXIgbnVtYmVyIGlmIHlvdSBkb24ndCBuZWVkIGFzIFwiICtcbiAgICAgICAgICAgICdtdWNoIHByZWNpc2lvbi4nLFxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoUGxhdGZvcm0uT1MgPT09ICdhbmRyb2lkJykge1xuICAgICAgaWYgKHRoaXMucHJvcHMua2V5Ym9hcmREaXNtaXNzTW9kZSA9PT0gJ29uLWRyYWcnICYmIHRoaXMuX2lzVG91Y2hpbmcpIHtcbiAgICAgICAgZGlzbWlzc0tleWJvYXJkKCk7XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMuX29ic2VydmVkU2Nyb2xsU2luY2VCZWNvbWluZ1Jlc3BvbmRlciA9IHRydWU7XG4gICAgdGhpcy5wcm9wcy5vblNjcm9sbCAmJiB0aGlzLnByb3BzLm9uU2Nyb2xsKGUpO1xuICB9O1xuXG4gIF9oYW5kbGVMYXlvdXQgPSAoZTogTGF5b3V0RXZlbnQpID0+IHtcbiAgICBpZiAodGhpcy5wcm9wcy5pbnZlcnRTdGlja3lIZWFkZXJzID09PSB0cnVlKSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHtsYXlvdXRIZWlnaHQ6IGUubmF0aXZlRXZlbnQubGF5b3V0LmhlaWdodH0pO1xuICAgIH1cbiAgICBpZiAodGhpcy5wcm9wcy5vbkxheW91dCkge1xuICAgICAgdGhpcy5wcm9wcy5vbkxheW91dChlKTtcbiAgICB9XG4gIH07XG5cbiAgX2hhbmRsZUNvbnRlbnRPbkxheW91dCA9IChlOiBMYXlvdXRFdmVudCkgPT4ge1xuICAgIGNvbnN0IHt3aWR0aCwgaGVpZ2h0fSA9IGUubmF0aXZlRXZlbnQubGF5b3V0O1xuICAgIHRoaXMucHJvcHMub25Db250ZW50U2l6ZUNoYW5nZSAmJlxuICAgICAgdGhpcy5wcm9wcy5vbkNvbnRlbnRTaXplQ2hhbmdlKHdpZHRoLCBoZWlnaHQpO1xuICB9O1xuXG4gIF9zY3JvbGxWaWV3UmVmOiA/UmVhY3QuRWxlbWVudFJlZjxIb3N0Q29tcG9uZW50PG1peGVkPj4gPSBudWxsO1xuXG4gIF9pbm5lclZpZXdSZWY6ID9SZWFjdC5FbGVtZW50UmVmPHR5cGVvZiBWaWV3PiA9IG51bGw7XG4gIF9zZXRJbm5lclZpZXdSZWYgPSBzZXRBbmRGb3J3YXJkUmVmKHtcbiAgICBnZXRGb3J3YXJkZWRSZWY6ICgpID0+IHRoaXMucHJvcHMuaW5uZXJWaWV3UmVmLFxuICAgIHNldExvY2FsUmVmOiByZWYgPT4ge1xuICAgICAgdGhpcy5faW5uZXJWaWV3UmVmID0gcmVmO1xuICAgIH0sXG4gIH0pO1xuXG4gIC8qKlxuICAgKiBXYXJuaW5nLCB0aGlzIG1heSBiZSBjYWxsZWQgc2V2ZXJhbCB0aW1lcyBmb3IgYSBzaW5nbGUga2V5Ym9hcmQgb3BlbmluZy5cbiAgICogSXQncyBiZXN0IHRvIHN0b3JlIHRoZSBpbmZvcm1hdGlvbiBpbiB0aGlzIG1ldGhvZCBhbmQgdGhlbiB0YWtlIGFueSBhY3Rpb25cbiAgICogYXQgYSBsYXRlciBwb2ludCAoZWl0aGVyIGluIGBrZXlib2FyZERpZFNob3dgIG9yIG90aGVyKS5cbiAgICpcbiAgICogSGVyZSdzIHRoZSBvcmRlciB0aGF0IGV2ZW50cyBvY2N1ciBpbjpcbiAgICogLSBmb2N1c1xuICAgKiAtIHdpbGxTaG93IHtzdGFydENvb3JkaW5hdGVzLCBlbmRDb29yZGluYXRlc30gc2V2ZXJhbCB0aW1lc1xuICAgKiAtIGRpZFNob3cgc2V2ZXJhbCB0aW1lc1xuICAgKiAtIGJsdXJcbiAgICogLSB3aWxsSGlkZSB7c3RhcnRDb29yZGluYXRlcywgZW5kQ29vcmRpbmF0ZXN9IHNldmVyYWwgdGltZXNcbiAgICogLSBkaWRIaWRlIHNldmVyYWwgdGltZXNcbiAgICpcbiAgICogVGhlIGBTY3JvbGxSZXNwb25kZXJgIG1vZHVsZSBjYWxsYmFja3MgZm9yIGVhY2ggb2YgdGhlc2UgZXZlbnRzLlxuICAgKiBFdmVuIHRob3VnaCBhbnkgdXNlciBjb3VsZCBoYXZlIGVhc2lseSBsaXN0ZW5lZCB0byBrZXlib2FyZCBldmVudHNcbiAgICogdGhlbXNlbHZlcywgdXNpbmcgdGhlc2UgYHByb3BzYCBjYWxsYmFja3MgZW5zdXJlcyB0aGF0IG9yZGVyaW5nIG9mIGV2ZW50c1xuICAgKiBpcyBjb25zaXN0ZW50IC0gYW5kIG5vdCBkZXBlbmRlbnQgb24gdGhlIG9yZGVyIHRoYXQgdGhlIGtleWJvYXJkIGV2ZW50cyBhcmVcbiAgICogc3Vic2NyaWJlZCB0by4gVGhpcyBtYXR0ZXJzIHdoZW4gdGVsbGluZyB0aGUgc2Nyb2xsIHZpZXcgdG8gc2Nyb2xsIHRvIHdoZXJlXG4gICAqIHRoZSBrZXlib2FyZCBpcyBoZWFkZWQgLSB0aGUgc2Nyb2xsIHJlc3BvbmRlciBiZXR0ZXIgaGF2ZSBiZWVuIG5vdGlmaWVkIG9mXG4gICAqIHRoZSBrZXlib2FyZCBkZXN0aW5hdGlvbiBiZWZvcmUgYmVpbmcgaW5zdHJ1Y3RlZCB0byBzY3JvbGwgdG8gd2hlcmUgdGhlXG4gICAqIGtleWJvYXJkIHdpbGwgYmUuIFN0aWNrIHRvIHRoZSBgU2Nyb2xsUmVzcG9uZGVyYCBjYWxsYmFja3MsIGFuZCBldmVyeXRoaW5nXG4gICAqIHdpbGwgd29yay5cbiAgICpcbiAgICogV0FSTklORzogVGhlc2UgY2FsbGJhY2tzIHdpbGwgZmlyZSBldmVuIGlmIGEga2V5Ym9hcmQgaXMgZGlzcGxheWVkIGluIGFcbiAgICogZGlmZmVyZW50IG5hdmlnYXRpb24gcGFuZS4gRmlsdGVyIG91dCB0aGUgZXZlbnRzIHRvIGRldGVybWluZSBpZiB0aGV5IGFyZVxuICAgKiByZWxldmFudCB0byB5b3UuIChGb3IgZXhhbXBsZSwgb25seSBpZiB5b3UgcmVjZWl2ZSB0aGVzZSBjYWxsYmFja3MgYWZ0ZXJcbiAgICogeW91IGhhZCBleHBsaWNpdGx5IGZvY3VzZWQgYSBub2RlIGV0YykuXG4gICAqL1xuXG4gIHNjcm9sbFJlc3BvbmRlcktleWJvYXJkV2lsbFNob3c6IChlOiBLZXlib2FyZEV2ZW50KSA9PiB2b2lkID0gKFxuICAgIGU6IEtleWJvYXJkRXZlbnQsXG4gICkgPT4ge1xuICAgIHRoaXMuX2tleWJvYXJkV2lsbE9wZW5UbyA9IGU7XG4gICAgdGhpcy5wcm9wcy5vbktleWJvYXJkV2lsbFNob3cgJiYgdGhpcy5wcm9wcy5vbktleWJvYXJkV2lsbFNob3coZSk7XG4gIH07XG5cbiAgc2Nyb2xsUmVzcG9uZGVyS2V5Ym9hcmRXaWxsSGlkZTogKGU6IEtleWJvYXJkRXZlbnQpID0+IHZvaWQgPSAoXG4gICAgZTogS2V5Ym9hcmRFdmVudCxcbiAgKSA9PiB7XG4gICAgdGhpcy5fa2V5Ym9hcmRXaWxsT3BlblRvID0gbnVsbDtcbiAgICB0aGlzLnByb3BzLm9uS2V5Ym9hcmRXaWxsSGlkZSAmJiB0aGlzLnByb3BzLm9uS2V5Ym9hcmRXaWxsSGlkZShlKTtcbiAgfTtcblxuICBzY3JvbGxSZXNwb25kZXJLZXlib2FyZERpZFNob3c6IChlOiBLZXlib2FyZEV2ZW50KSA9PiB2b2lkID0gKFxuICAgIGU6IEtleWJvYXJkRXZlbnQsXG4gICkgPT4ge1xuICAgIC8vIFRPRE8oNzY5Mzk2MSk6IFRoZSBldmVudCBmb3IgRGlkU2hvdyBpcyBub3QgYXZhaWxhYmxlIG9uIGlPUyB5ZXQuXG4gICAgLy8gVXNlIHRoZSBvbmUgZnJvbSBXaWxsU2hvdyBhbmQgZG8gbm90IGFzc2lnbi5cbiAgICBpZiAoZSkge1xuICAgICAgdGhpcy5fa2V5Ym9hcmRXaWxsT3BlblRvID0gZTtcbiAgICB9XG4gICAgdGhpcy5wcm9wcy5vbktleWJvYXJkRGlkU2hvdyAmJiB0aGlzLnByb3BzLm9uS2V5Ym9hcmREaWRTaG93KGUpO1xuICB9O1xuXG4gIHNjcm9sbFJlc3BvbmRlcktleWJvYXJkRGlkSGlkZTogKGU6IEtleWJvYXJkRXZlbnQpID0+IHZvaWQgPSAoXG4gICAgZTogS2V5Ym9hcmRFdmVudCxcbiAgKSA9PiB7XG4gICAgdGhpcy5fa2V5Ym9hcmRXaWxsT3BlblRvID0gbnVsbDtcbiAgICB0aGlzLnByb3BzLm9uS2V5Ym9hcmREaWRIaWRlICYmIHRoaXMucHJvcHMub25LZXlib2FyZERpZEhpZGUoZSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEludm9rZSB0aGlzIGZyb20gYW4gYG9uTW9tZW50dW1TY3JvbGxCZWdpbmAgZXZlbnQuXG4gICAqL1xuICBfaGFuZGxlTW9tZW50dW1TY3JvbGxCZWdpbjogKGU6IFNjcm9sbEV2ZW50KSA9PiB2b2lkID0gKGU6IFNjcm9sbEV2ZW50KSA9PiB7XG4gICAgdGhpcy5fbGFzdE1vbWVudHVtU2Nyb2xsQmVnaW5UaW1lID0gZ2xvYmFsLnBlcmZvcm1hbmNlLm5vdygpO1xuICAgIHRoaXMucHJvcHMub25Nb21lbnR1bVNjcm9sbEJlZ2luICYmIHRoaXMucHJvcHMub25Nb21lbnR1bVNjcm9sbEJlZ2luKGUpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBJbnZva2UgdGhpcyBmcm9tIGFuIGBvbk1vbWVudHVtU2Nyb2xsRW5kYCBldmVudC5cbiAgICovXG4gIF9oYW5kbGVNb21lbnR1bVNjcm9sbEVuZDogKGU6IFNjcm9sbEV2ZW50KSA9PiB2b2lkID0gKGU6IFNjcm9sbEV2ZW50KSA9PiB7XG4gICAgRnJhbWVSYXRlTG9nZ2VyLmVuZFNjcm9sbCgpO1xuICAgIHRoaXMuX2xhc3RNb21lbnR1bVNjcm9sbEVuZFRpbWUgPSBnbG9iYWwucGVyZm9ybWFuY2Uubm93KCk7XG4gICAgdGhpcy5wcm9wcy5vbk1vbWVudHVtU2Nyb2xsRW5kICYmIHRoaXMucHJvcHMub25Nb21lbnR1bVNjcm9sbEVuZChlKTtcbiAgfTtcblxuICAvKipcbiAgICogVW5mb3J0dW5hdGVseSwgYG9uU2Nyb2xsQmVnaW5EcmFnYCBhbHNvIGZpcmVzIHdoZW4gKnN0b3BwaW5nKiB0aGUgc2Nyb2xsXG4gICAqIGFuaW1hdGlvbiwgYW5kIHRoZXJlJ3Mgbm90IGFuIGVhc3kgd2F5IHRvIGRpc3Rpbmd1aXNoIGEgZHJhZyB2cy4gc3RvcHBpbmdcbiAgICogbW9tZW50dW0uXG4gICAqXG4gICAqIEludm9rZSB0aGlzIGZyb20gYW4gYG9uU2Nyb2xsQmVnaW5EcmFnYCBldmVudC5cbiAgICovXG4gIF9oYW5kbGVTY3JvbGxCZWdpbkRyYWc6IChlOiBTY3JvbGxFdmVudCkgPT4gdm9pZCA9IChlOiBTY3JvbGxFdmVudCkgPT4ge1xuICAgIEZyYW1lUmF0ZUxvZ2dlci5iZWdpblNjcm9sbCgpOyAvLyBUT0RPOiB0cmFjayBhbGwgc2Nyb2xscyBhZnRlciBpbXBsZW1lbnRpbmcgb25TY3JvbGxFbmRBbmltYXRpb25cbiAgICB0aGlzLnByb3BzLm9uU2Nyb2xsQmVnaW5EcmFnICYmIHRoaXMucHJvcHMub25TY3JvbGxCZWdpbkRyYWcoZSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEludm9rZSB0aGlzIGZyb20gYW4gYG9uU2Nyb2xsRW5kRHJhZ2AgZXZlbnQuXG4gICAqL1xuICBfaGFuZGxlU2Nyb2xsRW5kRHJhZzogKGU6IFNjcm9sbEV2ZW50KSA9PiB2b2lkID0gKGU6IFNjcm9sbEV2ZW50KSA9PiB7XG4gICAgY29uc3Qge3ZlbG9jaXR5fSA9IGUubmF0aXZlRXZlbnQ7XG4gICAgLy8gLSBJZiB3ZSBhcmUgYW5pbWF0aW5nLCB0aGVuIHRoaXMgaXMgYSBcImRyYWdcIiB0aGF0IGlzIHN0b3BwaW5nIHRoZSBzY3JvbGx2aWV3IGFuZCBtb21lbnR1bSBlbmRcbiAgICAvLyAgIHdpbGwgZmlyZS5cbiAgICAvLyAtIElmIHZlbG9jaXR5IGlzIG5vbi16ZXJvLCB0aGVuIHRoZSBpbnRlcmFjdGlvbiB3aWxsIHN0b3Agd2hlbiBtb21lbnR1bSBzY3JvbGwgZW5kcyBvclxuICAgIC8vICAgYW5vdGhlciBkcmFnIHN0YXJ0cyBhbmQgZW5kcy5cbiAgICAvLyAtIElmIHdlIGRvbid0IGdldCB2ZWxvY2l0eSwgYmV0dGVyIHRvIHN0b3AgdGhlIGludGVyYWN0aW9uIHR3aWNlIHRoYW4gbm90IHN0b3AgaXQuXG4gICAgaWYgKFxuICAgICAgIXRoaXMuX2lzQW5pbWF0aW5nKCkgJiZcbiAgICAgICghdmVsb2NpdHkgfHwgKHZlbG9jaXR5LnggPT09IDAgJiYgdmVsb2NpdHkueSA9PT0gMCkpXG4gICAgKSB7XG4gICAgICBGcmFtZVJhdGVMb2dnZXIuZW5kU2Nyb2xsKCk7XG4gICAgfVxuICAgIHRoaXMucHJvcHMub25TY3JvbGxFbmREcmFnICYmIHRoaXMucHJvcHMub25TY3JvbGxFbmREcmFnKGUpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBBIGhlbHBlciBmdW5jdGlvbiBmb3IgdGhpcyBjbGFzcyB0aGF0IGxldHMgdXMgcXVpY2tseSBkZXRlcm1pbmUgaWYgdGhlXG4gICAqIHZpZXcgaXMgY3VycmVudGx5IGFuaW1hdGluZy4gVGhpcyBpcyBwYXJ0aWN1bGFybHkgdXNlZnVsIHRvIGtub3cgd2hlblxuICAgKiBhIHRvdWNoIGhhcyBqdXN0IHN0YXJ0ZWQgb3IgZW5kZWQuXG4gICAqL1xuICBfaXNBbmltYXRpbmc6ICgpID0+IGJvb2xlYW4gPSAoKSA9PiB7XG4gICAgY29uc3Qgbm93ID0gZ2xvYmFsLnBlcmZvcm1hbmNlLm5vdygpO1xuICAgIGNvbnN0IHRpbWVTaW5jZUxhc3RNb21lbnR1bVNjcm9sbEVuZCA9XG4gICAgICBub3cgLSB0aGlzLl9sYXN0TW9tZW50dW1TY3JvbGxFbmRUaW1lO1xuICAgIGNvbnN0IGlzQW5pbWF0aW5nID1cbiAgICAgIHRpbWVTaW5jZUxhc3RNb21lbnR1bVNjcm9sbEVuZCA8IElTX0FOSU1BVElOR19UT1VDSF9TVEFSVF9USFJFU0hPTERfTVMgfHxcbiAgICAgIHRoaXMuX2xhc3RNb21lbnR1bVNjcm9sbEVuZFRpbWUgPCB0aGlzLl9sYXN0TW9tZW50dW1TY3JvbGxCZWdpblRpbWU7XG4gICAgcmV0dXJuIGlzQW5pbWF0aW5nO1xuICB9O1xuXG4gIC8qKlxuICAgKiBJbnZva2UgdGhpcyBmcm9tIGFuIGBvblJlc3BvbmRlckdyYW50YCBldmVudC5cbiAgICovXG4gIF9oYW5kbGVSZXNwb25kZXJHcmFudDogKGU6IFByZXNzRXZlbnQpID0+IHZvaWQgPSAoZTogUHJlc3NFdmVudCkgPT4ge1xuICAgIHRoaXMuX29ic2VydmVkU2Nyb2xsU2luY2VCZWNvbWluZ1Jlc3BvbmRlciA9IGZhbHNlO1xuICAgIHRoaXMucHJvcHMub25SZXNwb25kZXJHcmFudCAmJiB0aGlzLnByb3BzLm9uUmVzcG9uZGVyR3JhbnQoZSk7XG4gICAgdGhpcy5fYmVjYW1lUmVzcG9uZGVyV2hpbGVBbmltYXRpbmcgPSB0aGlzLl9pc0FuaW1hdGluZygpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBJbnZva2UgdGhpcyBmcm9tIGFuIGBvblJlc3BvbmRlclJlamVjdGAgZXZlbnQuXG4gICAqXG4gICAqIFNvbWUgb3RoZXIgZWxlbWVudCBpcyBub3QgeWllbGRpbmcgaXRzIHJvbGUgYXMgcmVzcG9uZGVyLiBOb3JtYWxseSwgd2UnZFxuICAgKiBqdXN0IGRpc2FibGUgdGhlIGBVSVNjcm9sbFZpZXdgLCBidXQgYSB0b3VjaCBoYXMgYWxyZWFkeSBiZWdhbiBvbiBpdCwgdGhlXG4gICAqIGBVSVNjcm9sbFZpZXdgIHdpbGwgbm90IGFjY2VwdCBiZWluZyBkaXNhYmxlZCBhZnRlciB0aGF0LiBUaGUgZWFzaWVzdFxuICAgKiBzb2x1dGlvbiBmb3Igbm93IGlzIHRvIGFjY2VwdCB0aGUgbGltaXRhdGlvbiBvZiBkaXNhbGxvd2luZyB0aGlzXG4gICAqIGFsdG9nZXRoZXIuIFRvIGltcHJvdmUgdGhpcywgZmluZCBhIHdheSB0byBkaXNhYmxlIHRoZSBgVUlTY3JvbGxWaWV3YCBhZnRlclxuICAgKiBhIHRvdWNoIGhhcyBhbHJlYWR5IHN0YXJ0ZWQuXG4gICAqL1xuICBfaGFuZGxlUmVzcG9uZGVyUmVqZWN0OiAoKSA9PiB2b2lkID0gKCkgPT4ge307XG5cbiAgLyoqXG4gICAqIEludm9rZSB0aGlzIGZyb20gYW4gYG9uUmVzcG9uZGVyUmVsZWFzZWAgZXZlbnQuXG4gICAqL1xuICBfaGFuZGxlUmVzcG9uZGVyUmVsZWFzZTogKGU6IFByZXNzRXZlbnQpID0+IHZvaWQgPSAoZTogUHJlc3NFdmVudCkgPT4ge1xuICAgIHRoaXMuX2lzVG91Y2hpbmcgPSBlLm5hdGl2ZUV2ZW50LnRvdWNoZXMubGVuZ3RoICE9PSAwO1xuICAgIHRoaXMucHJvcHMub25SZXNwb25kZXJSZWxlYXNlICYmIHRoaXMucHJvcHMub25SZXNwb25kZXJSZWxlYXNlKGUpO1xuXG4gICAgaWYgKHR5cGVvZiBlLnRhcmdldCA9PT0gJ251bWJlcicpIHtcbiAgICAgIGlmIChfX0RFVl9fKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgJ0RpZCBub3QgZXhwZWN0IGV2ZW50IHRhcmdldCB0byBiZSBhIG51bWJlci4gU2hvdWxkIGhhdmUgYmVlbiBhIG5hdGl2ZSBjb21wb25lbnQnLFxuICAgICAgICApO1xuICAgICAgfVxuXG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gQnkgZGVmYXVsdCBzY3JvbGwgdmlld3Mgd2lsbCB1bmZvY3VzIGEgdGV4dEZpZWxkXG4gICAgLy8gaWYgYW5vdGhlciB0b3VjaCBvY2N1cnMgb3V0c2lkZSBvZiBpdFxuICAgIGNvbnN0IGN1cnJlbnRseUZvY3VzZWRUZXh0SW5wdXQgPSBUZXh0SW5wdXRTdGF0ZS5jdXJyZW50bHlGb2N1c2VkSW5wdXQoKTtcbiAgICBpZiAoXG4gICAgICB0aGlzLnByb3BzLmtleWJvYXJkU2hvdWxkUGVyc2lzdFRhcHMgIT09IHRydWUgJiZcbiAgICAgIHRoaXMucHJvcHMua2V5Ym9hcmRTaG91bGRQZXJzaXN0VGFwcyAhPT0gJ2Fsd2F5cycgJiZcbiAgICAgIHRoaXMuX2tleWJvYXJkSXNEaXNtaXNzaWJsZSgpICYmXG4gICAgICBlLnRhcmdldCAhPT0gY3VycmVudGx5Rm9jdXNlZFRleHRJbnB1dCAmJlxuICAgICAgIXRoaXMuX29ic2VydmVkU2Nyb2xsU2luY2VCZWNvbWluZ1Jlc3BvbmRlciAmJlxuICAgICAgIXRoaXMuX2JlY2FtZVJlc3BvbmRlcldoaWxlQW5pbWF0aW5nXG4gICAgKSB7XG4gICAgICBUZXh0SW5wdXRTdGF0ZS5ibHVyVGV4dElucHV0KGN1cnJlbnRseUZvY3VzZWRUZXh0SW5wdXQpO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogV2Ugd2lsbCBhbGxvdyB0aGUgc2Nyb2xsIHZpZXcgdG8gZ2l2ZSB1cCBpdHMgbG9jayBpZmYgaXQgYWNxdWlyZWQgdGhlIGxvY2tcbiAgICogZHVyaW5nIGFuIGFuaW1hdGlvbi4gVGhpcyBpcyBhIHZlcnkgdXNlZnVsIGRlZmF1bHQgdGhhdCBoYXBwZW5zIHRvIHNhdGlzZnlcbiAgICogbWFueSBjb21tb24gdXNlciBleHBlcmllbmNlcy5cbiAgICpcbiAgICogLSBTdG9wIGEgc2Nyb2xsIG9uIHRoZSBsZWZ0IGVkZ2UsIHRoZW4gdHVybiB0aGF0IGludG8gYW4gb3V0ZXIgdmlldydzXG4gICAqICAgYmFja3N3aXBlLlxuICAgKiAtIFN0b3AgYSBzY3JvbGwgbWlkLWJvdW5jZSBhdCB0aGUgdG9wLCBjb250aW51ZSBwdWxsaW5nIHRvIGhhdmUgdGhlIG91dGVyXG4gICAqICAgdmlldyBkaXNtaXNzLlxuICAgKiAtIEhvd2V2ZXIsIHdpdGhvdXQgY2F0Y2hpbmcgdGhlIHNjcm9sbCB2aWV3IG1pZC1ib3VuY2UgKHdoaWxlIGl0IGlzXG4gICAqICAgbW90aW9ubGVzcyksIGlmIHlvdSBkcmFnIGZhciBlbm91Z2ggZm9yIHRoZSBzY3JvbGwgdmlldyB0byBiZWNvbWVcbiAgICogICByZXNwb25kZXIgKGFuZCB0aGVyZWZvcmUgZHJhZyB0aGUgc2Nyb2xsIHZpZXcgYSBiaXQpLCBhbnkgYmFja3N3aXBlXG4gICAqICAgbmF2aWdhdGlvbiBvZiBhIHN3aXBlIGdlc3R1cmUgaGlnaGVyIGluIHRoZSB2aWV3IGhpZXJhcmNoeSwgc2hvdWxkIGJlXG4gICAqICAgcmVqZWN0ZWQuXG4gICAqL1xuICBfaGFuZGxlUmVzcG9uZGVyVGVybWluYXRpb25SZXF1ZXN0OiAoKSA9PiBib29sZWFuID0gKCkgPT4ge1xuICAgIHJldHVybiAhdGhpcy5fb2JzZXJ2ZWRTY3JvbGxTaW5jZUJlY29taW5nUmVzcG9uZGVyO1xuICB9O1xuXG4gIC8qKlxuICAgKiBJbnZva2UgdGhpcyBmcm9tIGFuIGBvblNjcm9sbGAgZXZlbnQuXG4gICAqL1xuICBfaGFuZGxlU2Nyb2xsU2hvdWxkU2V0UmVzcG9uZGVyOiAoKSA9PiBib29sZWFuID0gKCkgPT4ge1xuICAgIC8vIEFsbG93IGFueSBldmVudCB0b3VjaCBwYXNzIHRocm91Z2ggaWYgdGhlIGRlZmF1bHQgcGFuIHJlc3BvbmRlciBpcyBkaXNhYmxlZFxuICAgIGlmICh0aGlzLnByb3BzLmRpc2FibGVTY3JvbGxWaWV3UGFuUmVzcG9uZGVyID09PSB0cnVlKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLl9pc1RvdWNoaW5nO1xuICB9O1xuXG4gIC8qKlxuICAgKiBNZXJlbHkgdG91Y2ggc3RhcnRpbmcgaXMgbm90IHN1ZmZpY2llbnQgZm9yIGEgc2Nyb2xsIHZpZXcgdG8gYmVjb21lIHRoZVxuICAgKiByZXNwb25kZXIuIEJlaW5nIHRoZSBcInJlc3BvbmRlclwiIG1lYW5zIHRoYXQgdGhlIHZlcnkgbmV4dCB0b3VjaCBtb3ZlL2VuZFxuICAgKiBldmVudCB3aWxsIHJlc3VsdCBpbiBhbiBhY3Rpb24vbW92ZW1lbnQuXG4gICAqXG4gICAqIEludm9rZSB0aGlzIGZyb20gYW4gYG9uU3RhcnRTaG91bGRTZXRSZXNwb25kZXJgIGV2ZW50LlxuICAgKlxuICAgKiBgb25TdGFydFNob3VsZFNldFJlc3BvbmRlcmAgaXMgdXNlZCB3aGVuIHRoZSBuZXh0IG1vdmUvZW5kIHdpbGwgdHJpZ2dlclxuICAgKiBzb21lIFVJIG1vdmVtZW50L2FjdGlvbiwgYnV0IHdoZW4geW91IHdhbnQgdG8geWllbGQgcHJpb3JpdHkgdG8gdmlld3NcbiAgICogbmVzdGVkIGluc2lkZSBvZiB0aGUgdmlldy5cbiAgICpcbiAgICogVGhlcmUgbWF5IGJlIHNvbWUgY2FzZXMgd2hlcmUgc2Nyb2xsIHZpZXdzIGFjdHVhbGx5IHNob3VsZCByZXR1cm4gYHRydWVgXG4gICAqIGZyb20gYG9uU3RhcnRTaG91bGRTZXRSZXNwb25kZXJgOiBBbnkgdGltZSB3ZSBhcmUgZGV0ZWN0aW5nIGEgc3RhbmRhcmQgdGFwXG4gICAqIHRoYXQgZ2l2ZXMgcHJpb3JpdHkgdG8gbmVzdGVkIHZpZXdzLlxuICAgKlxuICAgKiAtIElmIGEgc2luZ2xlIHRhcCBvbiB0aGUgc2Nyb2xsIHZpZXcgdHJpZ2dlcnMgYW4gYWN0aW9uIHN1Y2ggYXNcbiAgICogICByZWNlbnRlcmluZyBhIG1hcCBzdHlsZSB2aWV3IHlldCB3YW50cyB0byBnaXZlIHByaW9yaXR5IHRvIGludGVyYWN0aW9uXG4gICAqICAgdmlld3MgaW5zaWRlIChzdWNoIGFzIGRyb3BwZWQgcGlucyBvciBsYWJlbHMpLCB0aGVuIHdlIHdvdWxkIHJldHVybiB0cnVlXG4gICAqICAgZnJvbSB0aGlzIG1ldGhvZCB3aGVuIHRoZXJlIGlzIGEgc2luZ2xlIHRvdWNoLlxuICAgKlxuICAgKiAtIFNpbWlsYXIgdG8gdGhlIHByZXZpb3VzIGNhc2UsIGlmIGEgdHdvIGZpbmdlciBcInRhcFwiIHNob3VsZCB0cmlnZ2VyIGFcbiAgICogICB6b29tLCB3ZSB3b3VsZCBjaGVjayB0aGUgYHRvdWNoZXNgIGNvdW50LCBhbmQgaWYgYD49IDJgLCB3ZSB3b3VsZCByZXR1cm5cbiAgICogICB0cnVlLlxuICAgKlxuICAgKi9cbiAgX2hhbmRsZVN0YXJ0U2hvdWxkU2V0UmVzcG9uZGVyOiAoZTogUHJlc3NFdmVudCkgPT4gYm9vbGVhbiA9IChcbiAgICBlOiBQcmVzc0V2ZW50LFxuICApID0+IHtcbiAgICAvLyBBbGxvdyBhbnkgZXZlbnQgdG91Y2ggcGFzcyB0aHJvdWdoIGlmIHRoZSBkZWZhdWx0IHBhbiByZXNwb25kZXIgaXMgZGlzYWJsZWRcbiAgICBpZiAodGhpcy5wcm9wcy5kaXNhYmxlU2Nyb2xsVmlld1BhblJlc3BvbmRlciA9PT0gdHJ1ZSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGNvbnN0IGN1cnJlbnRseUZvY3VzZWRJbnB1dCA9IFRleHRJbnB1dFN0YXRlLmN1cnJlbnRseUZvY3VzZWRJbnB1dCgpO1xuXG4gICAgaWYgKFxuICAgICAgdGhpcy5wcm9wcy5rZXlib2FyZFNob3VsZFBlcnNpc3RUYXBzID09PSAnaGFuZGxlZCcgJiZcbiAgICAgIHRoaXMuX2tleWJvYXJkSXNEaXNtaXNzaWJsZSgpICYmXG4gICAgICBlLnRhcmdldCAhPT0gY3VycmVudGx5Rm9jdXNlZElucHV0XG4gICAgKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9O1xuXG4gIC8qKlxuICAgKiBUaGVyZSBhcmUgdGltZXMgd2hlbiB0aGUgc2Nyb2xsIHZpZXcgd2FudHMgdG8gYmVjb21lIHRoZSByZXNwb25kZXJcbiAgICogKG1lYW5pbmcgcmVzcG9uZCB0byB0aGUgbmV4dCBpbW1lZGlhdGUgYHRvdWNoU3RhcnQvdG91Y2hFbmRgKSwgaW4gYSB3YXlcbiAgICogdGhhdCAqZG9lc24ndCogZ2l2ZSBwcmlvcml0eSB0byBuZXN0ZWQgdmlld3MgKGhlbmNlIHRoZSBjYXB0dXJlIHBoYXNlKTpcbiAgICpcbiAgICogLSBDdXJyZW50bHkgYW5pbWF0aW5nLlxuICAgKiAtIFRhcHBpbmcgYW55d2hlcmUgdGhhdCBpcyBub3QgYSB0ZXh0IGlucHV0LCB3aGlsZSB0aGUga2V5Ym9hcmQgaXNcbiAgICogICB1cCAod2hpY2ggc2hvdWxkIGRpc21pc3MgdGhlIGtleWJvYXJkKS5cbiAgICpcbiAgICogSW52b2tlIHRoaXMgZnJvbSBhbiBgb25TdGFydFNob3VsZFNldFJlc3BvbmRlckNhcHR1cmVgIGV2ZW50LlxuICAgKi9cbiAgX2hhbmRsZVN0YXJ0U2hvdWxkU2V0UmVzcG9uZGVyQ2FwdHVyZTogKGU6IFByZXNzRXZlbnQpID0+IGJvb2xlYW4gPSAoXG4gICAgZTogUHJlc3NFdmVudCxcbiAgKSA9PiB7XG4gICAgLy8gVGhlIHNjcm9sbCB2aWV3IHNob3VsZCByZWNlaXZlIHRhcHMgaW5zdGVhZCBvZiBpdHMgZGVzY2VuZGFudHMgaWY6XG4gICAgLy8gKiBpdCBpcyBhbHJlYWR5IGFuaW1hdGluZy9kZWNlbGVyYXRpbmdcbiAgICBpZiAodGhpcy5faXNBbmltYXRpbmcoKSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgLy8gQWxsb3cgYW55IGV2ZW50IHRvdWNoIHBhc3MgdGhyb3VnaCBpZiB0aGUgZGVmYXVsdCBwYW4gcmVzcG9uZGVyIGlzIGRpc2FibGVkXG4gICAgaWYgKHRoaXMucHJvcHMuZGlzYWJsZVNjcm9sbFZpZXdQYW5SZXNwb25kZXIgPT09IHRydWUpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvLyAqIHRoZSBrZXlib2FyZCBpcyB1cCwga2V5Ym9hcmRTaG91bGRQZXJzaXN0VGFwcyBpcyAnbmV2ZXInICh0aGUgZGVmYXVsdCksXG4gICAgLy8gYW5kIGEgbmV3IHRvdWNoIHN0YXJ0cyB3aXRoIGEgbm9uLXRleHRpbnB1dCB0YXJnZXQgKGluIHdoaWNoIGNhc2UgdGhlXG4gICAgLy8gZmlyc3QgdGFwIHNob3VsZCBiZSBzZW50IHRvIHRoZSBzY3JvbGwgdmlldyBhbmQgZGlzbWlzcyB0aGUga2V5Ym9hcmQsXG4gICAgLy8gdGhlbiB0aGUgc2Vjb25kIHRhcCBnb2VzIHRvIHRoZSBhY3R1YWwgaW50ZXJpb3IgdmlldylcbiAgICBjb25zdCB7a2V5Ym9hcmRTaG91bGRQZXJzaXN0VGFwc30gPSB0aGlzLnByb3BzO1xuICAgIGNvbnN0IGtleWJvYXJkTmV2ZXJQZXJzaXN0VGFwcyA9XG4gICAgICAha2V5Ym9hcmRTaG91bGRQZXJzaXN0VGFwcyB8fCBrZXlib2FyZFNob3VsZFBlcnNpc3RUYXBzID09PSAnbmV2ZXInO1xuXG4gICAgaWYgKHR5cGVvZiBlLnRhcmdldCA9PT0gJ251bWJlcicpIHtcbiAgICAgIGlmIChfX0RFVl9fKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgJ0RpZCBub3QgZXhwZWN0IGV2ZW50IHRhcmdldCB0byBiZSBhIG51bWJlci4gU2hvdWxkIGhhdmUgYmVlbiBhIG5hdGl2ZSBjb21wb25lbnQnLFxuICAgICAgICApO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgaWYgKFxuICAgICAga2V5Ym9hcmROZXZlclBlcnNpc3RUYXBzICYmXG4gICAgICB0aGlzLl9rZXlib2FyZElzRGlzbWlzc2libGUoKSAmJlxuICAgICAgZS50YXJnZXQgIT0gbnVsbCAmJlxuICAgICAgIVRleHRJbnB1dFN0YXRlLmlzVGV4dElucHV0KGUudGFyZ2V0KVxuICAgICkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9O1xuXG4gIC8qKlxuICAgKiBEbyB3ZSBjb25zaWRlciB0aGVyZSB0byBiZSBhIGRpc21pc3NpYmxlIHNvZnQta2V5Ym9hcmQgb3Blbj9cbiAgICovXG4gIF9rZXlib2FyZElzRGlzbWlzc2libGU6ICgpID0+IGJvb2xlYW4gPSAoKSA9PiB7XG4gICAgY29uc3QgY3VycmVudGx5Rm9jdXNlZElucHV0ID0gVGV4dElucHV0U3RhdGUuY3VycmVudGx5Rm9jdXNlZElucHV0KCk7XG5cbiAgICAvLyBXZSBjYW5ub3QgZGlzbWlzcyB0aGUga2V5Ym9hcmQgd2l0aG91dCBhbiBpbnB1dCB0byBibHVyLCBldmVuIGlmIGEgc29mdFxuICAgIC8vIGtleWJvYXJkIGlzIG9wZW4gKGUuZy4gd2hlbiBrZXlib2FyZCBpcyBvcGVuIGR1ZSB0byBhIG5hdGl2ZSBjb21wb25lbnRcbiAgICAvLyBub3QgcGFydGljaXBhdGluZyBpbiBUZXh0SW5wdXRTdGF0ZSkuIEl0J3MgYWxzbyBwb3NzaWJsZSB0aGF0IHRoZVxuICAgIC8vIGN1cnJlbnRseSBmb2N1c2VkIGlucHV0IGlzbid0IGEgVGV4dElucHV0IChzdWNoIGFzIGJ5IGNhbGxpbmcgcmVmLmZvY3VzXG4gICAgLy8gb24gYSBub24tVGV4dElucHV0KS5cbiAgICBjb25zdCBoYXNGb2N1c2VkVGV4dElucHV0ID1cbiAgICAgIGN1cnJlbnRseUZvY3VzZWRJbnB1dCAhPSBudWxsICYmXG4gICAgICBUZXh0SW5wdXRTdGF0ZS5pc1RleHRJbnB1dChjdXJyZW50bHlGb2N1c2VkSW5wdXQpO1xuXG4gICAgLy8gRXZlbiBpZiBhbiBpbnB1dCBpcyBmb2N1c2VkLCB3ZSBtYXkgbm90IGhhdmUgYSBrZXlib2FyZCB0byBkaXNtaXNzLiBFLmdcbiAgICAvLyB3aGVuIHVzaW5nIGEgcGh5c2ljYWwga2V5Ym9hcmQuIEVuc3VyZSB3ZSBoYXZlIGFuIGV2ZW50IGZvciBhbiBvcGVuZWRcbiAgICAvLyBrZXlib2FyZCwgZXhjZXB0IG9uIEFuZHJvaWQgd2hlcmUgc2V0dGluZyB3aW5kb3dTb2Z0SW5wdXRNb2RlIHRvXG4gICAgLy8gYWRqdXN0Tm9uZSBsZWFkcyB0byBtaXNzaW5nIGtleWJvYXJkIGV2ZW50cy5cbiAgICBjb25zdCBzb2Z0S2V5Ym9hcmRNYXlCZU9wZW4gPVxuICAgICAgdGhpcy5fa2V5Ym9hcmRXaWxsT3BlblRvICE9IG51bGwgfHwgUGxhdGZvcm0uT1MgPT09ICdhbmRyb2lkJztcblxuICAgIHJldHVybiBoYXNGb2N1c2VkVGV4dElucHV0ICYmIHNvZnRLZXlib2FyZE1heUJlT3BlbjtcbiAgfTtcblxuICAvKipcbiAgICogSW52b2tlIHRoaXMgZnJvbSBhbiBgb25Ub3VjaEVuZGAgZXZlbnQuXG4gICAqXG4gICAqIEBwYXJhbSB7UHJlc3NFdmVudH0gZSBFdmVudC5cbiAgICovXG4gIF9oYW5kbGVUb3VjaEVuZDogKGU6IFByZXNzRXZlbnQpID0+IHZvaWQgPSAoZTogUHJlc3NFdmVudCkgPT4ge1xuICAgIGNvbnN0IG5hdGl2ZUV2ZW50ID0gZS5uYXRpdmVFdmVudDtcbiAgICB0aGlzLl9pc1RvdWNoaW5nID0gbmF0aXZlRXZlbnQudG91Y2hlcy5sZW5ndGggIT09IDA7XG4gICAgdGhpcy5wcm9wcy5vblRvdWNoRW5kICYmIHRoaXMucHJvcHMub25Ub3VjaEVuZChlKTtcbiAgfTtcblxuICAvKipcbiAgICogSW52b2tlIHRoaXMgZnJvbSBhbiBgb25Ub3VjaENhbmNlbGAgZXZlbnQuXG4gICAqXG4gICAqIEBwYXJhbSB7UHJlc3NFdmVudH0gZSBFdmVudC5cbiAgICovXG4gIF9oYW5kbGVUb3VjaENhbmNlbDogKGU6IFByZXNzRXZlbnQpID0+IHZvaWQgPSAoZTogUHJlc3NFdmVudCkgPT4ge1xuICAgIHRoaXMuX2lzVG91Y2hpbmcgPSBmYWxzZTtcbiAgICB0aGlzLnByb3BzLm9uVG91Y2hDYW5jZWwgJiYgdGhpcy5wcm9wcy5vblRvdWNoQ2FuY2VsKGUpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBJbnZva2UgdGhpcyBmcm9tIGFuIGBvblRvdWNoU3RhcnRgIGV2ZW50LlxuICAgKlxuICAgKiBTaW5jZSB3ZSBrbm93IHRoYXQgdGhlIGBTaW1wbGVFdmVudFBsdWdpbmAgb2NjdXJzIGxhdGVyIGluIHRoZSBwbHVnaW5cbiAgICogb3JkZXIsIGFmdGVyIGBSZXNwb25kZXJFdmVudFBsdWdpbmAsIHdlIGNhbiBkZXRlY3QgdGhhdCB3ZSB3ZXJlICpub3QqXG4gICAqIHBlcm1pdHRlZCB0byBiZSB0aGUgcmVzcG9uZGVyIChwcmVzdW1hYmx5IGJlY2F1c2UgYSBjb250YWluZWQgdmlldyBiZWNhbWVcbiAgICogcmVzcG9uZGVyKS4gVGhlIGBvblJlc3BvbmRlclJlamVjdGAgd29uJ3QgZmlyZSBpbiB0aGF0IGNhc2UgLSBpdCBvbmx5XG4gICAqIGZpcmVzIHdoZW4gYSAqY3VycmVudCogcmVzcG9uZGVyIHJlamVjdHMgb3VyIHJlcXVlc3QuXG4gICAqXG4gICAqIEBwYXJhbSB7UHJlc3NFdmVudH0gZSBUb3VjaCBTdGFydCBldmVudC5cbiAgICovXG4gIF9oYW5kbGVUb3VjaFN0YXJ0OiAoZTogUHJlc3NFdmVudCkgPT4gdm9pZCA9IChlOiBQcmVzc0V2ZW50KSA9PiB7XG4gICAgdGhpcy5faXNUb3VjaGluZyA9IHRydWU7XG4gICAgdGhpcy5wcm9wcy5vblRvdWNoU3RhcnQgJiYgdGhpcy5wcm9wcy5vblRvdWNoU3RhcnQoZSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEludm9rZSB0aGlzIGZyb20gYW4gYG9uVG91Y2hNb3ZlYCBldmVudC5cbiAgICpcbiAgICogU2luY2Ugd2Uga25vdyB0aGF0IHRoZSBgU2ltcGxlRXZlbnRQbHVnaW5gIG9jY3VycyBsYXRlciBpbiB0aGUgcGx1Z2luXG4gICAqIG9yZGVyLCBhZnRlciBgUmVzcG9uZGVyRXZlbnRQbHVnaW5gLCB3ZSBjYW4gZGV0ZWN0IHRoYXQgd2Ugd2VyZSAqbm90KlxuICAgKiBwZXJtaXR0ZWQgdG8gYmUgdGhlIHJlc3BvbmRlciAocHJlc3VtYWJseSBiZWNhdXNlIGEgY29udGFpbmVkIHZpZXcgYmVjYW1lXG4gICAqIHJlc3BvbmRlcikuIFRoZSBgb25SZXNwb25kZXJSZWplY3RgIHdvbid0IGZpcmUgaW4gdGhhdCBjYXNlIC0gaXQgb25seVxuICAgKiBmaXJlcyB3aGVuIGEgKmN1cnJlbnQqIHJlc3BvbmRlciByZWplY3RzIG91ciByZXF1ZXN0LlxuICAgKlxuICAgKiBAcGFyYW0ge1ByZXNzRXZlbnR9IGUgVG91Y2ggU3RhcnQgZXZlbnQuXG4gICAqL1xuICBfaGFuZGxlVG91Y2hNb3ZlOiAoZTogUHJlc3NFdmVudCkgPT4gdm9pZCA9IChlOiBQcmVzc0V2ZW50KSA9PiB7XG4gICAgdGhpcy5wcm9wcy5vblRvdWNoTW92ZSAmJiB0aGlzLnByb3BzLm9uVG91Y2hNb3ZlKGUpO1xuICB9O1xuXG4gIHJlbmRlcigpOiBSZWFjdC5Ob2RlIHwgUmVhY3QuRWxlbWVudDxzdHJpbmc+IHtcbiAgICBjb25zdCBbTmF0aXZlRGlyZWN0aW9uYWxTY3JvbGxWaWV3LCBOYXRpdmVEaXJlY3Rpb25hbFNjcm9sbENvbnRlbnRWaWV3XSA9XG4gICAgICB0aGlzLnByb3BzLmhvcml6b250YWwgPT09IHRydWVcbiAgICAgICAgPyBOYXRpdmVIb3Jpem9udGFsU2Nyb2xsVmlld1R1cGxlXG4gICAgICAgIDogTmF0aXZlVmVydGljYWxTY3JvbGxWaWV3VHVwbGU7XG5cbiAgICBjb25zdCBjb250ZW50Q29udGFpbmVyU3R5bGUgPSBbXG4gICAgICB0aGlzLnByb3BzLmhvcml6b250YWwgPT09IHRydWUgJiYgc3R5bGVzLmNvbnRlbnRDb250YWluZXJIb3Jpem9udGFsLFxuICAgICAgdGhpcy5wcm9wcy5jb250ZW50Q29udGFpbmVyU3R5bGUsXG4gICAgXTtcbiAgICBpZiAoX19ERVZfXyAmJiB0aGlzLnByb3BzLnN0eWxlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGNvbnN0IHN0eWxlID0gZmxhdHRlblN0eWxlKHRoaXMucHJvcHMuc3R5bGUpO1xuICAgICAgY29uc3QgY2hpbGRMYXlvdXRQcm9wcyA9IFsnYWxpZ25JdGVtcycsICdqdXN0aWZ5Q29udGVudCddLmZpbHRlcihcbiAgICAgICAgcHJvcCA9PiBzdHlsZSAmJiBzdHlsZVtwcm9wXSAhPT0gdW5kZWZpbmVkLFxuICAgICAgKTtcbiAgICAgIGludmFyaWFudChcbiAgICAgICAgY2hpbGRMYXlvdXRQcm9wcy5sZW5ndGggPT09IDAsXG4gICAgICAgICdTY3JvbGxWaWV3IGNoaWxkIGxheW91dCAoJyArXG4gICAgICAgICAgSlNPTi5zdHJpbmdpZnkoY2hpbGRMYXlvdXRQcm9wcykgK1xuICAgICAgICAgICcpIG11c3QgYmUgYXBwbGllZCB0aHJvdWdoIHRoZSBjb250ZW50Q29udGFpbmVyU3R5bGUgcHJvcC4nLFxuICAgICAgKTtcbiAgICB9XG5cbiAgICBjb25zdCBjb250ZW50U2l6ZUNoYW5nZVByb3BzID1cbiAgICAgIHRoaXMucHJvcHMub25Db250ZW50U2l6ZUNoYW5nZSA9PSBudWxsXG4gICAgICAgID8gbnVsbFxuICAgICAgICA6IHtcbiAgICAgICAgICAgIG9uTGF5b3V0OiB0aGlzLl9oYW5kbGVDb250ZW50T25MYXlvdXQsXG4gICAgICAgICAgfTtcblxuICAgIGNvbnN0IHtzdGlja3lIZWFkZXJJbmRpY2VzfSA9IHRoaXMucHJvcHM7XG4gICAgbGV0IGNoaWxkcmVuID0gdGhpcy5wcm9wcy5jaGlsZHJlbjtcblxuICAgIGlmIChzdGlja3lIZWFkZXJJbmRpY2VzICE9IG51bGwgJiYgc3RpY2t5SGVhZGVySW5kaWNlcy5sZW5ndGggPiAwKSB7XG4gICAgICBjb25zdCBjaGlsZEFycmF5ID0gUmVhY3QuQ2hpbGRyZW4udG9BcnJheSh0aGlzLnByb3BzLmNoaWxkcmVuKTtcblxuICAgICAgY2hpbGRyZW4gPSBjaGlsZEFycmF5Lm1hcCgoY2hpbGQsIGluZGV4KSA9PiB7XG4gICAgICAgIGNvbnN0IGluZGV4T2ZJbmRleCA9IGNoaWxkID8gc3RpY2t5SGVhZGVySW5kaWNlcy5pbmRleE9mKGluZGV4KSA6IC0xO1xuICAgICAgICBpZiAoaW5kZXhPZkluZGV4ID4gLTEpIHtcbiAgICAgICAgICBjb25zdCBrZXkgPSBjaGlsZC5rZXk7XG4gICAgICAgICAgY29uc3QgbmV4dEluZGV4ID0gc3RpY2t5SGVhZGVySW5kaWNlc1tpbmRleE9mSW5kZXggKyAxXTtcbiAgICAgICAgICBjb25zdCBTdGlja3lIZWFkZXJDb21wb25lbnQgPVxuICAgICAgICAgICAgdGhpcy5wcm9wcy5TdGlja3lIZWFkZXJDb21wb25lbnQgfHwgU2Nyb2xsVmlld1N0aWNreUhlYWRlcjtcbiAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPFN0aWNreUhlYWRlckNvbXBvbmVudFxuICAgICAgICAgICAgICBrZXk9e2tleX1cbiAgICAgICAgICAgICAgbmF0aXZlSUQ9eydTdGlja3lIZWFkZXItJyArIGtleX0gLyogVE9ETzogVDY4MjU4ODQ2LiAqL1xuICAgICAgICAgICAgICByZWY9e3JlZiA9PiB0aGlzLl9zZXRTdGlja3lIZWFkZXJSZWYoa2V5LCByZWYpfVxuICAgICAgICAgICAgICBuZXh0SGVhZGVyTGF5b3V0WT17dGhpcy5faGVhZGVyTGF5b3V0WXMuZ2V0KFxuICAgICAgICAgICAgICAgIHRoaXMuX2dldEtleUZvckluZGV4KG5leHRJbmRleCwgY2hpbGRBcnJheSksXG4gICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgIG9uTGF5b3V0PXtldmVudCA9PiB0aGlzLl9vblN0aWNreUhlYWRlckxheW91dChpbmRleCwgZXZlbnQsIGtleSl9XG4gICAgICAgICAgICAgIHNjcm9sbEFuaW1hdGVkVmFsdWU9e3RoaXMuX3Njcm9sbEFuaW1hdGVkVmFsdWV9XG4gICAgICAgICAgICAgIGludmVydGVkPXt0aGlzLnByb3BzLmludmVydFN0aWNreUhlYWRlcnN9XG4gICAgICAgICAgICAgIGhpZGRlbk9uU2Nyb2xsPXt0aGlzLnByb3BzLnN0aWNreUhlYWRlckhpZGRlbk9uU2Nyb2xsfVxuICAgICAgICAgICAgICBzY3JvbGxWaWV3SGVpZ2h0PXt0aGlzLnN0YXRlLmxheW91dEhlaWdodH0+XG4gICAgICAgICAgICAgIHtjaGlsZH1cbiAgICAgICAgICAgIDwvU3RpY2t5SGVhZGVyQ29tcG9uZW50PlxuICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIGNoaWxkO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gICAgY2hpbGRyZW4gPSAoXG4gICAgICA8U2Nyb2xsVmlld0NvbnRleHQuUHJvdmlkZXJcbiAgICAgICAgdmFsdWU9e3RoaXMucHJvcHMuaG9yaXpvbnRhbCA9PT0gdHJ1ZSA/IEhPUklaT05UQUwgOiBWRVJUSUNBTH0+XG4gICAgICAgIHtjaGlsZHJlbn1cbiAgICAgIDwvU2Nyb2xsVmlld0NvbnRleHQuUHJvdmlkZXI+XG4gICAgKTtcblxuICAgIGNvbnN0IGhhc1N0aWNreUhlYWRlcnMgPVxuICAgICAgQXJyYXkuaXNBcnJheShzdGlja3lIZWFkZXJJbmRpY2VzKSAmJiBzdGlja3lIZWFkZXJJbmRpY2VzLmxlbmd0aCA+IDA7XG5cbiAgICBjb25zdCBjb250ZW50Q29udGFpbmVyID0gKFxuICAgICAgPE5hdGl2ZURpcmVjdGlvbmFsU2Nyb2xsQ29udGVudFZpZXdcbiAgICAgICAgey4uLmNvbnRlbnRTaXplQ2hhbmdlUHJvcHN9XG4gICAgICAgIHJlZj17dGhpcy5fc2V0SW5uZXJWaWV3UmVmfVxuICAgICAgICBzdHlsZT17Y29udGVudENvbnRhaW5lclN0eWxlfVxuICAgICAgICByZW1vdmVDbGlwcGVkU3Vidmlld3M9e1xuICAgICAgICAgIC8vIFN1YnZpZXcgY2xpcHBpbmcgY2F1c2VzIGlzc3VlcyB3aXRoIHN0aWNreSBoZWFkZXJzIG9uIEFuZHJvaWQgYW5kXG4gICAgICAgICAgLy8gd291bGQgYmUgaGFyZCB0byBmaXggcHJvcGVybHkgaW4gYSBwZXJmb3JtYW50IHdheS5cbiAgICAgICAgICBQbGF0Zm9ybS5PUyA9PT0gJ2FuZHJvaWQnICYmIGhhc1N0aWNreUhlYWRlcnNcbiAgICAgICAgICAgID8gZmFsc2VcbiAgICAgICAgICAgIDogdGhpcy5wcm9wcy5yZW1vdmVDbGlwcGVkU3Vidmlld3NcbiAgICAgICAgfVxuICAgICAgICBjb2xsYXBzYWJsZT17ZmFsc2V9PlxuICAgICAgICB7Y2hpbGRyZW59XG4gICAgICA8L05hdGl2ZURpcmVjdGlvbmFsU2Nyb2xsQ29udGVudFZpZXc+XG4gICAgKTtcblxuICAgIGNvbnN0IGFsd2F5c0JvdW5jZUhvcml6b250YWwgPVxuICAgICAgdGhpcy5wcm9wcy5hbHdheXNCb3VuY2VIb3Jpem9udGFsICE9PSB1bmRlZmluZWRcbiAgICAgICAgPyB0aGlzLnByb3BzLmFsd2F5c0JvdW5jZUhvcml6b250YWxcbiAgICAgICAgOiB0aGlzLnByb3BzLmhvcml6b250YWw7XG5cbiAgICBjb25zdCBhbHdheXNCb3VuY2VWZXJ0aWNhbCA9XG4gICAgICB0aGlzLnByb3BzLmFsd2F5c0JvdW5jZVZlcnRpY2FsICE9PSB1bmRlZmluZWRcbiAgICAgICAgPyB0aGlzLnByb3BzLmFsd2F5c0JvdW5jZVZlcnRpY2FsXG4gICAgICAgIDogIXRoaXMucHJvcHMuaG9yaXpvbnRhbDtcblxuICAgIGNvbnN0IGJhc2VTdHlsZSA9XG4gICAgICB0aGlzLnByb3BzLmhvcml6b250YWwgPT09IHRydWVcbiAgICAgICAgPyBzdHlsZXMuYmFzZUhvcml6b250YWxcbiAgICAgICAgOiBzdHlsZXMuYmFzZVZlcnRpY2FsO1xuICAgIGNvbnN0IHByb3BzID0ge1xuICAgICAgLi4udGhpcy5wcm9wcyxcbiAgICAgIGFsd2F5c0JvdW5jZUhvcml6b250YWwsXG4gICAgICBhbHdheXNCb3VuY2VWZXJ0aWNhbCxcbiAgICAgIHN0eWxlOiBTdHlsZVNoZWV0LmNvbXBvc2UoYmFzZVN0eWxlLCB0aGlzLnByb3BzLnN0eWxlKSxcbiAgICAgIC8vIE92ZXJyaWRlIHRoZSBvbkNvbnRlbnRTaXplQ2hhbmdlIGZyb20gcHJvcHMsIHNpbmNlIHRoaXMgZXZlbnQgY2FuXG4gICAgICAvLyBidWJibGUgdXAgZnJvbSBUZXh0SW5wdXRzXG4gICAgICBvbkNvbnRlbnRTaXplQ2hhbmdlOiBudWxsLFxuICAgICAgb25MYXlvdXQ6IHRoaXMuX2hhbmRsZUxheW91dCxcbiAgICAgIG9uTW9tZW50dW1TY3JvbGxCZWdpbjogdGhpcy5faGFuZGxlTW9tZW50dW1TY3JvbGxCZWdpbixcbiAgICAgIG9uTW9tZW50dW1TY3JvbGxFbmQ6IHRoaXMuX2hhbmRsZU1vbWVudHVtU2Nyb2xsRW5kLFxuICAgICAgb25SZXNwb25kZXJHcmFudDogdGhpcy5faGFuZGxlUmVzcG9uZGVyR3JhbnQsXG4gICAgICBvblJlc3BvbmRlclJlamVjdDogdGhpcy5faGFuZGxlUmVzcG9uZGVyUmVqZWN0LFxuICAgICAgb25SZXNwb25kZXJSZWxlYXNlOiB0aGlzLl9oYW5kbGVSZXNwb25kZXJSZWxlYXNlLFxuICAgICAgb25SZXNwb25kZXJUZXJtaW5hdGlvblJlcXVlc3Q6IHRoaXMuX2hhbmRsZVJlc3BvbmRlclRlcm1pbmF0aW9uUmVxdWVzdCxcbiAgICAgIG9uU2Nyb2xsQmVnaW5EcmFnOiB0aGlzLl9oYW5kbGVTY3JvbGxCZWdpbkRyYWcsXG4gICAgICBvblNjcm9sbEVuZERyYWc6IHRoaXMuX2hhbmRsZVNjcm9sbEVuZERyYWcsXG4gICAgICBvblNjcm9sbFNob3VsZFNldFJlc3BvbmRlcjogdGhpcy5faGFuZGxlU2Nyb2xsU2hvdWxkU2V0UmVzcG9uZGVyLFxuICAgICAgb25TdGFydFNob3VsZFNldFJlc3BvbmRlcjogdGhpcy5faGFuZGxlU3RhcnRTaG91bGRTZXRSZXNwb25kZXIsXG4gICAgICBvblN0YXJ0U2hvdWxkU2V0UmVzcG9uZGVyQ2FwdHVyZTogdGhpc1xuICAgICAgICAuX2hhbmRsZVN0YXJ0U2hvdWxkU2V0UmVzcG9uZGVyQ2FwdHVyZSxcbiAgICAgIG9uVG91Y2hFbmQ6IHRoaXMuX2hhbmRsZVRvdWNoRW5kLFxuICAgICAgb25Ub3VjaE1vdmU6IHRoaXMuX2hhbmRsZVRvdWNoTW92ZSxcbiAgICAgIG9uVG91Y2hTdGFydDogdGhpcy5faGFuZGxlVG91Y2hTdGFydCxcbiAgICAgIG9uVG91Y2hDYW5jZWw6IHRoaXMuX2hhbmRsZVRvdWNoQ2FuY2VsLFxuICAgICAgb25TY3JvbGw6IHRoaXMuX2hhbmRsZVNjcm9sbCxcbiAgICAgIHNjcm9sbEV2ZW50VGhyb3R0bGU6IGhhc1N0aWNreUhlYWRlcnNcbiAgICAgICAgPyAxXG4gICAgICAgIDogdGhpcy5wcm9wcy5zY3JvbGxFdmVudFRocm90dGxlLFxuICAgICAgc2VuZE1vbWVudHVtRXZlbnRzOlxuICAgICAgICB0aGlzLnByb3BzLm9uTW9tZW50dW1TY3JvbGxCZWdpbiB8fCB0aGlzLnByb3BzLm9uTW9tZW50dW1TY3JvbGxFbmRcbiAgICAgICAgICA/IHRydWVcbiAgICAgICAgICA6IGZhbHNlLFxuICAgICAgLy8gZGVmYXVsdCB0byB0cnVlXG4gICAgICBzbmFwVG9TdGFydDogdGhpcy5wcm9wcy5zbmFwVG9TdGFydCAhPT0gZmFsc2UsXG4gICAgICAvLyBkZWZhdWx0IHRvIHRydWVcbiAgICAgIHNuYXBUb0VuZDogdGhpcy5wcm9wcy5zbmFwVG9FbmQgIT09IGZhbHNlLFxuICAgICAgLy8gcGFnaW5nRW5hYmxlZCBpcyBvdmVycmlkZGVuIGJ5IHNuYXBUb0ludGVydmFsIC8gc25hcFRvT2Zmc2V0c1xuICAgICAgcGFnaW5nRW5hYmxlZDogUGxhdGZvcm0uc2VsZWN0KHtcbiAgICAgICAgLy8gb24gaU9TLCBwYWdpbmdFbmFibGVkIG11c3QgYmUgc2V0IHRvIGZhbHNlIHRvIGhhdmUgc25hcFRvSW50ZXJ2YWwgLyBzbmFwVG9PZmZzZXRzIHdvcmtcbiAgICAgICAgaW9zOlxuICAgICAgICAgIHRoaXMucHJvcHMucGFnaW5nRW5hYmxlZCA9PT0gdHJ1ZSAmJlxuICAgICAgICAgIHRoaXMucHJvcHMuc25hcFRvSW50ZXJ2YWwgPT0gbnVsbCAmJlxuICAgICAgICAgIHRoaXMucHJvcHMuc25hcFRvT2Zmc2V0cyA9PSBudWxsLFxuICAgICAgICAvLyBvbiBBbmRyb2lkLCBwYWdpbmdFbmFibGVkIG11c3QgYmUgc2V0IHRvIHRydWUgdG8gaGF2ZSBzbmFwVG9JbnRlcnZhbCAvIHNuYXBUb09mZnNldHMgd29ya1xuICAgICAgICBhbmRyb2lkOlxuICAgICAgICAgIHRoaXMucHJvcHMucGFnaW5nRW5hYmxlZCA9PT0gdHJ1ZSB8fFxuICAgICAgICAgIHRoaXMucHJvcHMuc25hcFRvSW50ZXJ2YWwgIT0gbnVsbCB8fFxuICAgICAgICAgIHRoaXMucHJvcHMuc25hcFRvT2Zmc2V0cyAhPSBudWxsLFxuICAgICAgfSksXG4gICAgfTtcblxuICAgIGNvbnN0IHtkZWNlbGVyYXRpb25SYXRlfSA9IHRoaXMucHJvcHM7XG4gICAgaWYgKGRlY2VsZXJhdGlvblJhdGUgIT0gbnVsbCkge1xuICAgICAgcHJvcHMuZGVjZWxlcmF0aW9uUmF0ZSA9IHByb2Nlc3NEZWNlbGVyYXRpb25SYXRlKGRlY2VsZXJhdGlvblJhdGUpO1xuICAgIH1cblxuICAgIGNvbnN0IHJlZnJlc2hDb250cm9sID0gdGhpcy5wcm9wcy5yZWZyZXNoQ29udHJvbDtcblxuICAgIGlmIChyZWZyZXNoQ29udHJvbCkge1xuICAgICAgaWYgKFBsYXRmb3JtLk9TID09PSAnaW9zJykge1xuICAgICAgICAvLyBPbiBpT1MgdGhlIFJlZnJlc2hDb250cm9sIGlzIGEgY2hpbGQgb2YgdGhlIFNjcm9sbFZpZXcuXG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgPE5hdGl2ZURpcmVjdGlvbmFsU2Nyb2xsVmlldyB7Li4ucHJvcHN9IHJlZj17dGhpcy5fc2V0TmF0aXZlUmVmfT5cbiAgICAgICAgICAgIHtyZWZyZXNoQ29udHJvbH1cbiAgICAgICAgICAgIHtjb250ZW50Q29udGFpbmVyfVxuICAgICAgICAgIDwvTmF0aXZlRGlyZWN0aW9uYWxTY3JvbGxWaWV3PlxuICAgICAgICApO1xuICAgICAgfSBlbHNlIGlmIChQbGF0Zm9ybS5PUyA9PT0gJ2FuZHJvaWQnKSB7XG4gICAgICAgIC8vIE9uIEFuZHJvaWQgd3JhcCB0aGUgU2Nyb2xsVmlldyB3aXRoIGEgQW5kcm9pZFN3aXBlUmVmcmVzaExheW91dC5cbiAgICAgICAgLy8gU2luY2UgdGhlIFNjcm9sbFZpZXcgaXMgd3JhcHBlZCBhZGQgdGhlIHN0eWxlIHByb3BzIHRvIHRoZVxuICAgICAgICAvLyBBbmRyb2lkU3dpcGVSZWZyZXNoTGF5b3V0IGFuZCB1c2UgZmxleDogMSBmb3IgdGhlIFNjcm9sbFZpZXcuXG4gICAgICAgIC8vIE5vdGU6IHdlIHNob3VsZCBzcGxpdCBwcm9wcy5zdHlsZSBvbiB0aGUgaW5uZXIgYW5kIG91dGVyIHByb3BzXG4gICAgICAgIC8vIGhvd2V2ZXIsIHRoZSBTY3JvbGxWaWV3IHN0aWxsIG5lZWRzIHRoZSBiYXNlU3R5bGUgdG8gYmUgc2Nyb2xsYWJsZVxuICAgICAgICBjb25zdCB7b3V0ZXIsIGlubmVyfSA9IHNwbGl0TGF5b3V0UHJvcHMoZmxhdHRlblN0eWxlKHByb3BzLnN0eWxlKSk7XG4gICAgICAgIHJldHVybiBSZWFjdC5jbG9uZUVsZW1lbnQoXG4gICAgICAgICAgcmVmcmVzaENvbnRyb2wsXG4gICAgICAgICAge3N0eWxlOiBTdHlsZVNoZWV0LmNvbXBvc2UoYmFzZVN0eWxlLCBvdXRlcil9LFxuICAgICAgICAgIDxOYXRpdmVEaXJlY3Rpb25hbFNjcm9sbFZpZXdcbiAgICAgICAgICAgIHsuLi5wcm9wc31cbiAgICAgICAgICAgIHN0eWxlPXtTdHlsZVNoZWV0LmNvbXBvc2UoYmFzZVN0eWxlLCBpbm5lcil9XG4gICAgICAgICAgICByZWY9e3RoaXMuX3NldE5hdGl2ZVJlZn0+XG4gICAgICAgICAgICB7Y29udGVudENvbnRhaW5lcn1cbiAgICAgICAgICA8L05hdGl2ZURpcmVjdGlvbmFsU2Nyb2xsVmlldz4sXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiAoXG4gICAgICA8TmF0aXZlRGlyZWN0aW9uYWxTY3JvbGxWaWV3IHsuLi5wcm9wc30gcmVmPXt0aGlzLl9zZXROYXRpdmVSZWZ9PlxuICAgICAgICB7Y29udGVudENvbnRhaW5lcn1cbiAgICAgIDwvTmF0aXZlRGlyZWN0aW9uYWxTY3JvbGxWaWV3PlxuICAgICk7XG4gIH1cbn1cblxuY29uc3Qgc3R5bGVzID0gU3R5bGVTaGVldC5jcmVhdGUoe1xuICBiYXNlVmVydGljYWw6IHtcbiAgICBmbGV4R3JvdzogMSxcbiAgICBmbGV4U2hyaW5rOiAxLFxuICAgIGZsZXhEaXJlY3Rpb246ICdjb2x1bW4nLFxuICAgIG92ZXJmbG93OiAnc2Nyb2xsJyxcbiAgfSxcbiAgYmFzZUhvcml6b250YWw6IHtcbiAgICBmbGV4R3JvdzogMSxcbiAgICBmbGV4U2hyaW5rOiAxLFxuICAgIGZsZXhEaXJlY3Rpb246ICdyb3cnLFxuICAgIG92ZXJmbG93OiAnc2Nyb2xsJyxcbiAgfSxcbiAgY29udGVudENvbnRhaW5lckhvcml6b250YWw6IHtcbiAgICBmbGV4RGlyZWN0aW9uOiAncm93JyxcbiAgfSxcbn0pO1xuXG5mdW5jdGlvbiBXcmFwcGVyKHByb3BzLCByZWYpIHtcbiAgcmV0dXJuIDxTY3JvbGxWaWV3IHsuLi5wcm9wc30gc2Nyb2xsVmlld1JlZj17cmVmfSAvPjtcbn1cbldyYXBwZXIuZGlzcGxheU5hbWUgPSAnU2Nyb2xsVmlldyc7XG5jb25zdCBGb3J3YXJkZWRTY3JvbGxWaWV3ID0gUmVhY3QuZm9yd2FyZFJlZihXcmFwcGVyKTtcblxuLy8gJEZsb3dGaXhNZVtwcm9wLW1pc3NpbmddIEFkZCBzdGF0aWMgY29udGV4dCB0byBGb3J3YXJkZWRTY3JvbGxWaWV3XG5Gb3J3YXJkZWRTY3JvbGxWaWV3LkNvbnRleHQgPSBTY3JvbGxWaWV3Q29udGV4dDtcblxuRm9yd2FyZGVkU2Nyb2xsVmlldy5kaXNwbGF5TmFtZSA9ICdTY3JvbGxWaWV3JztcblxubW9kdWxlLmV4cG9ydHMgPSAoKEZvcndhcmRlZFNjcm9sbFZpZXc6ICRGbG93Rml4TWUpOiBSZWFjdC5BYnN0cmFjdENvbXBvbmVudDxcbiAgUmVhY3QuRWxlbWVudENvbmZpZzx0eXBlb2YgU2Nyb2xsVmlldz4sXG4gICRSZWFkT25seTx7fFxuICAgIC4uLiRFeGFjdDxSZWFjdC5FbGVtZW50UmVmPEhvc3RDb21wb25lbnQ8bWl4ZWQ+Pj4sXG4gICAgLi4uU2Nyb2xsVmlld0ltcGVyYXRpdmVNZXRob2RzLFxuICB8fT4sXG4+ICZcbiAgU2Nyb2xsVmlld0NvbXBvbmVudFN0YXRpY3MpO1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFVQSxJQUFBQSx1QkFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsV0FBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUUsU0FBQSxHQUFBSCxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUcsS0FBQSxHQUFBQyx1QkFBQSxDQUFBSixPQUFBO0FBQ0EsSUFBQUssWUFBQSxHQUFBTixzQkFBQSxDQUFBQyxPQUFBO0FBRUEsSUFBQU0sdUJBQUEsR0FBQVAsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFPLFdBQUEsR0FBQVIsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFRLEtBQUEsR0FBQVQsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFTLFVBQUEsR0FBQVYsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFVLFNBQUEsR0FBQVgsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFXLGdCQUFBLEdBQUFaLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBWSxlQUFBLEdBQUFiLHNCQUFBLENBQUFDLE9BQUE7QUFFQSxJQUFBYSxnQkFBQSxHQUFBZCxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQWMsYUFBQSxHQUFBZixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQWUsVUFBQSxHQUFBaEIsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFnQix3QkFBQSxHQUFBakIsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFpQixrQkFBQSxHQUFBbEIsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFrQixpQkFBQSxHQUFBbkIsc0JBQUEsQ0FBQUMsT0FBQTtBQWFBLElBQUFtQixrQkFBQSxHQUFBZix1QkFBQSxDQUFBSixPQUFBO0FBS0EsSUFBQW9CLG1CQUFBLEdBQUFyQixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFB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