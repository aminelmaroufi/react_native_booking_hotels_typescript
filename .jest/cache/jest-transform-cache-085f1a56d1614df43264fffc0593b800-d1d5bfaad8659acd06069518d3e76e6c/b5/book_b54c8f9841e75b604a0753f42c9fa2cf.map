{"version":3,"names":["_actionTypes","_interopRequireDefault","require","_card","emptyHotel","_id","name","short_address","address","rating","location","type","main_picture","second_picture","rooms","emptyRoom","title","advantage","price","room_picture","initialState","book","hotel","room","check_in_date","check_out_date","night_numbers","card","emptySecureCard","bookings","reducer","state","arguments","length","undefined","action","ActionTypes","SELECT_HOTEL","_extends2","default","payload","CHECK_USER_SUCCESS","user","cards","UPDATE_RESERVATION","ADD_CARD_SUCCESS","SET_DEFAULT_CARD","CREATE_BOOKING_SUCCESS","unshift","SET_BOOKINGS"],"sources":["book.ts"],"sourcesContent":["import ActionTypes from '../../utils/actionTypes';\nimport {IHotel, IRoom} from '../../models';\nimport {emptySecureCard} from '../../models/card';\nimport {BookState, bookActions} from '../../types';\n\nconst emptyHotel: IHotel = {\n  _id: '',\n  name: '',\n  short_address: '',\n  address: '',\n  rating: 0,\n  location: '',\n  type: '',\n  main_picture: '',\n  second_picture: '',\n  rooms: [],\n};\n\nconst emptyRoom: IRoom = {\n  _id: '',\n  title: '',\n  advantage: '',\n  price: 0,\n  room_picture: '',\n};\n\nconst initialState: BookState = {\n  book: {\n    _id: '',\n    hotel: emptyHotel,\n    room: emptyRoom,\n    check_in_date: null,\n    check_out_date: null,\n    night_numbers: 0,\n    price: 0,\n    card: emptySecureCard,\n  },\n  bookings: [],\n};\n\nexport default function reducer(state = initialState, action: bookActions) {\n  switch (action.type) {\n    case ActionTypes.SELECT_HOTEL:\n      return {\n        ...state,\n        book: {...state.book, hotel: action.payload.hotel},\n      };\n    case ActionTypes.CHECK_USER_SUCCESS:\n      return {\n        ...state,\n        book: {...state.book, card: action.payload.user.cards[0]},\n      };\n    case ActionTypes.UPDATE_RESERVATION:\n      return {\n        ...state,\n        book: action.payload.book,\n      };\n    case ActionTypes.ADD_CARD_SUCCESS:\n      return {\n        ...state,\n        book: {...state.book, card: action.payload.card},\n      };\n    case ActionTypes.SET_DEFAULT_CARD:\n      return {\n        ...state,\n        book: {...state.book, card: action.payload.card},\n      };\n    case ActionTypes.CREATE_BOOKING_SUCCESS:\n      let bookings = state.bookings;\n      bookings.unshift(action.payload.book);\n      return {\n        ...state,\n        book: initialState.book,\n        bookings: bookings,\n      };\n    case ActionTypes.SET_BOOKINGS:\n      return {\n        ...state,\n        bookings: action.payload.bookings,\n      };\n    default:\n      return state;\n  }\n}\n"],"mappings":"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"}