89e531f2bdb6b06e21050bff7f7c8c08
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _extends2 = _interopRequireDefault(require("@babel/runtime/helpers/extends"));
var _react = _interopRequireDefault(require("react"));
var _reactNative = require("@testing-library/react-native");
var eva = _interopRequireWildcard(require("@eva-design/eva"));
var _components = require("@ui-kitten/components");
var _store = _interopRequireDefault(require("../../redux/store"));
var _Login = _interopRequireDefault(require("../Login"));
var _reactRedux = require("react-redux");
function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== "function") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }
function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }
var store = (0, _store.default)();
var email = 'test@test.com';
var password = 'Azerty123@@';
var navigation = {
  navigate: jest.fn()
};
var setup = function setup() {
  return (0, _reactNative.render)(_react.default.createElement(_components.ApplicationProvider, (0, _extends2.default)({}, eva, {
    theme: eva.light
  }), _react.default.createElement(_reactRedux.Provider, {
    store: store
  }, _react.default.createElement(_Login.default, {
    navigation: navigation
  }))));
};
describe('Test Login Component', function () {
  beforeEach(function () {
    store.dispatch = jest.fn();
  });
  afterEach(_reactNative.cleanup);
  it('should render all form element', function () {
    setup();
    expect(_reactNative.screen.getByTestId('logo')).toBeDefined();
    expect(_reactNative.screen.getByTestId('email')).toBeDefined();
    expect(_reactNative.screen.getByTestId('password')).toBeDefined();
    var loginBtn = _reactNative.screen.getByTestId('login-btn');
    expect(loginBtn).toBeDefined();
  });
  it('should enable login button after entereing valid email and password value', function () {
    setup();
    var emailInput = _reactNative.screen.getByTestId('email');
    var passwordInput = _reactNative.screen.getByTestId('password');
    var loginBtn = _reactNative.screen.getByTestId('login-btn');
    expect(loginBtn.props.accessibilityState).toHaveProperty('disabled', true);
    _reactNative.fireEvent.changeText(emailInput, email);
    console.log('email:', emailInput.props);
    expect(emailInput.props.value).toBe(email);
    _reactNative.fireEvent.changeText(passwordInput, password);
    expect(passwordInput.props.value).toBe(password);
    expect(loginBtn.props.accessibilityState).toHaveProperty('disabled', false);
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcmVhY3QiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9yZWFjdE5hdGl2ZSIsImV2YSIsIl9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkIiwiX2NvbXBvbmVudHMiLCJfc3RvcmUiLCJfTG9naW4iLCJfcmVhY3RSZWR1eCIsIl9nZXRSZXF1aXJlV2lsZGNhcmRDYWNoZSIsIm5vZGVJbnRlcm9wIiwiV2Vha01hcCIsImNhY2hlQmFiZWxJbnRlcm9wIiwiY2FjaGVOb2RlSW50ZXJvcCIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwiY2FjaGUiLCJoYXMiLCJnZXQiLCJuZXdPYmoiLCJoYXNQcm9wZXJ0eURlc2NyaXB0b3IiLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImdldE93blByb3BlcnR5RGVzY3JpcHRvciIsImtleSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImRlc2MiLCJzZXQiLCJzdG9yZSIsImNvbmZpZ3VyZVN0b3JlIiwiZW1haWwiLCJwYXNzd29yZCIsIm5hdmlnYXRpb24iLCJuYXZpZ2F0ZSIsImplc3QiLCJmbiIsInNldHVwIiwicmVuZGVyIiwiY3JlYXRlRWxlbWVudCIsIkFwcGxpY2F0aW9uUHJvdmlkZXIiLCJfZXh0ZW5kczIiLCJ0aGVtZSIsImxpZ2h0IiwiUHJvdmlkZXIiLCJkZXNjcmliZSIsImJlZm9yZUVhY2giLCJkaXNwYXRjaCIsImFmdGVyRWFjaCIsImNsZWFudXAiLCJpdCIsImV4cGVjdCIsInNjcmVlbiIsImdldEJ5VGVzdElkIiwidG9CZURlZmluZWQiLCJsb2dpbkJ0biIsImVtYWlsSW5wdXQiLCJwYXNzd29yZElucHV0IiwicHJvcHMiLCJhY2Nlc3NpYmlsaXR5U3RhdGUiLCJ0b0hhdmVQcm9wZXJ0eSIsImZpcmVFdmVudCIsImNoYW5nZVRleHQiLCJjb25zb2xlIiwibG9nIiwidmFsdWUiLCJ0b0JlIl0sInNvdXJjZXMiOlsibG9naW4udGVzdC50c3giXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7XG4gIGNsZWFudXAsXG4gIGZpcmVFdmVudCxcbiAgcmVuZGVyLFxuICBzY3JlZW4sXG59IGZyb20gJ0B0ZXN0aW5nLWxpYnJhcnkvcmVhY3QtbmF0aXZlJztcblxuaW1wb3J0IHVzZXJFdmVudCBmcm9tICdAdGVzdGluZy1saWJyYXJ5L3VzZXItZXZlbnQnO1xuaW1wb3J0ICogYXMgZXZhIGZyb20gJ0BldmEtZGVzaWduL2V2YSc7XG5pbXBvcnQge0FwcGxpY2F0aW9uUHJvdmlkZXIsIExheW91dCwgU3Bpbm5lcn0gZnJvbSAnQHVpLWtpdHRlbi9jb21wb25lbnRzJztcbmltcG9ydCBjb25maWd1cmVTdG9yZSBmcm9tICcuLi8uLi9yZWR1eC9zdG9yZSc7XG5pbXBvcnQgTG9naW4gZnJvbSAnLi4vTG9naW4nO1xuaW1wb3J0IHtsb2dpblJlcXVlc3R9IGZyb20gJy4uLy4uL2FjdGlvbnMnO1xuaW1wb3J0IHtQcm92aWRlcn0gZnJvbSAncmVhY3QtcmVkdXgnO1xuXG5sZXQgc3RvcmUgPSBjb25maWd1cmVTdG9yZSgpO1xuXG5jb25zdCBlbWFpbCA9ICd0ZXN0QHRlc3QuY29tJztcbmNvbnN0IHBhc3N3b3JkID0gJ0F6ZXJ0eTEyM0BAJztcblxuY29uc3QgbmF2aWdhdGlvbiA9IHtcbiAgbmF2aWdhdGU6IGplc3QuZm4oKSxcbn07XG5jb25zdCBzZXR1cCA9ICgpID0+XG4gIHJlbmRlcihcbiAgICA8QXBwbGljYXRpb25Qcm92aWRlciB7Li4uZXZhfSB0aGVtZT17ZXZhLmxpZ2h0fT5cbiAgICAgIDxQcm92aWRlciBzdG9yZT17c3RvcmV9PlxuICAgICAgICA8TG9naW4gbmF2aWdhdGlvbj17bmF2aWdhdGlvbn0gLz5cbiAgICAgIDwvUHJvdmlkZXI+XG4gICAgPC9BcHBsaWNhdGlvblByb3ZpZGVyPixcbiAgKTtcblxuZGVzY3JpYmUoJ1Rlc3QgTG9naW4gQ29tcG9uZW50JywgKCkgPT4ge1xuICBiZWZvcmVFYWNoKCgpID0+IHtcbiAgICBzdG9yZS5kaXNwYXRjaCA9IGplc3QuZm4oKTtcbiAgfSk7XG5cbiAgYWZ0ZXJFYWNoKGNsZWFudXApO1xuXG4gIGl0KCdzaG91bGQgcmVuZGVyIGFsbCBmb3JtIGVsZW1lbnQnLCAoKSA9PiB7XG4gICAgc2V0dXAoKTtcblxuICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXN0SWQoJ2xvZ28nKSkudG9CZURlZmluZWQoKTtcbiAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGVzdElkKCdlbWFpbCcpKS50b0JlRGVmaW5lZCgpO1xuICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXN0SWQoJ3Bhc3N3b3JkJykpLnRvQmVEZWZpbmVkKCk7XG5cbiAgICBjb25zdCBsb2dpbkJ0biA9IHNjcmVlbi5nZXRCeVRlc3RJZCgnbG9naW4tYnRuJyk7XG5cbiAgICBleHBlY3QobG9naW5CdG4pLnRvQmVEZWZpbmVkKCk7XG4gIH0pO1xuXG4gIGl0KCdzaG91bGQgZW5hYmxlIGxvZ2luIGJ1dHRvbiBhZnRlciBlbnRlcmVpbmcgdmFsaWQgZW1haWwgYW5kIHBhc3N3b3JkIHZhbHVlJywgKCkgPT4ge1xuICAgIHNldHVwKCk7XG4gICAgY29uc3QgZW1haWxJbnB1dCA9IHNjcmVlbi5nZXRCeVRlc3RJZCgnZW1haWwnKTtcbiAgICBjb25zdCBwYXNzd29yZElucHV0ID0gc2NyZWVuLmdldEJ5VGVzdElkKCdwYXNzd29yZCcpO1xuICAgIGNvbnN0IGxvZ2luQnRuID0gc2NyZWVuLmdldEJ5VGVzdElkKCdsb2dpbi1idG4nKTtcblxuICAgIGV4cGVjdChsb2dpbkJ0bi5wcm9wcy5hY2Nlc3NpYmlsaXR5U3RhdGUpLnRvSGF2ZVByb3BlcnR5KCdkaXNhYmxlZCcsIHRydWUpO1xuXG4gICAgZmlyZUV2ZW50LmNoYW5nZVRleHQoZW1haWxJbnB1dCwgZW1haWwpO1xuICAgIGNvbnNvbGUubG9nKCdlbWFpbDonLCBlbWFpbElucHV0LnByb3BzKTtcbiAgICBleHBlY3QoZW1haWxJbnB1dC5wcm9wcy52YWx1ZSkudG9CZShlbWFpbCk7XG4gICAgZmlyZUV2ZW50LmNoYW5nZVRleHQocGFzc3dvcmRJbnB1dCwgcGFzc3dvcmQpO1xuICAgIGV4cGVjdChwYXNzd29yZElucHV0LnByb3BzLnZhbHVlKS50b0JlKHBhc3N3b3JkKTtcblxuICAgIGV4cGVjdChsb2dpbkJ0bi5wcm9wcy5hY2Nlc3NpYmlsaXR5U3RhdGUpLnRvSGF2ZVByb3BlcnR5KCdkaXNhYmxlZCcsIGZhbHNlKTtcbiAgfSk7XG59KTtcbiJdLCJtYXBwaW5ncyI6Ijs7OztBQUFBLElBQUFBLE1BQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLFlBQUEsR0FBQUQsT0FBQTtBQVFBLElBQUFFLEdBQUEsR0FBQUMsdUJBQUEsQ0FBQUgsT0FBQTtBQUNBLElBQUFJLFdBQUEsR0FBQUosT0FBQTtBQUNBLElBQUFLLE1BQUEsR0FBQU4sc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFNLE1BQUEsR0FBQVAsc0JBQUEsQ0FBQUMsT0FBQTtBQUVBLElBQUFPLFdBQUEsR0FBQVAsT0FBQTtBQUFxQyxTQUFBUSx5QkFBQUMsV0FBQSxlQUFBQyxPQUFBLGtDQUFBQyxpQkFBQSxPQUFBRCxPQUFBLFFBQUFFLGdCQUFBLE9BQUFGLE9BQUEsWUFBQUYsd0JBQUEsWUFBQUEseUJBQUFDLFdBQUEsV0FBQUEsV0FBQSxHQUFBRyxnQkFBQSxHQUFBRCxpQkFBQSxLQUFBRixXQUFBO0FBQUEsU0FBQU4sd0JBQUFVLEdBQUEsRUFBQUosV0FBQSxTQUFBQSxXQUFBLElBQUFJLEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFBLFdBQUFELEdBQUEsUUFBQUEsR0FBQSxvQkFBQUEsR0FBQSx3QkFBQUEsR0FBQSw0QkFBQUUsT0FBQSxFQUFBRixHQUFBLFVBQUFHLEtBQUEsR0FBQVIsd0JBQUEsQ0FBQUMsV0FBQSxPQUFBTyxLQUFBLElBQUFBLEtBQUEsQ0FBQUMsR0FBQSxDQUFBSixHQUFBLFlBQUFHLEtBQUEsQ0FBQUUsR0FBQSxDQUFBTCxHQUFBLFNBQUFNLE1BQUEsV0FBQUMscUJBQUEsR0FBQUMsTUFBQSxDQUFBQyxjQUFBLElBQUFELE1BQUEsQ0FBQUUsd0JBQUEsV0FBQUMsR0FBQSxJQUFBWCxHQUFBLFFBQUFXLEdBQUEsa0JBQUFILE1BQUEsQ0FBQUksU0FBQSxDQUFBQyxjQUFBLENBQUFDLElBQUEsQ0FBQWQsR0FBQSxFQUFBVyxHQUFBLFNBQUFJLElBQUEsR0FBQVIscUJBQUEsR0FBQUMsTUFBQSxDQUFBRSx3QkFBQSxDQUFBVixHQUFBLEVBQUFXLEdBQUEsY0FBQUksSUFBQSxLQUFBQSxJQUFBLENBQUFWLEdBQUEsSUFBQVUsSUFBQSxDQUFBQyxHQUFBLEtBQUFSLE1BQUEsQ0FBQUMsY0FBQSxDQUFBSCxNQUFBLEVBQUFLLEdBQUEsRUFBQUksSUFBQSxZQUFBVCxNQUFBLENBQUFLLEdBQUEsSUFBQVgsR0FBQSxDQUFBVyxHQUFBLFNBQUFMLE1BQUEsQ0FBQUosT0FBQSxHQUFBRixHQUFBLE1BQUFHLEtBQUEsSUFBQUEsS0FBQSxDQUFBYSxHQUFBLENBQUFoQixHQUFBLEVBQUFNLE1BQUEsWUFBQUEsTUFBQTtBQUVyQyxJQUFJVyxLQUFLLEdBQUcsSUFBQUMsY0FBYyxHQUFFO0FBRTVCLElBQU1DLEtBQUssR0FBRyxlQUFlO0FBQzdCLElBQU1DLFFBQVEsR0FBRyxhQUFhO0FBRTlCLElBQU1DLFVBQVUsR0FBRztFQUNqQkMsUUFBUSxFQUFFQyxJQUFJLENBQUNDLEVBQUU7QUFDbkIsQ0FBQztBQUNELElBQU1DLEtBQUssR0FBRyxTQUFSQSxLQUFLQSxDQUFBO0VBQUEsT0FDVCxJQUFBQyxtQkFBTSxFQUNKekMsTUFBQSxDQUFBaUIsT0FBQSxDQUFBeUIsYUFBQSxDQUFDcEMsV0FBQSxDQUFBcUMsbUJBQW1CLE1BQUFDLFNBQUEsQ0FBQTNCLE9BQUEsTUFBS2IsR0FBRztJQUFFeUMsS0FBSyxFQUFFekMsR0FBRyxDQUFDMEM7RUFBTSxJQUM3QzlDLE1BQUEsQ0FBQWlCLE9BQUEsQ0FBQXlCLGFBQUEsQ0FBQ2pDLFdBQUEsQ0FBQXNDLFFBQVE7SUFBQ2YsS0FBSyxFQUFFQTtFQUFNLEdBQ3JCaEMsTUFBQSxDQUFBaUIsT0FBQSxDQUFBeUIsYUFBQSxDQUFDbEMsTUFBQSxDQUFBUyxPQUFLO0lBQUNtQixVQUFVLEVBQUVBO0VBQVcsRUFBRyxDQUN4QixDQUNTLENBQ3ZCO0FBQUE7QUFFSFksUUFBUSxDQUFDLHNCQUFzQixFQUFFLFlBQU07RUFDckNDLFVBQVUsQ0FBQyxZQUFNO0lBQ2ZqQixLQUFLLENBQUNrQixRQUFRLEdBQUdaLElBQUksQ0FBQ0MsRUFBRSxFQUFFO0VBQzVCLENBQUMsQ0FBQztFQUVGWSxTQUFTLENBQUNDLG9CQUFPLENBQUM7RUFFbEJDLEVBQUUsQ0FBQyxnQ0FBZ0MsRUFBRSxZQUFNO0lBQ3pDYixLQUFLLEVBQUU7SUFFUGMsTUFBTSxDQUFDQyxtQkFBTSxDQUFDQyxXQUFXLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQ0MsV0FBVyxFQUFFO0lBQ2hESCxNQUFNLENBQUNDLG1CQUFNLENBQUNDLFdBQVcsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDQyxXQUFXLEVBQUU7SUFDakRILE1BQU0sQ0FBQ0MsbUJBQU0sQ0FBQ0MsV0FBVyxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUNDLFdBQVcsRUFBRTtJQUVwRCxJQUFNQyxRQUFRLEdBQUdILG1CQUFNLENBQUNDLFdBQVcsQ0FBQyxXQUFXLENBQUM7SUFFaERGLE1BQU0sQ0FBQ0ksUUFBUSxDQUFDLENBQUNELFdBQVcsRUFBRTtFQUNoQyxDQUFDLENBQUM7RUFFRkosRUFBRSxDQUFDLDJFQUEyRSxFQUFFLFlBQU07SUFDcEZiLEtBQUssRUFBRTtJQUNQLElBQU1tQixVQUFVLEdBQUdKLG1CQUFNLENBQUNDLFdBQVcsQ0FBQyxPQUFPLENBQUM7SUFDOUMsSUFBTUksYUFBYSxHQUFHTCxtQkFBTSxDQUFDQyxXQUFXLENBQUMsVUFBVSxDQUFDO0lBQ3BELElBQU1FLFFBQVEsR0FBR0gsbUJBQU0sQ0FBQ0MsV0FBVyxDQUFDLFdBQVcsQ0FBQztJQUVoREYsTUFBTSxDQUFDSSxRQUFRLENBQUNHLEtBQUssQ0FBQ0Msa0JBQWtCLENBQUMsQ0FBQ0MsY0FBYyxDQUFDLFVBQVUsRUFBRSxJQUFJLENBQUM7SUFFMUVDLHNCQUFTLENBQUNDLFVBQVUsQ0FBQ04sVUFBVSxFQUFFekIsS0FBSyxDQUFDO0lBQ3ZDZ0MsT0FBTyxDQUFDQyxHQUFHLENBQUMsUUFBUSxFQUFFUixVQUFVLENBQUNFLEtBQUssQ0FBQztJQUN2Q1AsTUFBTSxDQUFDSyxVQUFVLENBQUNFLEtBQUssQ0FBQ08sS0FBSyxDQUFDLENBQUNDLElBQUksQ0FBQ25DLEtBQUssQ0FBQztJQUMxQzhCLHNCQUFTLENBQUNDLFVBQVUsQ0FBQ0wsYUFBYSxFQUFFekIsUUFBUSxDQUFDO0lBQzdDbUIsTUFBTSxDQUFDTSxhQUFhLENBQUNDLEtBQUssQ0FBQ08sS0FBSyxDQUFDLENBQUNDLElBQUksQ0FBQ2xDLFFBQVEsQ0FBQztJQUVoRG1CLE1BQU0sQ0FBQ0ksUUFBUSxDQUFDRyxLQUFLLENBQUNDLGtCQUFrQixDQUFDLENBQUNDLGNBQWMsQ0FBQyxVQUFVLEVBQUUsS0FBSyxDQUFDO0VBQzdFLENBQUMsQ0FBQztBQUNKLENBQUMsQ0FBQyJ9