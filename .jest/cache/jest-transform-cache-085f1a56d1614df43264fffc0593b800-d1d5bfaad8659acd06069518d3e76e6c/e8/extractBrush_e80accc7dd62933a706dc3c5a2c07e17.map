{"version":3,"names":["_extractColor","_interopRequireWildcard","require","urlIdPattern","currentColorBrush","contextFillBrush","contextStrokeBrush","extractBrush","color","integerColor","brush","match","int32ARGBColor","default","console","warn","concat"],"sources":["extractBrush.ts"],"sourcesContent":["import extractColor, { integerColor } from './extractColor';\nimport { Color } from './types';\n\nconst urlIdPattern = /^url\\(#(.+)\\)$/;\n\nconst currentColorBrush = [2];\nconst contextFillBrush = [3];\nconst contextStrokeBrush = [4];\n\nexport default function extractBrush(color?: Color) {\n  if (typeof color === 'number') {\n    if (color >>> 0 === color && color >= 0 && color <= 0xffffffff) {\n      return integerColor(color);\n    }\n  }\n\n  if (!color || color === 'none') {\n    return null;\n  }\n\n  if (color === 'currentColor') {\n    return currentColorBrush;\n  }\n\n  if (color === 'context-fill') {\n    return contextFillBrush;\n  }\n\n  if (color === 'context-stroke') {\n    return contextStrokeBrush;\n  }\n\n  const brush = typeof color === 'string' && color.match(urlIdPattern);\n  if (brush) {\n    return [1, brush[1]];\n  }\n\n  const int32ARGBColor = extractColor(color);\n  if (typeof int32ARGBColor === 'number') {\n    return int32ARGBColor;\n  }\n\n  console.warn(`\"${color}\" is not a valid color or brush`);\n  return null;\n}\n"],"mappings":";;;;;;;AAAA,IAAAA,aAAA,GAAAC,uBAAA,CAAAC,OAAA;AAGA,IAAMC,YAAY,GAAG,gBAArB;AAEA,IAAMC,iBAAiB,GAAG,CAAC,CAAD,CAA1B;AACA,IAAMC,gBAAgB,GAAG,CAAC,CAAD,CAAzB;AACA,IAAMC,kBAAkB,GAAG,CAAC,CAAD,CAA3B;AAEe,SAASC,YAATA,CAAsBC,KAAtB,EAAqC;EAClD,IAAI,OAAOA,KAAP,KAAiB,QAArB,EAA+B;IAC7B,IAAIA,KAAK,KAAK,CAAV,KAAgBA,KAAhB,IAAyBA,KAAK,IAAI,CAAlC,IAAuCA,KAAK,IAAI,UAApD,EAAgE;MAC9D,OAAO,IAAAR,aAAA,CAAAS,YAAA,EAAaD,KAAb,CAAP;IACD;EACF;EAED,IAAI,CAACA,KAAD,IAAUA,KAAK,KAAK,MAAxB,EAAgC;IAC9B,OAAO,IAAP;EACD;EAED,IAAIA,KAAK,KAAK,cAAd,EAA8B;IAC5B,OAAOJ,iBAAP;EACD;EAED,IAAII,KAAK,KAAK,cAAd,EAA8B;IAC5B,OAAOH,gBAAP;EACD;EAED,IAAIG,KAAK,KAAK,gBAAd,EAAgC;IAC9B,OAAOF,kBAAP;EACD;EAED,IAAMI,KAAK,GAAG,OAAOF,KAAP,KAAiB,QAAjB,IAA6BA,KAAK,CAACG,KAAN,CAAYR,YAAZ,CAA3C;EACA,IAAIO,KAAJ,EAAW;IACT,OAAO,CAAC,CAAD,EAAIA,KAAK,CAAC,CAAD,CAAT,CAAP;EACD;EAED,IAAME,cAAc,GAAG,IAAAZ,aAAA,CAAAa,OAAA,EAAaL,KAAb,CAAvB;EACA,IAAI,OAAOI,cAAP,KAA0B,QAA9B,EAAwC;IACtC,OAAOA,cAAP;EACD;EAEDE,OAAO,CAACC,IAAR,MAAAC,MAAA,CAAiBR,KAAjB;EACA,OAAO,IAAP;AACD"}