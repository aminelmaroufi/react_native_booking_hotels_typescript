{"version":3,"names":["_adapter","_interopRequireDefault","require","checkUser","adapter","get","catch","err","error","message","response","data","result","Promise","reject","exports","saveAccount","user","post","login","email","password","payload","username"],"sources":["auth.tsx"],"sourcesContent":["import adapter from '../utils/adapter';\nimport {IUser} from '../models';\n\nexport const checkUser = () => {\n  return adapter.get('/me').catch(err => {\n    let error: any;\n    if (typeof err === 'string') {\n      error.message = err;\n    } else {\n      error = err.response.data.message\n        ? err.response.data\n        : err.response.data.result;\n    }\n    return Promise.reject(error);\n  });\n};\n\nexport const saveAccount = (user: IUser) => {\n  return adapter.post('/auth/signup', user).catch(err => {\n    let error: any;\n    if (typeof err === 'string') {\n      error.message = err;\n    } else {\n      error = err.response.data.message\n        ? err.response.data\n        : err.response.data.result;\n    }\n    return Promise.reject(error);\n  });\n};\n\nexport const login = (email: string, password: string) => {\n  const payload = {\n    username: email,\n    password: password,\n  };\n  return adapter.post('/auth/signin?scope=customer', payload).catch(err => {\n    let error: any;\n    if (typeof err === 'string') {\n      error.message = err;\n    } else {\n      error = err.response.data.message\n        ? err.response.data\n        : err.response.data.result;\n    }\n    return Promise.reject(error);\n  });\n};\n"],"mappings":";;;;;;;AAAA,IAAAA,QAAA,GAAAC,sBAAA,CAAAC,OAAA;AAGO,IAAMC,SAAS,GAAG,SAAZA,SAASA,CAAA,EAAS;EAC7B,OAAOC,gBAAO,CAACC,GAAG,CAAC,KAAK,CAAC,CAACC,KAAK,CAAC,UAAAC,GAAG,EAAI;IACrC,IAAIC,KAAU;IACd,IAAI,OAAOD,GAAG,KAAK,QAAQ,EAAE;MAC3BC,KAAK,CAACC,OAAO,GAAGF,GAAG;IACrB,CAAC,MAAM;MACLC,KAAK,GAAGD,GAAG,CAACG,QAAQ,CAACC,IAAI,CAACF,OAAO,GAC7BF,GAAG,CAACG,QAAQ,CAACC,IAAI,GACjBJ,GAAG,CAACG,QAAQ,CAACC,IAAI,CAACC,MAAM;IAC9B;IACA,OAAOC,OAAO,CAACC,MAAM,CAACN,KAAK,CAAC;EAC9B,CAAC,CAAC;AACJ,CAAC;AAACO,OAAA,CAAAZ,SAAA,GAAAA,SAAA;AAEK,IAAMa,WAAW,GAAG,SAAdA,WAAWA,CAAIC,IAAW,EAAK;EAC1C,OAAOb,gBAAO,CAACc,IAAI,CAAC,cAAc,EAAED,IAAI,CAAC,CAACX,KAAK,CAAC,UAAAC,GAAG,EAAI;IACrD,IAAIC,KAAU;IACd,IAAI,OAAOD,GAAG,KAAK,QAAQ,EAAE;MAC3BC,KAAK,CAACC,OAAO,GAAGF,GAAG;IACrB,CAAC,MAAM;MACLC,KAAK,GAAGD,GAAG,CAACG,QAAQ,CAACC,IAAI,CAACF,OAAO,GAC7BF,GAAG,CAACG,QAAQ,CAACC,IAAI,GACjBJ,GAAG,CAACG,QAAQ,CAACC,IAAI,CAACC,MAAM;IAC9B;IACA,OAAOC,OAAO,CAACC,MAAM,CAACN,KAAK,CAAC;EAC9B,CAAC,CAAC;AACJ,CAAC;AAACO,OAAA,CAAAC,WAAA,GAAAA,WAAA;AAEK,IAAMG,KAAK,GAAG,SAARA,KAAKA,CAAIC,KAAa,EAAEC,QAAgB,EAAK;EACxD,IAAMC,OAAO,GAAG;IACdC,QAAQ,EAAEH,KAAK;IACfC,QAAQ,EAAEA;EACZ,CAAC;EACD,OAAOjB,gBAAO,CAACc,IAAI,CAAC,6BAA6B,EAAEI,OAAO,CAAC,CAAChB,KAAK,CAAC,UAAAC,GAAG,EAAI;IACvE,IAAIC,KAAU;IACd,IAAI,OAAOD,GAAG,KAAK,QAAQ,EAAE;MAC3BC,KAAK,CAACC,OAAO,GAAGF,GAAG;IACrB,CAAC,MAAM;MACLC,KAAK,GAAGD,GAAG,CAACG,QAAQ,CAACC,IAAI,CAACF,OAAO,GAC7BF,GAAG,CAACG,QAAQ,CAACC,IAAI,GACjBJ,GAAG,CAACG,QAAQ,CAACC,IAAI,CAACC,MAAM;IAC9B;IACA,OAAOC,OAAO,CAACC,MAAM,CAACN,KAAK,CAAC;EAC9B,CAAC,CAAC;AACJ,CAAC;AAACO,OAAA,CAAAI,KAAA,GAAAA,KAAA"}