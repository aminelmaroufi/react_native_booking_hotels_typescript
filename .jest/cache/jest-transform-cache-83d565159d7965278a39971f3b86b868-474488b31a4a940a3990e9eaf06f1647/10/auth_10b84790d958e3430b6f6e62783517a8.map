{"version":3,"names":["adapter_1","__importDefault","require","checkUser","default","get","catch","err","error","message","response","data","result","Promise","reject","exports","saveAccount","user","cards","post","login","email","password","payload","username"],"sources":["/Users/Amine/Desktop/projects/BookingHotelsApp/src/api/auth.tsx"],"sourcesContent":["import adapter from '../utils/adapter';\nimport {IUser} from '../models';\n\nexport const checkUser = () => {\n  return adapter.get('/me').catch(err => {\n    let error: any;\n    if (typeof err === 'string') {\n      error.message = err;\n    } else {\n      error = err.response.data.message\n        ? err.response.data\n        : err.response.data.result;\n    }\n    return Promise.reject(error);\n  });\n};\n\nexport const saveAccount = (user: IUser) => {\n  user.cards = [];\n  return adapter.post('/auth/signup', user).catch(err => {\n    let error: any;\n    if (typeof err === 'string') {\n      error.message = err;\n    } else {\n      error = err.response.data.message\n        ? err.response.data\n        : err.response.data.result;\n    }\n    return Promise.reject(error);\n  });\n};\n\nexport const login = (email: string, password: string) => {\n  const payload = {\n    username: email,\n    password: password,\n  };\n  return adapter.post('/auth/signin?scope=customer', payload).catch(err => {\n    let error: any;\n    if (typeof err === 'string') {\n      error.message = err;\n    } else {\n      error = err.response.data.message\n        ? err.response.data\n        : err.response.data.result;\n    }\n    return Promise.reject(error);\n  });\n};\n"],"mappings":";;;;;;;;;;;AAAA,IAAAA,SAAA,GAAAC,eAAA,CAAAC,OAAA;AAGO,IAAMC,SAAS,GAAG,SAAZA,SAASA,CAAA,EAAQ;EAC5B,OAAOH,SAAA,CAAAI,OAAO,CAACC,GAAG,CAAC,KAAK,CAAC,CAACC,KAAK,CAAC,UAAAC,GAAG,EAAG;IACpC,IAAIC,KAAU;IACd,IAAI,OAAOD,GAAG,KAAK,QAAQ,EAAE;MAC3BC,KAAK,CAACC,OAAO,GAAGF,GAAG;KACpB,MAAM;MACLC,KAAK,GAAGD,GAAG,CAACG,QAAQ,CAACC,IAAI,CAACF,OAAO,GAC7BF,GAAG,CAACG,QAAQ,CAACC,IAAI,GACjBJ,GAAG,CAACG,QAAQ,CAACC,IAAI,CAACC,MAAM;;IAE9B,OAAOC,OAAO,CAACC,MAAM,CAACN,KAAK,CAAC;EAC9B,CAAC,CAAC;AACJ,CAAC;AAZYO,OAAA,CAAAZ,SAAS,GAAAA,SAAA;AAcf,IAAMa,WAAW,GAAG,SAAdA,WAAWA,CAAIC,IAAW,EAAI;EACzCA,IAAI,CAACC,KAAK,GAAG,EAAE;EACf,OAAOlB,SAAA,CAAAI,OAAO,CAACe,IAAI,CAAC,cAAc,EAAEF,IAAI,CAAC,CAACX,KAAK,CAAC,UAAAC,GAAG,EAAG;IACpD,IAAIC,KAAU;IACd,IAAI,OAAOD,GAAG,KAAK,QAAQ,EAAE;MAC3BC,KAAK,CAACC,OAAO,GAAGF,GAAG;KACpB,MAAM;MACLC,KAAK,GAAGD,GAAG,CAACG,QAAQ,CAACC,IAAI,CAACF,OAAO,GAC7BF,GAAG,CAACG,QAAQ,CAACC,IAAI,GACjBJ,GAAG,CAACG,QAAQ,CAACC,IAAI,CAACC,MAAM;;IAE9B,OAAOC,OAAO,CAACC,MAAM,CAACN,KAAK,CAAC;EAC9B,CAAC,CAAC;AACJ,CAAC;AAbYO,OAAA,CAAAC,WAAW,GAAAA,WAAA;AAejB,IAAMI,KAAK,GAAG,SAARA,KAAKA,CAAIC,KAAa,EAAEC,QAAgB,EAAI;EACvD,IAAMC,OAAO,GAAG;IACdC,QAAQ,EAAEH,KAAK;IACfC,QAAQ,EAAEA;GACX;EACD,OAAOtB,SAAA,CAAAI,OAAO,CAACe,IAAI,CAAC,6BAA6B,EAAEI,OAAO,CAAC,CAACjB,KAAK,CAAC,UAAAC,GAAG,EAAG;IACtE,IAAIC,KAAU;IACd,IAAI,OAAOD,GAAG,KAAK,QAAQ,EAAE;MAC3BC,KAAK,CAACC,OAAO,GAAGF,GAAG;KACpB,MAAM;MACLC,KAAK,GAAGD,GAAG,CAACG,QAAQ,CAACC,IAAI,CAACF,OAAO,GAC7BF,GAAG,CAACG,QAAQ,CAACC,IAAI,GACjBJ,GAAG,CAACG,QAAQ,CAACC,IAAI,CAACC,MAAM;;IAE9B,OAAOC,OAAO,CAACC,MAAM,CAACN,KAAK,CAAC;EAC9B,CAAC,CAAC;AACJ,CAAC;AAhBYO,OAAA,CAAAK,KAAK,GAAAA,KAAA"}