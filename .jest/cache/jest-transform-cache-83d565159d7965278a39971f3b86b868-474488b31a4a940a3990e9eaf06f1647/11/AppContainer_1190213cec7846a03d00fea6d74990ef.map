{"version":3,"names":["_View","_interopRequireDefault","require","_RCTDeviceEventEmitter","_StyleSheet","_RootTag","React","_interopRequireWildcard","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","obj","__esModule","default","cache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","_createSuperInternal","Super","_getPrototypeOf2","result","NewTarget","constructor","Reflect","construct","arguments","apply","_possibleConstructorReturn2","sham","Proxy","Boolean","valueOf","e","AppContainer","_React$Component","_inherits2","_super","_this","_classCallCheck2","_len","length","args","Array","_key","concat","state","inspector","mainKey","hasError","_subscription","_createClass2","value","componentDidMount","_this2","__DEV__","global","__RCTProfileIsProfiling","RCTDeviceEventEmitter","addListener","Inspector","createElement","inspectedView","_mainRef","onRequestRerenderApp","updateInspectedView","setState","s","componentWillUnmount","remove","render","_this3","logBox","props","internal_excludeLogBox","LogBoxNotificationContainer","innerView","collapsable","pointerEvents","style","styles","appContainer","ref","children","Wrapper","WrapperComponent","initialProps","fabric","showArchitectureIndicator","RootTagContext","Provider","createRootTag","rootTag","Component","getDerivedStateFromError","undefined","StyleSheet","create","flex","module","exports"],"sources":["AppContainer.js"],"sourcesContent":["/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * @flow\n */\n\nimport View from '../Components/View/View';\nimport RCTDeviceEventEmitter from '../EventEmitter/RCTDeviceEventEmitter';\nimport StyleSheet from '../StyleSheet/StyleSheet';\nimport {type EventSubscription} from '../vendor/emitter/EventEmitter';\nimport {RootTagContext, createRootTag} from './RootTag';\nimport type {RootTag} from './RootTag';\nimport * as React from 'react';\n\ntype Props = $ReadOnly<{|\n  children?: React.Node,\n  fabric?: boolean,\n  useConcurrentRoot?: boolean,\n  rootTag: number | RootTag,\n  initialProps?: {...},\n  showArchitectureIndicator?: boolean,\n  WrapperComponent?: ?React.ComponentType<any>,\n  internal_excludeLogBox?: ?boolean,\n|}>;\n\ntype State = {|\n  inspector: ?React.Node,\n  mainKey: number,\n  hasError: boolean,\n|};\n\nclass AppContainer extends React.Component<Props, State> {\n  state: State = {\n    inspector: null,\n    mainKey: 1,\n    hasError: false,\n  };\n  _mainRef: ?React.ElementRef<typeof View>;\n  _subscription: ?EventSubscription = null;\n\n  static getDerivedStateFromError: any = undefined;\n\n  componentDidMount(): void {\n    if (__DEV__) {\n      if (!global.__RCTProfileIsProfiling) {\n        this._subscription = RCTDeviceEventEmitter.addListener(\n          'toggleElementInspector',\n          () => {\n            const Inspector = require('../Inspector/Inspector');\n            const inspector = this.state.inspector ? null : (\n              <Inspector\n                inspectedView={this._mainRef}\n                onRequestRerenderApp={updateInspectedView => {\n                  this.setState(\n                    s => ({mainKey: s.mainKey + 1}),\n                    () => updateInspectedView(this._mainRef),\n                  );\n                }}\n              />\n            );\n            this.setState({inspector});\n          },\n        );\n      }\n    }\n  }\n\n  componentWillUnmount(): void {\n    if (this._subscription != null) {\n      this._subscription.remove();\n    }\n  }\n\n  render(): React.Node {\n    let logBox = null;\n    if (__DEV__) {\n      if (\n        !global.__RCTProfileIsProfiling &&\n        !this.props.internal_excludeLogBox\n      ) {\n        const LogBoxNotificationContainer = require('../LogBox/LogBoxNotificationContainer')\n          .default;\n        logBox = <LogBoxNotificationContainer />;\n      }\n    }\n\n    let innerView = (\n      <View\n        collapsable={!this.state.inspector}\n        key={this.state.mainKey}\n        pointerEvents=\"box-none\"\n        style={styles.appContainer}\n        ref={ref => {\n          this._mainRef = ref;\n        }}>\n        {this.props.children}\n      </View>\n    );\n\n    const Wrapper = this.props.WrapperComponent;\n    if (Wrapper != null) {\n      innerView = (\n        <Wrapper\n          initialProps={this.props.initialProps}\n          fabric={this.props.fabric === true}\n          showArchitectureIndicator={\n            this.props.showArchitectureIndicator === true\n          }>\n          {innerView}\n        </Wrapper>\n      );\n    }\n    return (\n      <RootTagContext.Provider value={createRootTag(this.props.rootTag)}>\n        <View style={styles.appContainer} pointerEvents=\"box-none\">\n          {!this.state.hasError && innerView}\n          {this.state.inspector}\n          {logBox}\n        </View>\n      </RootTagContext.Provider>\n    );\n  }\n}\n\nconst styles = StyleSheet.create({\n  appContainer: {\n    flex: 1,\n  },\n});\n\nmodule.exports = AppContainer;\n"],"mappings":"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"}