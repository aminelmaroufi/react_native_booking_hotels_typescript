b65c834920267ac081ab1b90a1438ca5
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _regenerator = _interopRequireDefault(require("@babel/runtime/regenerator"));
var __createBinding = void 0 && (void 0).__createBinding || (Object.create ? function (o, m, k, k2) {
  if (k2 === undefined) k2 = k;
  var desc = Object.getOwnPropertyDescriptor(m, k);
  if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
    desc = {
      enumerable: true,
      get: function get() {
        return m[k];
      }
    };
  }
  Object.defineProperty(o, k2, desc);
} : function (o, m, k, k2) {
  if (k2 === undefined) k2 = k;
  o[k2] = m[k];
});
var __setModuleDefault = void 0 && (void 0).__setModuleDefault || (Object.create ? function (o, v) {
  Object.defineProperty(o, "default", {
    enumerable: true,
    value: v
  });
} : function (o, v) {
  o["default"] = v;
});
var __importStar = void 0 && (void 0).__importStar || function (mod) {
  if (mod && mod.__esModule) return mod;
  var result = {};
  if (mod != null) for (var k in mod) if (k !== "default" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);
  __setModuleDefault(result, mod);
  return result;
};
var __awaiter = void 0 && (void 0).__awaiter || function (thisArg, _arguments, P, generator) {
  function adopt(value) {
    return value instanceof P ? value : new P(function (resolve) {
      resolve(value);
    });
  }
  return new (P || (P = Promise))(function (resolve, reject) {
    function fulfilled(value) {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    }
    function rejected(value) {
      try {
        step(generator["throw"](value));
      } catch (e) {
        reject(e);
      }
    }
    function step(result) {
      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
    }
    step((generator = generator.apply(thisArg, _arguments || [])).next());
  });
};
var __importDefault = void 0 && (void 0).__importDefault || function (mod) {
  return mod && mod.__esModule ? mod : {
    "default": mod
  };
};
Object.defineProperty(exports, "__esModule", {
  value: true
});
var effects_1 = require("redux-saga/effects");
var native_1 = require("@react-navigation/native");
var recordSaga_1 = __importDefault(require("../recordSaga"));
var auth_1 = __importStar(require("../auth"));
var actionTypes_1 = __importDefault(require("../../..//utils/actionTypes"));
var api = __importStar(require("../../../api/auth"));
var actions_1 = require("../../../redux/actions");
var error_message = 'Error from API';
var success_message = 'SUCCESS_OPERATION';
describe('Test watchAuthRequest sagas', function () {
  afterEach(function () {
    jest.clearAllMocks();
  });
  it("should call 'all' with the correct functions", function () {
    return __awaiter(void 0, void 0, void 0, _regenerator.default.mark(function _callee() {
      var genObject, effects;
      return _regenerator.default.wrap(function _callee$(_context) {
        while (1) switch (_context.prev = _context.next) {
          case 0:
            genObject = (0, auth_1.default)();
            effects = genObject.next().value;
            expect(effects).toEqual((0, effects_1.all)([(0, effects_1.takeLatest)(actionTypes_1.default.SAVE_ACCOUNT_REQUEST, auth_1.save_account), (0, effects_1.takeLatest)(actionTypes_1.default.LOGIN_REQUEST, auth_1.login_request), (0, effects_1.takeLatest)(actionTypes_1.default.CHECK_USER_REQUEST, auth_1.check_user_request)]));
          case 3:
          case "end":
            return _context.stop();
        }
      }, _callee);
    }));
  });
  describe('Test check_user_request saga', function () {
    it('should call api and dispatch success action', function () {
      return __awaiter(void 0, void 0, void 0, _regenerator.default.mark(function _callee2() {
        var currUser, res, checkUserRequest, dispatched, expectedDispatched;
        return _regenerator.default.wrap(function _callee2$(_context2) {
          while (1) switch (_context2.prev = _context2.next) {
            case 0:
              currUser = {
                _id: '1',
                firstname: 'test',
                lastname: 'test',
                fullname: 'test test',
                email: 'test@test.com',
                phone: '',
                password: '',
                cards: []
              };
              res = {
                data: {
                  ok: true,
                  result: {
                    user: currUser
                  }
                },
                status: 200,
                statusText: '',
                headers: {},
                config: {}
              };
              checkUserRequest = jest.spyOn(api, 'checkUser').mockImplementation(function () {
                return Promise.resolve(res);
              });
              _context2.next = 5;
              return (0, recordSaga_1.default)(auth_1.check_user_request, null);
            case 5:
              dispatched = _context2.sent;
              expect(checkUserRequest).toHaveBeenCalledTimes(1);
              expectedDispatched = [{
                type: actionTypes_1.default.API_CALL_REQUEST
              }, {
                type: actionTypes_1.default.API_CALL_SUCCESS
              }, {
                type: actionTypes_1.default.CHECK_USER_SUCCESS,
                payload: {
                  user: currUser
                }
              }];
              expect(dispatched).toEqual(expectedDispatched);
              checkUserRequest.mockClear();
            case 10:
            case "end":
              return _context2.stop();
          }
        }, _callee2);
      }));
    });
    it('should check_user_request saga disptach failure from the server', function () {
      return __awaiter(void 0, void 0, void 0, _regenerator.default.mark(function _callee3() {
        var res, checkUserRequest, dispatched, expectedDispatched;
        return _regenerator.default.wrap(function _callee3$(_context3) {
          while (1) switch (_context3.prev = _context3.next) {
            case 0:
              res = {
                data: {
                  ok: false,
                  result: {
                    message: error_message,
                    user: null
                  }
                },
                status: 200,
                statusText: '',
                headers: {},
                config: {}
              };
              checkUserRequest = jest.spyOn(api, 'checkUser').mockImplementation(function () {
                return Promise.resolve(res);
              });
              _context3.next = 4;
              return (0, recordSaga_1.default)(auth_1.check_user_request, null);
            case 4:
              dispatched = _context3.sent;
              expect(checkUserRequest).toHaveBeenCalledTimes(1);
              expectedDispatched = [{
                type: actionTypes_1.default.API_CALL_REQUEST
              }, {
                type: actionTypes_1.default.API_CALL_FAILURE,
                payload: {
                  message: error_message
                }
              }];
              expect(dispatched).toEqual(expectedDispatched);
              checkUserRequest.mockClear();
            case 9:
            case "end":
              return _context3.stop();
          }
        }, _callee3);
      }));
    });
    it('should check_user_request saga disptach failure', function () {
      return __awaiter(void 0, void 0, void 0, _regenerator.default.mark(function _callee4() {
        var checkUserRequest, dispatched, expectedDispatched;
        return _regenerator.default.wrap(function _callee4$(_context4) {
          while (1) switch (_context4.prev = _context4.next) {
            case 0:
              checkUserRequest = jest.spyOn(api, 'checkUser').mockImplementation(function () {
                return Promise.reject(new Error(error_message));
              });
              _context4.next = 3;
              return (0, recordSaga_1.default)(auth_1.check_user_request, null);
            case 3:
              dispatched = _context4.sent;
              expect(checkUserRequest).toHaveBeenCalledTimes(1);
              expectedDispatched = [{
                type: actionTypes_1.default.API_CALL_REQUEST
              }, {
                type: actionTypes_1.default.API_CALL_FAILURE,
                payload: {
                  message: error_message
                }
              }];
              expect(dispatched).toEqual(expectedDispatched);
              checkUserRequest.mockClear();
            case 8:
            case "end":
              return _context4.stop();
          }
        }, _callee4);
      }));
    });
  });
  describe('Test login_request saga', function () {
    var action = {
      email: 'test@test.com',
      password: 'Azerty123@@'
    };
    it('should call api and dispatch success action', function () {
      return __awaiter(void 0, void 0, void 0, _regenerator.default.mark(function _callee5() {
        var currUser, res, loginRequest, dispatched, expectedDispatched;
        return _regenerator.default.wrap(function _callee5$(_context5) {
          while (1) switch (_context5.prev = _context5.next) {
            case 0:
              currUser = {
                _id: '1',
                firstname: 'test',
                lastname: 'test',
                fullname: 'test test',
                email: 'test@test.com',
                phone: '',
                password: '',
                cards: []
              };
              res = {
                data: {
                  ok: true,
                  result: {
                    user: currUser
                  }
                },
                status: 200,
                statusText: '',
                headers: {},
                config: {}
              };
              loginRequest = jest.spyOn(api, 'login').mockImplementation(function () {
                return Promise.resolve(res);
              });
              _context5.next = 5;
              return (0, recordSaga_1.default)(auth_1.login_request, action);
            case 5:
              dispatched = _context5.sent;
              expect(loginRequest).toHaveBeenCalledTimes(1);
              expectedDispatched = [{
                type: actionTypes_1.default.API_CALL_REQUEST
              }, {
                type: actionTypes_1.default.API_CALL_SUCCESS
              }, {
                type: actionTypes_1.default.LOGIN_SUCCESS,
                payload: {
                  user: currUser
                }
              }, (0, actions_1.navigateToScreen)('Overview', {})];
              expect(dispatched).toEqual(expectedDispatched);
              loginRequest.mockClear();
            case 10:
            case "end":
              return _context5.stop();
          }
        }, _callee5);
      }));
    });
    it('should login_request saga disptach failure from the server', function () {
      return __awaiter(void 0, void 0, void 0, _regenerator.default.mark(function _callee6() {
        var res, loginRequest, dispatched, expectedDispatched;
        return _regenerator.default.wrap(function _callee6$(_context6) {
          while (1) switch (_context6.prev = _context6.next) {
            case 0:
              res = {
                data: {
                  ok: false,
                  result: {
                    message: error_message,
                    user: null
                  }
                },
                status: 200,
                statusText: '',
                headers: {},
                config: {}
              };
              loginRequest = jest.spyOn(api, 'login').mockImplementation(function () {
                return Promise.resolve(res);
              });
              _context6.next = 4;
              return (0, recordSaga_1.default)(auth_1.login_request, action);
            case 4:
              dispatched = _context6.sent;
              expect(loginRequest).toHaveBeenCalledTimes(1);
              expectedDispatched = [{
                type: actionTypes_1.default.API_CALL_REQUEST
              }, {
                type: actionTypes_1.default.API_CALL_FAILURE,
                payload: {
                  message: error_message
                }
              }];
              expect(dispatched).toEqual(expectedDispatched);
              loginRequest.mockClear();
            case 9:
            case "end":
              return _context6.stop();
          }
        }, _callee6);
      }));
    });
    it('should login_request saga disptach failure', function () {
      return __awaiter(void 0, void 0, void 0, _regenerator.default.mark(function _callee7() {
        var loginRequest, dispatched, expectedDispatched;
        return _regenerator.default.wrap(function _callee7$(_context7) {
          while (1) switch (_context7.prev = _context7.next) {
            case 0:
              loginRequest = jest.spyOn(api, 'login').mockImplementation(function () {
                return Promise.reject(new Error(error_message));
              });
              _context7.next = 3;
              return (0, recordSaga_1.default)(auth_1.login_request, action);
            case 3:
              dispatched = _context7.sent;
              expect(loginRequest).toHaveBeenCalledTimes(1);
              expectedDispatched = [{
                type: actionTypes_1.default.API_CALL_REQUEST
              }, {
                type: actionTypes_1.default.API_CALL_FAILURE,
                payload: {
                  message: error_message
                }
              }];
              expect(dispatched).toEqual(expectedDispatched);
              loginRequest.mockClear();
            case 8:
            case "end":
              return _context7.stop();
          }
        }, _callee7);
      }));
    });
  });
  describe('Test save_account saga', function () {
    var currUser = {
      _id: '1',
      firstname: 'test',
      lastname: 'test',
      fullname: 'test test',
      email: 'test@test.com',
      phone: '',
      password: '',
      cards: []
    };
    var action = {
      account: currUser,
      navigation: {
        pop: jest.fn()
      }
    };
    it('should call api and dispatch success action', function () {
      return __awaiter(void 0, void 0, void 0, _regenerator.default.mark(function _callee8() {
        var res, saveAccountRequest, dispatched, expectedDispatched;
        return _regenerator.default.wrap(function _callee8$(_context8) {
          while (1) switch (_context8.prev = _context8.next) {
            case 0:
              res = {
                data: {
                  ok: true,
                  result: {
                    message: success_message,
                    user: currUser
                  }
                },
                status: 200,
                statusText: '',
                headers: {},
                config: {}
              };
              saveAccountRequest = jest.spyOn(api, 'saveAccount').mockImplementation(function () {
                return Promise.resolve(res);
              });
              _context8.next = 4;
              return (0, recordSaga_1.default)(auth_1.save_account, action);
            case 4:
              dispatched = _context8.sent;
              expect(saveAccountRequest).toHaveBeenCalledTimes(1);
              expectedDispatched = [{
                type: actionTypes_1.default.API_CALL_REQUEST
              }, {
                type: actionTypes_1.default.SUCCESS_OPERATION,
                payload: {
                  message: success_message
                }
              }, {
                type: actionTypes_1.default.CREATE_ACCOUNT_SUCCESS,
                payload: {
                  user: currUser
                }
              }, native_1.CommonActions.goBack(), native_1.CommonActions.navigate({
                name: 'Login'
              })];
              expect(dispatched).toEqual(expectedDispatched);
              saveAccountRequest.mockClear();
            case 9:
            case "end":
              return _context8.stop();
          }
        }, _callee8);
      }));
    });
    it('should login_request saga disptach failure from the server', function () {
      return __awaiter(void 0, void 0, void 0, _regenerator.default.mark(function _callee9() {
        var res, saveAccountRequest, dispatched, expectedDispatched;
        return _regenerator.default.wrap(function _callee9$(_context9) {
          while (1) switch (_context9.prev = _context9.next) {
            case 0:
              res = {
                data: {
                  ok: false,
                  result: {
                    message: error_message,
                    user: null
                  }
                },
                status: 200,
                statusText: '',
                headers: {},
                config: {}
              };
              saveAccountRequest = jest.spyOn(api, 'saveAccount').mockImplementation(function () {
                return Promise.resolve(res);
              });
              _context9.next = 4;
              return (0, recordSaga_1.default)(auth_1.save_account, action);
            case 4:
              dispatched = _context9.sent;
              expect(saveAccountRequest).toHaveBeenCalledTimes(1);
              expectedDispatched = [{
                type: actionTypes_1.default.API_CALL_REQUEST
              }, {
                type: actionTypes_1.default.API_CALL_FAILURE,
                payload: {
                  message: error_message
                }
              }];
              expect(dispatched).toEqual(expectedDispatched);
              saveAccountRequest.mockClear();
            case 9:
            case "end":
              return _context9.stop();
          }
        }, _callee9);
      }));
    });
    it('should login_request saga disptach failure', function () {
      return __awaiter(void 0, void 0, void 0, _regenerator.default.mark(function _callee10() {
        var saveAccountRequest, dispatched, expectedDispatched;
        return _regenerator.default.wrap(function _callee10$(_context10) {
          while (1) switch (_context10.prev = _context10.next) {
            case 0:
              saveAccountRequest = jest.spyOn(api, 'saveAccount').mockImplementation(function () {
                return Promise.reject(new Error(error_message));
              });
              _context10.next = 3;
              return (0, recordSaga_1.default)(auth_1.save_account, action);
            case 3:
              dispatched = _context10.sent;
              expect(saveAccountRequest).toHaveBeenCalledTimes(1);
              expectedDispatched = [{
                type: actionTypes_1.default.API_CALL_REQUEST
              }, {
                type: actionTypes_1.default.API_CALL_FAILURE,
                payload: {
                  message: error_message
                }
              }];
              expect(dispatched).toEqual(expectedDispatched);
              saveAccountRequest.mockClear();
            case 8:
            case "end":
              return _context10.stop();
          }
        }, _callee10);
      }));
    });
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJlZmZlY3RzXzEiLCJyZXF1aXJlIiwibmF0aXZlXzEiLCJyZWNvcmRTYWdhXzEiLCJfX2ltcG9ydERlZmF1bHQiLCJhdXRoXzEiLCJfX2ltcG9ydFN0YXIiLCJhY3Rpb25UeXBlc18xIiwiYXBpIiwiYWN0aW9uc18xIiwiZXJyb3JfbWVzc2FnZSIsInN1Y2Nlc3NfbWVzc2FnZSIsImRlc2NyaWJlIiwiYWZ0ZXJFYWNoIiwiamVzdCIsImNsZWFyQWxsTW9ja3MiLCJpdCIsIl9fYXdhaXRlciIsIl9yZWdlbmVyYXRvciIsImRlZmF1bHQiLCJtYXJrIiwiX2NhbGxlZSIsImdlbk9iamVjdCIsImVmZmVjdHMiLCJ3cmFwIiwiX2NhbGxlZSQiLCJfY29udGV4dCIsInByZXYiLCJuZXh0IiwidmFsdWUiLCJleHBlY3QiLCJ0b0VxdWFsIiwiYWxsIiwidGFrZUxhdGVzdCIsIlNBVkVfQUNDT1VOVF9SRVFVRVNUIiwic2F2ZV9hY2NvdW50IiwiTE9HSU5fUkVRVUVTVCIsImxvZ2luX3JlcXVlc3QiLCJDSEVDS19VU0VSX1JFUVVFU1QiLCJjaGVja191c2VyX3JlcXVlc3QiLCJzdG9wIiwiX2NhbGxlZTIiLCJjdXJyVXNlciIsInJlcyIsImNoZWNrVXNlclJlcXVlc3QiLCJkaXNwYXRjaGVkIiwiZXhwZWN0ZWREaXNwYXRjaGVkIiwiX2NhbGxlZTIkIiwiX2NvbnRleHQyIiwiX2lkIiwiZmlyc3RuYW1lIiwibGFzdG5hbWUiLCJmdWxsbmFtZSIsImVtYWlsIiwicGhvbmUiLCJwYXNzd29yZCIsImNhcmRzIiwiZGF0YSIsIm9rIiwicmVzdWx0IiwidXNlciIsInN0YXR1cyIsInN0YXR1c1RleHQiLCJoZWFkZXJzIiwiY29uZmlnIiwic3B5T24iLCJtb2NrSW1wbGVtZW50YXRpb24iLCJQcm9taXNlIiwicmVzb2x2ZSIsInNlbnQiLCJ0b0hhdmVCZWVuQ2FsbGVkVGltZXMiLCJ0eXBlIiwiQVBJX0NBTExfUkVRVUVTVCIsIkFQSV9DQUxMX1NVQ0NFU1MiLCJDSEVDS19VU0VSX1NVQ0NFU1MiLCJwYXlsb2FkIiwibW9ja0NsZWFyIiwiX2NhbGxlZTMiLCJfY2FsbGVlMyQiLCJfY29udGV4dDMiLCJtZXNzYWdlIiwiQVBJX0NBTExfRkFJTFVSRSIsIl9jYWxsZWU0IiwiX2NhbGxlZTQkIiwiX2NvbnRleHQ0IiwicmVqZWN0IiwiRXJyb3IiLCJhY3Rpb24iLCJfY2FsbGVlNSIsImxvZ2luUmVxdWVzdCIsIl9jYWxsZWU1JCIsIl9jb250ZXh0NSIsIkxPR0lOX1NVQ0NFU1MiLCJuYXZpZ2F0ZVRvU2NyZWVuIiwiX2NhbGxlZTYiLCJfY2FsbGVlNiQiLCJfY29udGV4dDYiLCJfY2FsbGVlNyIsIl9jYWxsZWU3JCIsIl9jb250ZXh0NyIsImFjY291bnQiLCJuYXZpZ2F0aW9uIiwicG9wIiwiZm4iLCJfY2FsbGVlOCIsInNhdmVBY2NvdW50UmVxdWVzdCIsIl9jYWxsZWU4JCIsIl9jb250ZXh0OCIsIlNVQ0NFU1NfT1BFUkFUSU9OIiwiQ1JFQVRFX0FDQ09VTlRfU1VDQ0VTUyIsIkNvbW1vbkFjdGlvbnMiLCJnb0JhY2siLCJuYXZpZ2F0ZSIsIm5hbWUiLCJfY2FsbGVlOSIsIl9jYWxsZWU5JCIsIl9jb250ZXh0OSIsIl9jYWxsZWUxMCIsIl9jYWxsZWUxMCQiLCJfY29udGV4dDEwIl0sInNvdXJjZXMiOlsiL1VzZXJzL0FtaW5lL0Rlc2t0b3AvcHJvamVjdHMvQm9va2luZ0hvdGVsc0FwcC9zcmMvcmVkdXgvc2FnYXMvX190ZXN0c19fL2F1dGgudGVzdC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge3Rha2VMYXRlc3QsIGFsbH0gZnJvbSAncmVkdXgtc2FnYS9lZmZlY3RzJztcbmltcG9ydCB7QXhpb3NSZXNwb25zZX0gZnJvbSAnYXhpb3MnO1xuaW1wb3J0IHtDb21tb25BY3Rpb25zfSBmcm9tICdAcmVhY3QtbmF2aWdhdGlvbi9uYXRpdmUnO1xuaW1wb3J0IHJlY29yZFNhZ2EgZnJvbSAnLi4vcmVjb3JkU2FnYSc7XG5pbXBvcnQgd2F0Y2hBdXRoUmVxdWVzdCwge1xuICBjaGVja191c2VyX3JlcXVlc3QsXG4gIGxvZ2luX3JlcXVlc3QsXG4gIHNhdmVfYWNjb3VudCxcbn0gZnJvbSAnLi4vYXV0aCc7XG5pbXBvcnQgQWN0aW9uVHlwZXMgZnJvbSAnLi4vLi4vLi4vL3V0aWxzL2FjdGlvblR5cGVzJztcbmltcG9ydCAqIGFzIGFwaSBmcm9tICcuLi8uLi8uLi9hcGkvYXV0aCc7XG5pbXBvcnQge0lVc2VyfSBmcm9tICcuLi8uLi8uLi9tb2RlbHMnO1xuaW1wb3J0IHtuYXZpZ2F0ZVRvU2NyZWVufSBmcm9tICcuLi8uLi8uLi9yZWR1eC9hY3Rpb25zJztcblxuY29uc3QgZXJyb3JfbWVzc2FnZSA9ICdFcnJvciBmcm9tIEFQSSc7XG5jb25zdCBzdWNjZXNzX21lc3NhZ2UgPSAnU1VDQ0VTU19PUEVSQVRJT04nO1xuXG5kZXNjcmliZSgnVGVzdCB3YXRjaEF1dGhSZXF1ZXN0IHNhZ2FzJywgKCkgPT4ge1xuICBhZnRlckVhY2goKCkgPT4ge1xuICAgIGplc3QuY2xlYXJBbGxNb2NrcygpO1xuICB9KTtcblxuICBpdChcInNob3VsZCBjYWxsICdhbGwnIHdpdGggdGhlIGNvcnJlY3QgZnVuY3Rpb25zXCIsIGFzeW5jICgpID0+IHtcbiAgICBjb25zdCBnZW5PYmplY3QgPSB3YXRjaEF1dGhSZXF1ZXN0KCk7XG4gICAgY29uc3QgZWZmZWN0cyA9IGdlbk9iamVjdC5uZXh0KCkudmFsdWU7XG4gICAgZXhwZWN0KGVmZmVjdHMpLnRvRXF1YWwoXG4gICAgICBhbGwoW1xuICAgICAgICB0YWtlTGF0ZXN0KEFjdGlvblR5cGVzLlNBVkVfQUNDT1VOVF9SRVFVRVNULCBzYXZlX2FjY291bnQpLFxuICAgICAgICB0YWtlTGF0ZXN0KEFjdGlvblR5cGVzLkxPR0lOX1JFUVVFU1QsIGxvZ2luX3JlcXVlc3QpLFxuICAgICAgICB0YWtlTGF0ZXN0KEFjdGlvblR5cGVzLkNIRUNLX1VTRVJfUkVRVUVTVCwgY2hlY2tfdXNlcl9yZXF1ZXN0KSxcbiAgICAgIF0pLFxuICAgICk7XG4gIH0pO1xuXG4gIC8vVGVzdCBjaGVja191c2VyX3JlcXVlc3Qgc2FnYVxuICBkZXNjcmliZSgnVGVzdCBjaGVja191c2VyX3JlcXVlc3Qgc2FnYScsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIGNhbGwgYXBpIGFuZCBkaXNwYXRjaCBzdWNjZXNzIGFjdGlvbicsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IGN1cnJVc2VyOiBJVXNlciA9IHtcbiAgICAgICAgX2lkOiAnMScsXG4gICAgICAgIGZpcnN0bmFtZTogJ3Rlc3QnLFxuICAgICAgICBsYXN0bmFtZTogJ3Rlc3QnLFxuICAgICAgICBmdWxsbmFtZTogJ3Rlc3QgdGVzdCcsXG4gICAgICAgIGVtYWlsOiAndGVzdEB0ZXN0LmNvbScsXG4gICAgICAgIHBob25lOiAnJyxcbiAgICAgICAgcGFzc3dvcmQ6ICcnLFxuICAgICAgICBjYXJkczogW10sXG4gICAgICB9O1xuICAgICAgY29uc3QgcmVzOiBBeGlvc1Jlc3BvbnNlPGFueT4gPSB7XG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICBvazogdHJ1ZSxcbiAgICAgICAgICByZXN1bHQ6IHtcbiAgICAgICAgICAgIHVzZXI6IGN1cnJVc2VyLFxuICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIHN0YXR1czogMjAwLFxuICAgICAgICBzdGF0dXNUZXh0OiAnJyxcbiAgICAgICAgaGVhZGVyczoge30sXG4gICAgICAgIGNvbmZpZzoge30sXG4gICAgICB9O1xuXG4gICAgICBjb25zdCBjaGVja1VzZXJSZXF1ZXN0ID0gamVzdFxuICAgICAgICAuc3B5T24oYXBpLCAnY2hlY2tVc2VyJylcbiAgICAgICAgLm1vY2tJbXBsZW1lbnRhdGlvbigoKSA9PiBQcm9taXNlLnJlc29sdmUocmVzKSk7XG5cbiAgICAgIGNvbnN0IGRpc3BhdGNoZWQgPSBhd2FpdCByZWNvcmRTYWdhKGNoZWNrX3VzZXJfcmVxdWVzdCwgbnVsbCk7XG4gICAgICBleHBlY3QoY2hlY2tVc2VyUmVxdWVzdCkudG9IYXZlQmVlbkNhbGxlZFRpbWVzKDEpO1xuICAgICAgY29uc3QgZXhwZWN0ZWREaXNwYXRjaGVkID0gW1xuICAgICAgICB7XG4gICAgICAgICAgdHlwZTogQWN0aW9uVHlwZXMuQVBJX0NBTExfUkVRVUVTVCxcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIHR5cGU6IEFjdGlvblR5cGVzLkFQSV9DQUxMX1NVQ0NFU1MsXG4gICAgICAgIH0sXG4gICAgICAgIHt0eXBlOiBBY3Rpb25UeXBlcy5DSEVDS19VU0VSX1NVQ0NFU1MsIHBheWxvYWQ6IHt1c2VyOiBjdXJyVXNlcn19LFxuICAgICAgXTtcbiAgICAgIGV4cGVjdChkaXNwYXRjaGVkKS50b0VxdWFsKGV4cGVjdGVkRGlzcGF0Y2hlZCk7XG4gICAgICBjaGVja1VzZXJSZXF1ZXN0Lm1vY2tDbGVhcigpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBjaGVja191c2VyX3JlcXVlc3Qgc2FnYSBkaXNwdGFjaCBmYWlsdXJlIGZyb20gdGhlIHNlcnZlcicsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHJlczogQXhpb3NSZXNwb25zZTxhbnk+ID0ge1xuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgb2s6IGZhbHNlLFxuICAgICAgICAgIHJlc3VsdDoge1xuICAgICAgICAgICAgbWVzc2FnZTogZXJyb3JfbWVzc2FnZSxcbiAgICAgICAgICAgIHVzZXI6IG51bGwsXG4gICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgc3RhdHVzOiAyMDAsXG4gICAgICAgIHN0YXR1c1RleHQ6ICcnLFxuICAgICAgICBoZWFkZXJzOiB7fSxcbiAgICAgICAgY29uZmlnOiB7fSxcbiAgICAgIH07XG4gICAgICBjb25zdCBjaGVja1VzZXJSZXF1ZXN0ID0gamVzdFxuICAgICAgICAuc3B5T24oYXBpLCAnY2hlY2tVc2VyJylcbiAgICAgICAgLm1vY2tJbXBsZW1lbnRhdGlvbigoKSA9PiBQcm9taXNlLnJlc29sdmUocmVzKSk7XG5cbiAgICAgIGNvbnN0IGRpc3BhdGNoZWQgPSBhd2FpdCByZWNvcmRTYWdhKGNoZWNrX3VzZXJfcmVxdWVzdCwgbnVsbCk7XG4gICAgICBleHBlY3QoY2hlY2tVc2VyUmVxdWVzdCkudG9IYXZlQmVlbkNhbGxlZFRpbWVzKDEpO1xuXG4gICAgICBjb25zdCBleHBlY3RlZERpc3BhdGNoZWQgPSBbXG4gICAgICAgIHtcbiAgICAgICAgICB0eXBlOiBBY3Rpb25UeXBlcy5BUElfQ0FMTF9SRVFVRVNULFxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgdHlwZTogQWN0aW9uVHlwZXMuQVBJX0NBTExfRkFJTFVSRSxcbiAgICAgICAgICBwYXlsb2FkOiB7bWVzc2FnZTogZXJyb3JfbWVzc2FnZX0sXG4gICAgICAgIH0sXG4gICAgICBdO1xuICAgICAgZXhwZWN0KGRpc3BhdGNoZWQpLnRvRXF1YWwoZXhwZWN0ZWREaXNwYXRjaGVkKTtcbiAgICAgIGNoZWNrVXNlclJlcXVlc3QubW9ja0NsZWFyKCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGNoZWNrX3VzZXJfcmVxdWVzdCBzYWdhIGRpc3B0YWNoIGZhaWx1cmUnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBjaGVja1VzZXJSZXF1ZXN0ID0gamVzdFxuICAgICAgICAuc3B5T24oYXBpLCAnY2hlY2tVc2VyJylcbiAgICAgICAgLm1vY2tJbXBsZW1lbnRhdGlvbigoKSA9PiBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoZXJyb3JfbWVzc2FnZSkpKTtcblxuICAgICAgY29uc3QgZGlzcGF0Y2hlZCA9IGF3YWl0IHJlY29yZFNhZ2EoY2hlY2tfdXNlcl9yZXF1ZXN0LCBudWxsKTtcbiAgICAgIGV4cGVjdChjaGVja1VzZXJSZXF1ZXN0KS50b0hhdmVCZWVuQ2FsbGVkVGltZXMoMSk7XG5cbiAgICAgIGNvbnN0IGV4cGVjdGVkRGlzcGF0Y2hlZCA9IFtcbiAgICAgICAge1xuICAgICAgICAgIHR5cGU6IEFjdGlvblR5cGVzLkFQSV9DQUxMX1JFUVVFU1QsXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICB0eXBlOiBBY3Rpb25UeXBlcy5BUElfQ0FMTF9GQUlMVVJFLFxuICAgICAgICAgIHBheWxvYWQ6IHttZXNzYWdlOiBlcnJvcl9tZXNzYWdlfSxcbiAgICAgICAgfSxcbiAgICAgIF07XG4gICAgICBleHBlY3QoZGlzcGF0Y2hlZCkudG9FcXVhbChleHBlY3RlZERpc3BhdGNoZWQpO1xuICAgICAgY2hlY2tVc2VyUmVxdWVzdC5tb2NrQ2xlYXIoKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgLy9UZXN0IGxvZ2luX3JlcXVlc3Qgc2FnYVxuICBkZXNjcmliZSgnVGVzdCBsb2dpbl9yZXF1ZXN0IHNhZ2EnLCAoKSA9PiB7XG4gICAgY29uc3QgYWN0aW9uID0ge1xuICAgICAgZW1haWw6ICd0ZXN0QHRlc3QuY29tJyxcbiAgICAgIHBhc3N3b3JkOiAnQXplcnR5MTIzQEAnLFxuICAgIH07XG4gICAgaXQoJ3Nob3VsZCBjYWxsIGFwaSBhbmQgZGlzcGF0Y2ggc3VjY2VzcyBhY3Rpb24nLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBjdXJyVXNlcjogSVVzZXIgPSB7XG4gICAgICAgIF9pZDogJzEnLFxuICAgICAgICBmaXJzdG5hbWU6ICd0ZXN0JyxcbiAgICAgICAgbGFzdG5hbWU6ICd0ZXN0JyxcbiAgICAgICAgZnVsbG5hbWU6ICd0ZXN0IHRlc3QnLFxuICAgICAgICBlbWFpbDogJ3Rlc3RAdGVzdC5jb20nLFxuICAgICAgICBwaG9uZTogJycsXG4gICAgICAgIHBhc3N3b3JkOiAnJyxcbiAgICAgICAgY2FyZHM6IFtdLFxuICAgICAgfTtcbiAgICAgIGNvbnN0IHJlczogQXhpb3NSZXNwb25zZTxhbnk+ID0ge1xuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgb2s6IHRydWUsXG4gICAgICAgICAgcmVzdWx0OiB7XG4gICAgICAgICAgICB1c2VyOiBjdXJyVXNlcixcbiAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICBzdGF0dXM6IDIwMCxcbiAgICAgICAgc3RhdHVzVGV4dDogJycsXG4gICAgICAgIGhlYWRlcnM6IHt9LFxuICAgICAgICBjb25maWc6IHt9LFxuICAgICAgfTtcbiAgICAgIGNvbnN0IGxvZ2luUmVxdWVzdCA9IGplc3RcbiAgICAgICAgLnNweU9uKGFwaSwgJ2xvZ2luJylcbiAgICAgICAgLm1vY2tJbXBsZW1lbnRhdGlvbigoKSA9PiBQcm9taXNlLnJlc29sdmUocmVzKSk7XG5cbiAgICAgIGNvbnN0IGRpc3BhdGNoZWQgPSBhd2FpdCByZWNvcmRTYWdhKGxvZ2luX3JlcXVlc3QsIGFjdGlvbik7XG4gICAgICBleHBlY3QobG9naW5SZXF1ZXN0KS50b0hhdmVCZWVuQ2FsbGVkVGltZXMoMSk7XG5cbiAgICAgIGNvbnN0IGV4cGVjdGVkRGlzcGF0Y2hlZCA9IFtcbiAgICAgICAge1xuICAgICAgICAgIHR5cGU6IEFjdGlvblR5cGVzLkFQSV9DQUxMX1JFUVVFU1QsXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICB0eXBlOiBBY3Rpb25UeXBlcy5BUElfQ0FMTF9TVUNDRVNTLFxuICAgICAgICB9LFxuICAgICAgICB7dHlwZTogQWN0aW9uVHlwZXMuTE9HSU5fU1VDQ0VTUywgcGF5bG9hZDoge3VzZXI6IGN1cnJVc2VyfX0sXG4gICAgICAgIG5hdmlnYXRlVG9TY3JlZW4oJ092ZXJ2aWV3Jywge30pLFxuICAgICAgXTtcbiAgICAgIGV4cGVjdChkaXNwYXRjaGVkKS50b0VxdWFsKGV4cGVjdGVkRGlzcGF0Y2hlZCk7XG4gICAgICBsb2dpblJlcXVlc3QubW9ja0NsZWFyKCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGxvZ2luX3JlcXVlc3Qgc2FnYSBkaXNwdGFjaCBmYWlsdXJlIGZyb20gdGhlIHNlcnZlcicsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHJlczogQXhpb3NSZXNwb25zZTxhbnk+ID0ge1xuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgb2s6IGZhbHNlLFxuICAgICAgICAgIHJlc3VsdDoge1xuICAgICAgICAgICAgbWVzc2FnZTogZXJyb3JfbWVzc2FnZSxcbiAgICAgICAgICAgIHVzZXI6IG51bGwsXG4gICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgc3RhdHVzOiAyMDAsXG4gICAgICAgIHN0YXR1c1RleHQ6ICcnLFxuICAgICAgICBoZWFkZXJzOiB7fSxcbiAgICAgICAgY29uZmlnOiB7fSxcbiAgICAgIH07XG4gICAgICBjb25zdCBsb2dpblJlcXVlc3QgPSBqZXN0XG4gICAgICAgIC5zcHlPbihhcGksICdsb2dpbicpXG4gICAgICAgIC5tb2NrSW1wbGVtZW50YXRpb24oKCkgPT4gUHJvbWlzZS5yZXNvbHZlKHJlcykpO1xuXG4gICAgICBjb25zdCBkaXNwYXRjaGVkID0gYXdhaXQgcmVjb3JkU2FnYShsb2dpbl9yZXF1ZXN0LCBhY3Rpb24pO1xuICAgICAgZXhwZWN0KGxvZ2luUmVxdWVzdCkudG9IYXZlQmVlbkNhbGxlZFRpbWVzKDEpO1xuXG4gICAgICBjb25zdCBleHBlY3RlZERpc3BhdGNoZWQgPSBbXG4gICAgICAgIHtcbiAgICAgICAgICB0eXBlOiBBY3Rpb25UeXBlcy5BUElfQ0FMTF9SRVFVRVNULFxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgdHlwZTogQWN0aW9uVHlwZXMuQVBJX0NBTExfRkFJTFVSRSxcbiAgICAgICAgICBwYXlsb2FkOiB7bWVzc2FnZTogZXJyb3JfbWVzc2FnZX0sXG4gICAgICAgIH0sXG4gICAgICBdO1xuICAgICAgZXhwZWN0KGRpc3BhdGNoZWQpLnRvRXF1YWwoZXhwZWN0ZWREaXNwYXRjaGVkKTtcbiAgICAgIGxvZ2luUmVxdWVzdC5tb2NrQ2xlYXIoKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgbG9naW5fcmVxdWVzdCBzYWdhIGRpc3B0YWNoIGZhaWx1cmUnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBsb2dpblJlcXVlc3QgPSBqZXN0XG4gICAgICAgIC5zcHlPbihhcGksICdsb2dpbicpXG4gICAgICAgIC5tb2NrSW1wbGVtZW50YXRpb24oKCkgPT4gUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKGVycm9yX21lc3NhZ2UpKSk7XG5cbiAgICAgIGNvbnN0IGRpc3BhdGNoZWQgPSBhd2FpdCByZWNvcmRTYWdhKGxvZ2luX3JlcXVlc3QsIGFjdGlvbik7XG4gICAgICBleHBlY3QobG9naW5SZXF1ZXN0KS50b0hhdmVCZWVuQ2FsbGVkVGltZXMoMSk7XG5cbiAgICAgIGNvbnN0IGV4cGVjdGVkRGlzcGF0Y2hlZCA9IFtcbiAgICAgICAge1xuICAgICAgICAgIHR5cGU6IEFjdGlvblR5cGVzLkFQSV9DQUxMX1JFUVVFU1QsXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICB0eXBlOiBBY3Rpb25UeXBlcy5BUElfQ0FMTF9GQUlMVVJFLFxuICAgICAgICAgIHBheWxvYWQ6IHttZXNzYWdlOiBlcnJvcl9tZXNzYWdlfSxcbiAgICAgICAgfSxcbiAgICAgIF07XG4gICAgICBleHBlY3QoZGlzcGF0Y2hlZCkudG9FcXVhbChleHBlY3RlZERpc3BhdGNoZWQpO1xuICAgICAgbG9naW5SZXF1ZXN0Lm1vY2tDbGVhcigpO1xuICAgIH0pO1xuICB9KTtcblxuICAvL1Rlc3Qgc2F2ZV9hY2NvdW50IHNhZ2FcbiAgZGVzY3JpYmUoJ1Rlc3Qgc2F2ZV9hY2NvdW50IHNhZ2EnLCAoKSA9PiB7XG4gICAgY29uc3QgY3VyclVzZXI6IElVc2VyID0ge1xuICAgICAgX2lkOiAnMScsXG4gICAgICBmaXJzdG5hbWU6ICd0ZXN0JyxcbiAgICAgIGxhc3RuYW1lOiAndGVzdCcsXG4gICAgICBmdWxsbmFtZTogJ3Rlc3QgdGVzdCcsXG4gICAgICBlbWFpbDogJ3Rlc3RAdGVzdC5jb20nLFxuICAgICAgcGhvbmU6ICcnLFxuICAgICAgcGFzc3dvcmQ6ICcnLFxuICAgICAgY2FyZHM6IFtdLFxuICAgIH07XG4gICAgY29uc3QgYWN0aW9uID0ge1xuICAgICAgYWNjb3VudDogY3VyclVzZXIsXG4gICAgICBuYXZpZ2F0aW9uOiB7XG4gICAgICAgIHBvcDogamVzdC5mbigpLFxuICAgICAgfSxcbiAgICB9O1xuICAgIGl0KCdzaG91bGQgY2FsbCBhcGkgYW5kIGRpc3BhdGNoIHN1Y2Nlc3MgYWN0aW9uJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgcmVzOiBBeGlvc1Jlc3BvbnNlPGFueT4gPSB7XG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICBvazogdHJ1ZSxcbiAgICAgICAgICByZXN1bHQ6IHtcbiAgICAgICAgICAgIG1lc3NhZ2U6IHN1Y2Nlc3NfbWVzc2FnZSxcbiAgICAgICAgICAgIHVzZXI6IGN1cnJVc2VyLFxuICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIHN0YXR1czogMjAwLFxuICAgICAgICBzdGF0dXNUZXh0OiAnJyxcbiAgICAgICAgaGVhZGVyczoge30sXG4gICAgICAgIGNvbmZpZzoge30sXG4gICAgICB9O1xuICAgICAgY29uc3Qgc2F2ZUFjY291bnRSZXF1ZXN0ID0gamVzdFxuICAgICAgICAuc3B5T24oYXBpLCAnc2F2ZUFjY291bnQnKVxuICAgICAgICAubW9ja0ltcGxlbWVudGF0aW9uKCgpID0+IFByb21pc2UucmVzb2x2ZShyZXMpKTtcblxuICAgICAgY29uc3QgZGlzcGF0Y2hlZCA9IGF3YWl0IHJlY29yZFNhZ2Eoc2F2ZV9hY2NvdW50LCBhY3Rpb24pO1xuICAgICAgZXhwZWN0KHNhdmVBY2NvdW50UmVxdWVzdCkudG9IYXZlQmVlbkNhbGxlZFRpbWVzKDEpO1xuXG4gICAgICBjb25zdCBleHBlY3RlZERpc3BhdGNoZWQgPSBbXG4gICAgICAgIHtcbiAgICAgICAgICB0eXBlOiBBY3Rpb25UeXBlcy5BUElfQ0FMTF9SRVFVRVNULFxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgdHlwZTogQWN0aW9uVHlwZXMuU1VDQ0VTU19PUEVSQVRJT04sXG4gICAgICAgICAgcGF5bG9hZDoge21lc3NhZ2U6IHN1Y2Nlc3NfbWVzc2FnZX0sXG4gICAgICAgIH0sXG4gICAgICAgIHt0eXBlOiBBY3Rpb25UeXBlcy5DUkVBVEVfQUNDT1VOVF9TVUNDRVNTLCBwYXlsb2FkOiB7dXNlcjogY3VyclVzZXJ9fSxcbiAgICAgICAgQ29tbW9uQWN0aW9ucy5nb0JhY2soKSxcbiAgICAgICAgQ29tbW9uQWN0aW9ucy5uYXZpZ2F0ZSh7bmFtZTogJ0xvZ2luJ30pLFxuICAgICAgXTtcbiAgICAgIGV4cGVjdChkaXNwYXRjaGVkKS50b0VxdWFsKGV4cGVjdGVkRGlzcGF0Y2hlZCk7XG4gICAgICBzYXZlQWNjb3VudFJlcXVlc3QubW9ja0NsZWFyKCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGxvZ2luX3JlcXVlc3Qgc2FnYSBkaXNwdGFjaCBmYWlsdXJlIGZyb20gdGhlIHNlcnZlcicsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHJlczogQXhpb3NSZXNwb25zZTxhbnk+ID0ge1xuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgb2s6IGZhbHNlLFxuICAgICAgICAgIHJlc3VsdDoge1xuICAgICAgICAgICAgbWVzc2FnZTogZXJyb3JfbWVzc2FnZSxcbiAgICAgICAgICAgIHVzZXI6IG51bGwsXG4gICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgc3RhdHVzOiAyMDAsXG4gICAgICAgIHN0YXR1c1RleHQ6ICcnLFxuICAgICAgICBoZWFkZXJzOiB7fSxcbiAgICAgICAgY29uZmlnOiB7fSxcbiAgICAgIH07XG4gICAgICBjb25zdCBzYXZlQWNjb3VudFJlcXVlc3QgPSBqZXN0XG4gICAgICAgIC5zcHlPbihhcGksICdzYXZlQWNjb3VudCcpXG4gICAgICAgIC5tb2NrSW1wbGVtZW50YXRpb24oKCkgPT4gUHJvbWlzZS5yZXNvbHZlKHJlcykpO1xuXG4gICAgICBjb25zdCBkaXNwYXRjaGVkID0gYXdhaXQgcmVjb3JkU2FnYShzYXZlX2FjY291bnQsIGFjdGlvbik7XG4gICAgICBleHBlY3Qoc2F2ZUFjY291bnRSZXF1ZXN0KS50b0hhdmVCZWVuQ2FsbGVkVGltZXMoMSk7XG5cbiAgICAgIGNvbnN0IGV4cGVjdGVkRGlzcGF0Y2hlZCA9IFtcbiAgICAgICAge1xuICAgICAgICAgIHR5cGU6IEFjdGlvblR5cGVzLkFQSV9DQUxMX1JFUVVFU1QsXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICB0eXBlOiBBY3Rpb25UeXBlcy5BUElfQ0FMTF9GQUlMVVJFLFxuICAgICAgICAgIHBheWxvYWQ6IHttZXNzYWdlOiBlcnJvcl9tZXNzYWdlfSxcbiAgICAgICAgfSxcbiAgICAgIF07XG4gICAgICBleHBlY3QoZGlzcGF0Y2hlZCkudG9FcXVhbChleHBlY3RlZERpc3BhdGNoZWQpO1xuICAgICAgc2F2ZUFjY291bnRSZXF1ZXN0Lm1vY2tDbGVhcigpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBsb2dpbl9yZXF1ZXN0IHNhZ2EgZGlzcHRhY2ggZmFpbHVyZScsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHNhdmVBY2NvdW50UmVxdWVzdCA9IGplc3RcbiAgICAgICAgLnNweU9uKGFwaSwgJ3NhdmVBY2NvdW50JylcbiAgICAgICAgLm1vY2tJbXBsZW1lbnRhdGlvbigoKSA9PiBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoZXJyb3JfbWVzc2FnZSkpKTtcblxuICAgICAgY29uc3QgZGlzcGF0Y2hlZCA9IGF3YWl0IHJlY29yZFNhZ2Eoc2F2ZV9hY2NvdW50LCBhY3Rpb24pO1xuICAgICAgZXhwZWN0KHNhdmVBY2NvdW50UmVxdWVzdCkudG9IYXZlQmVlbkNhbGxlZFRpbWVzKDEpO1xuXG4gICAgICBjb25zdCBleHBlY3RlZERpc3BhdGNoZWQgPSBbXG4gICAgICAgIHtcbiAgICAgICAgICB0eXBlOiBBY3Rpb25UeXBlcy5BUElfQ0FMTF9SRVFVRVNULFxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgdHlwZTogQWN0aW9uVHlwZXMuQVBJX0NBTExfRkFJTFVSRSxcbiAgICAgICAgICBwYXlsb2FkOiB7bWVzc2FnZTogZXJyb3JfbWVzc2FnZX0sXG4gICAgICAgIH0sXG4gICAgICBdO1xuICAgICAgZXhwZWN0KGRpc3BhdGNoZWQpLnRvRXF1YWwoZXhwZWN0ZWREaXNwYXRjaGVkKTtcbiAgICAgIHNhdmVBY2NvdW50UmVxdWVzdC5tb2NrQ2xlYXIoKTtcbiAgICB9KTtcbiAgfSk7XG59KTtcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLElBQUFBLFNBQUEsR0FBQUMsT0FBQTtBQUVBLElBQUFDLFFBQUEsR0FBQUQsT0FBQTtBQUNBLElBQUFFLFlBQUEsR0FBQUMsZUFBQSxDQUFBSCxPQUFBO0FBQ0EsSUFBQUksTUFBQSxHQUFBQyxZQUFBLENBQUFMLE9BQUE7QUFLQSxJQUFBTSxhQUFBLEdBQUFILGVBQUEsQ0FBQUgsT0FBQTtBQUNBLElBQUFPLEdBQUEsR0FBQUYsWUFBQSxDQUFBTCxPQUFBO0FBRUEsSUFBQVEsU0FBQSxHQUFBUixPQUFBO0FBRUEsSUFBTVMsYUFBYSxHQUFHLGdCQUFnQjtBQUN0QyxJQUFNQyxlQUFlLEdBQUcsbUJBQW1CO0FBRTNDQyxRQUFRLENBQUMsNkJBQTZCLEVBQUUsWUFBSztFQUMzQ0MsU0FBUyxDQUFDLFlBQUs7SUFDYkMsSUFBSSxDQUFDQyxhQUFhLEVBQUU7RUFDdEIsQ0FBQyxDQUFDO0VBRUZDLEVBQUUsQ0FBQyw4Q0FBOEMsRUFBRTtJQUFBLE9BQVdDLFNBQUEseUJBQUFDLFlBQUEsQ0FBQUMsT0FBQSxDQUFBQyxJQUFBLFVBQUFDLFFBQUE7TUFBQSxJQUFBQyxTQUFBLEVBQUFDLE9BQUE7TUFBQSxPQUFBTCxZQUFBLENBQUFDLE9BQUEsQ0FBQUssSUFBQSxVQUFBQyxTQUFBQyxRQUFBO1FBQUEsa0JBQUFBLFFBQUEsQ0FBQUMsSUFBQSxHQUFBRCxRQUFBLENBQUFFLElBQUE7VUFBQTtZQUN0RE4sU0FBUyxHQUFHLElBQUFqQixNQUFB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