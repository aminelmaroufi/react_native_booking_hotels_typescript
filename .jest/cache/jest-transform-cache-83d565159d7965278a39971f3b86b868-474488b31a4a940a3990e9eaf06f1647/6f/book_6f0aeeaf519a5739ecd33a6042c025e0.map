{"version":3,"names":["actionTypes_1","__importDefault","require","card_1","emptyHotel","_id","name","short_address","address","rating","location","type","main_picture","second_picture","rooms","emptyRoom","title","advantage","price","room_picture","initialState","book","hotel","room","check_in_date","check_out_date","night_numbers","card","emptySecureCard","bookings","reducer","state","arguments","length","undefined","action","default","SELECT_HOTEL","_extends2","payload","CHECK_USER_SUCCESS","user","cards","UPDATE_RESERVATION","ADD_CARD_SUCCESS","SET_DEFAULT_CARD","CREATE_BOOKING_SUCCESS","unshift","SET_BOOKINGS","exports"],"sources":["/Users/Amine/Desktop/projects/BookingHotelsApp/src/redux/reducers/book.ts"],"sourcesContent":["import ActionTypes from '../../utils/actionTypes';\nimport {IHotel, IRoom} from '../../models';\nimport {emptySecureCard} from '../../models/card';\nimport {BookState, bookActions} from '../../types';\n\nconst emptyHotel: IHotel = {\n  _id: '',\n  name: '',\n  short_address: '',\n  address: '',\n  rating: 0,\n  location: '',\n  type: '',\n  main_picture: '',\n  second_picture: '',\n  rooms: [],\n};\n\nconst emptyRoom: IRoom = {\n  _id: '',\n  title: '',\n  advantage: '',\n  price: 0,\n  room_picture: '',\n};\n\nconst initialState: BookState = {\n  book: {\n    _id: '',\n    hotel: emptyHotel,\n    room: emptyRoom,\n    check_in_date: null,\n    check_out_date: null,\n    night_numbers: 0,\n    price: 0,\n    card: emptySecureCard,\n  },\n  bookings: [],\n};\n\nexport default function reducer(state = initialState, action: bookActions) {\n  switch (action.type) {\n    case ActionTypes.SELECT_HOTEL:\n      return {\n        ...state,\n        book: {...state.book, hotel: action.payload.hotel},\n      };\n    case ActionTypes.CHECK_USER_SUCCESS:\n      return {\n        ...state,\n        book: {...state.book, card: action.payload.user.cards[0]},\n      };\n    case ActionTypes.UPDATE_RESERVATION:\n      return {\n        ...state,\n        book: action.payload.book,\n      };\n    case ActionTypes.ADD_CARD_SUCCESS:\n      return {\n        ...state,\n        book: {...state.book, card: action.payload.card},\n      };\n    case ActionTypes.SET_DEFAULT_CARD:\n      return {\n        ...state,\n        book: {...state.book, card: action.payload.card},\n      };\n    case ActionTypes.CREATE_BOOKING_SUCCESS:\n      let bookings = state.bookings;\n      bookings.unshift(action.payload.book);\n      return {\n        ...state,\n        book: initialState.book,\n        bookings: bookings,\n      };\n    case ActionTypes.SET_BOOKINGS:\n      return {\n        ...state,\n        bookings: action.payload.bookings,\n      };\n    default:\n      return state;\n  }\n}\n"],"mappings":"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"}