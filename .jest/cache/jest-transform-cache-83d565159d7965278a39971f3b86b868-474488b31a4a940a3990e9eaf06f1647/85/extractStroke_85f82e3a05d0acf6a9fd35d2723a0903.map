{"version":3,"names":["_extractBrush","_interopRequireDefault","require","_extractOpacity","_extractLengthList","caps","butt","square","round","joins","miter","bevel","vectorEffects","none","default","nonScalingStroke","inherit","uri","extractStroke","o","props","inherited","stroke","strokeOpacity","strokeLinecap","strokeLinejoin","strokeDasharray","strokeWidth","strokeDashoffset","strokeMiterlimit","vectorEffect","push","strokeDash","length","concat","parseFloat"],"sources":["extractStroke.ts"],"sourcesContent":["import extractBrush from './extractBrush';\nimport extractOpacity from './extractOpacity';\nimport extractLengthList from './extractLengthList';\nimport { extractedProps, StrokeProps } from './types';\n\nconst caps = {\n  butt: 0,\n  square: 2,\n  round: 1,\n};\n\nconst joins = {\n  miter: 0,\n  bevel: 2,\n  round: 1,\n};\n\nconst vectorEffects = {\n  none: 0,\n  default: 0,\n  nonScalingStroke: 1,\n  'non-scaling-stroke': 1,\n  inherit: 2,\n  uri: 3,\n};\n\nexport default function extractStroke(\n  o: extractedProps,\n  props: StrokeProps,\n  inherited: string[],\n) {\n  const {\n    stroke,\n    strokeOpacity,\n    strokeLinecap,\n    strokeLinejoin,\n    strokeDasharray,\n    strokeWidth,\n    strokeDashoffset,\n    strokeMiterlimit,\n    vectorEffect,\n  } = props;\n\n  if (stroke != null) {\n    inherited.push('stroke');\n    o.stroke = extractBrush(stroke);\n  }\n  if (strokeWidth != null) {\n    inherited.push('strokeWidth');\n    o.strokeWidth = strokeWidth;\n  }\n  if (strokeOpacity != null) {\n    inherited.push('strokeOpacity');\n    o.strokeOpacity = extractOpacity(strokeOpacity);\n  }\n  if (strokeDasharray != null) {\n    inherited.push('strokeDasharray');\n    const strokeDash =\n      !strokeDasharray || strokeDasharray === 'none'\n        ? null\n        : extractLengthList(strokeDasharray);\n    o.strokeDasharray =\n      strokeDash && strokeDash.length % 2 === 1\n        ? strokeDash.concat(strokeDash)\n        : strokeDash;\n  }\n  if (strokeDashoffset != null) {\n    inherited.push('strokeDashoffset');\n    o.strokeDashoffset =\n      strokeDasharray && strokeDashoffset ? +strokeDashoffset || 0 : null;\n  }\n  if (strokeLinecap != null) {\n    inherited.push('strokeLinecap');\n    o.strokeLinecap = (strokeLinecap && caps[strokeLinecap]) || 0;\n  }\n  if (strokeLinejoin != null) {\n    inherited.push('strokeLinejoin');\n    o.strokeLinejoin = (strokeLinejoin && joins[strokeLinejoin]) || 0;\n  }\n  if (strokeMiterlimit != null) {\n    inherited.push('strokeMiterlimit');\n    o.strokeMiterlimit =\n      (strokeMiterlimit && typeof strokeMiterlimit !== 'number'\n        ? parseFloat(strokeMiterlimit)\n        : strokeMiterlimit) || 4;\n  }\n  if (vectorEffect != null) {\n    o.vectorEffect = (vectorEffect && vectorEffects[vectorEffect]) || 0;\n  }\n}\n"],"mappings":"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"}