{"version":3,"names":["actionTypes_1","__importDefault","require","auth_1","user_1","defaultState","fetching","isLoggedIn","message","error","user","emptyUser","success","noAction","type","payload","error_message","success_message","describe","it","expect","default","undefined","toEqual","expectedState","_extends2","fecthPayload","API_CALL_REQUEST","fecthSuccessPayload","API_CALL_SUCCESS","fecthFailurePayload","API_CALL_FAILURE","fecthSuccessOperationPayload","SUCCESS_OPERATION","checkUserSuccessPayload","CHECK_USER_SUCCESS","loginSuccessPayload","LOGIN_SUCCESS"],"sources":["/Users/Amine/Desktop/projects/BookingHotelsApp/src/redux/reducers/__tests__/auth.test.ts"],"sourcesContent":["import ActionTypes from '../../../utils/actionTypes';\nimport {authActions, AuthState} from '../../../types';\nimport auth from '../auth';\nimport {emptyUser} from '../../../models/user';\n\nconst defaultState: AuthState = {\n  fetching: false,\n  isLoggedIn: false,\n  message: '',\n  error: false,\n  user: emptyUser,\n  success: false,\n};\nconst noAction: authActions = {\n  type: '',\n  payload: null,\n};\nconst error_message = 'Error from API';\nconst success_message = 'Succes message from API';\n\ndescribe('Test auth reducer', () => {\n  it('should return the initial state when state is undefined', () => {\n    expect(auth(undefined, noAction)).toEqual(defaultState);\n  });\n\n  it(\"should handle the 'API_CALL_REQUEST' action\", () => {\n    const expectedState = {...defaultState, fetching: true};\n    const fecthPayload: authActions = {\n      type: ActionTypes.API_CALL_REQUEST,\n      payload: {...defaultState, fetching: true},\n    };\n\n    expect(auth(undefined, fecthPayload)).toEqual(expectedState);\n  });\n\n  it(\"should handle the 'API_CALL_SUCCESS' action\", () => {\n    const expectedState = {...defaultState, success: true};\n    const fecthSuccessPayload: authActions = {\n      type: ActionTypes.API_CALL_SUCCESS,\n      payload: {fetching: false, success: true},\n    };\n\n    expect(auth(undefined, fecthSuccessPayload)).toEqual(expectedState);\n  });\n\n  it(\"should handle the 'API_CALL_FAILURE' action\", () => {\n    const expectedState = {\n      ...defaultState,\n      error: true,\n      message: error_message,\n    };\n    const fecthFailurePayload: authActions = {\n      type: ActionTypes.API_CALL_FAILURE,\n      payload: {fetching: false, error: true, message: error_message},\n    };\n\n    expect(auth(undefined, fecthFailurePayload)).toEqual(expectedState);\n  });\n\n  it(\"should handle the 'SUCCESS_OPERATION' action\", () => {\n    const expectedState = {\n      ...defaultState,\n      success: true,\n      message: success_message,\n    };\n    const fecthSuccessOperationPayload: authActions = {\n      type: ActionTypes.SUCCESS_OPERATION,\n      payload: {fetching: false, success: true, message: success_message},\n    };\n\n    expect(auth(undefined, fecthSuccessOperationPayload)).toEqual(\n      expectedState,\n    );\n  });\n\n  it(\"should handle the 'CHECK_USER_SUCCESS' action for logged user\", () => {\n    const expectedState = {\n      ...defaultState,\n      isLoggedIn: true,\n      user: emptyUser,\n    };\n    const checkUserSuccessPayload: authActions = {\n      type: ActionTypes.CHECK_USER_SUCCESS,\n      payload: {isLoggedIn: true, user: emptyUser},\n    };\n\n    expect(auth(undefined, checkUserSuccessPayload)).toEqual(expectedState);\n  });\n\n  it(\"should handle the 'CHECK_USER_SUCCESS' action for guest user\", () => {\n    const expectedState = {\n      ...defaultState,\n      isLoggedIn: false,\n      user: emptyUser,\n    };\n    const checkUserSuccessPayload: authActions = {\n      type: ActionTypes.CHECK_USER_SUCCESS,\n      payload: {isLoggedIn: false, user: null},\n    };\n\n    expect(auth(undefined, checkUserSuccessPayload)).toEqual(expectedState);\n  });\n\n  it(\"should handle the 'LOGIN_SUCCESS' action\", () => {\n    const expectedState = {\n      ...defaultState,\n      isLoggedIn: true,\n      user: emptyUser,\n    };\n    const loginSuccessPayload: authActions = {\n      type: ActionTypes.LOGIN_SUCCESS,\n      payload: {isLoggedIn: true, user: emptyUser},\n    };\n\n    expect(auth(undefined, loginSuccessPayload)).toEqual(expectedState);\n  });\n});\n"],"mappings":"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"}