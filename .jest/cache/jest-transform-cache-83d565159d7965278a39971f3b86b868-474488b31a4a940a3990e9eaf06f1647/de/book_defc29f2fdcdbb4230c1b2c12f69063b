af465842f274e573281c2da44940f849
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = reducer;
var _extends2 = _interopRequireDefault(require("@babel/runtime/helpers/extends"));
var _actionTypes = _interopRequireDefault(require("../../utils/actionTypes"));
var _card = require("../../models/card");
var emptyHotel = {
  _id: '',
  name: '',
  short_address: '',
  address: '',
  rating: 0,
  location: '',
  type: '',
  main_picture: '',
  second_picture: '',
  rooms: []
};
var emptyRoom = {
  _id: '',
  title: '',
  advantage: '',
  price: 0,
  room_picture: ''
};
var initialState = {
  book: {
    _id: '',
    hotel: emptyHotel,
    room: emptyRoom,
    check_in_date: null,
    check_out_date: null,
    night_numbers: 0,
    price: 0,
    card: _card.emptySecureCard
  },
  bookings: []
};
function reducer() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;
  var action = arguments.length > 1 ? arguments[1] : undefined;
  switch (action.type) {
    case _actionTypes.default.SELECT_HOTEL:
      return (0, _extends2.default)({}, state, {
        book: (0, _extends2.default)({}, state.book, {
          hotel: action.payload.hotel
        })
      });
    case _actionTypes.default.CHECK_USER_SUCCESS:
      return (0, _extends2.default)({}, state, {
        book: (0, _extends2.default)({}, state.book, {
          card: action.payload.user.cards[0]
        })
      });
    case _actionTypes.default.UPDATE_RESERVATION:
      return (0, _extends2.default)({}, state, {
        book: action.payload.book
      });
    case _actionTypes.default.ADD_CARD_SUCCESS:
      return (0, _extends2.default)({}, state, {
        book: (0, _extends2.default)({}, state.book, {
          card: action.payload.card
        })
      });
    case _actionTypes.default.SET_DEFAULT_CARD:
      return (0, _extends2.default)({}, state, {
        book: (0, _extends2.default)({}, state.book, {
          card: action.payload.card
        })
      });
    case _actionTypes.default.CREATE_BOOKING_SUCCESS:
      var bookings = state.bookings;
      bookings.unshift(action.payload.book);
      return (0, _extends2.default)({}, state, {
        book: initialState.book,
        bookings: bookings
      });
    case _actionTypes.default.SET_BOOKINGS:
      return (0, _extends2.default)({}, state, {
        bookings: action.payload.bookings
      });
    default:
      return state;
  }
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfYWN0aW9uVHlwZXMiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9jYXJkIiwiZW1wdHlIb3RlbCIsIl9pZCIsIm5hbWUiLCJzaG9ydF9hZGRyZXNzIiwiYWRkcmVzcyIsInJhdGluZyIsImxvY2F0aW9uIiwidHlwZSIsIm1haW5fcGljdHVyZSIsInNlY29uZF9waWN0dXJlIiwicm9vbXMiLCJlbXB0eVJvb20iLCJ0aXRsZSIsImFkdmFudGFnZSIsInByaWNlIiwicm9vbV9waWN0dXJlIiwiaW5pdGlhbFN0YXRlIiwiYm9vayIsImhvdGVsIiwicm9vbSIsImNoZWNrX2luX2RhdGUiLCJjaGVja19vdXRfZGF0ZSIsIm5pZ2h0X251bWJlcnMiLCJjYXJkIiwiZW1wdHlTZWN1cmVDYXJkIiwiYm9va2luZ3MiLCJyZWR1Y2VyIiwic3RhdGUiLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJ1bmRlZmluZWQiLCJhY3Rpb24iLCJBY3Rpb25UeXBlcyIsIlNFTEVDVF9IT1RFTCIsIl9leHRlbmRzMiIsImRlZmF1bHQiLCJwYXlsb2FkIiwiQ0hFQ0tfVVNFUl9TVUNDRVNTIiwidXNlciIsImNhcmRzIiwiVVBEQVRFX1JFU0VSVkFUSU9OIiwiQUREX0NBUkRfU1VDQ0VTUyIsIlNFVF9ERUZBVUxUX0NBUkQiLCJDUkVBVEVfQk9PS0lOR19TVUNDRVNTIiwidW5zaGlmdCIsIlNFVF9CT09LSU5HUyJdLCJzb3VyY2VzIjpbImJvb2sudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IEFjdGlvblR5cGVzIGZyb20gJy4uLy4uL3V0aWxzL2FjdGlvblR5cGVzJztcbmltcG9ydCB7SUhvdGVsLCBJUm9vbX0gZnJvbSAnLi4vLi4vbW9kZWxzJztcbmltcG9ydCB7ZW1wdHlTZWN1cmVDYXJkfSBmcm9tICcuLi8uLi9tb2RlbHMvY2FyZCc7XG5pbXBvcnQge0Jvb2tTdGF0ZSwgYm9va0FjdGlvbnN9IGZyb20gJy4uLy4uL3R5cGVzJztcblxuY29uc3QgZW1wdHlIb3RlbDogSUhvdGVsID0ge1xuICBfaWQ6ICcnLFxuICBuYW1lOiAnJyxcbiAgc2hvcnRfYWRkcmVzczogJycsXG4gIGFkZHJlc3M6ICcnLFxuICByYXRpbmc6IDAsXG4gIGxvY2F0aW9uOiAnJyxcbiAgdHlwZTogJycsXG4gIG1haW5fcGljdHVyZTogJycsXG4gIHNlY29uZF9waWN0dXJlOiAnJyxcbiAgcm9vbXM6IFtdLFxufTtcblxuY29uc3QgZW1wdHlSb29tOiBJUm9vbSA9IHtcbiAgX2lkOiAnJyxcbiAgdGl0bGU6ICcnLFxuICBhZHZhbnRhZ2U6ICcnLFxuICBwcmljZTogMCxcbiAgcm9vbV9waWN0dXJlOiAnJyxcbn07XG5cbmNvbnN0IGluaXRpYWxTdGF0ZTogQm9va1N0YXRlID0ge1xuICBib29rOiB7XG4gICAgX2lkOiAnJyxcbiAgICBob3RlbDogZW1wdHlIb3RlbCxcbiAgICByb29tOiBlbXB0eVJvb20sXG4gICAgY2hlY2tfaW5fZGF0ZTogbnVsbCxcbiAgICBjaGVja19vdXRfZGF0ZTogbnVsbCxcbiAgICBuaWdodF9udW1iZXJzOiAwLFxuICAgIHByaWNlOiAwLFxuICAgIGNhcmQ6IGVtcHR5U2VjdXJlQ2FyZCxcbiAgfSxcbiAgYm9va2luZ3M6IFtdLFxufTtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gcmVkdWNlcihzdGF0ZSA9IGluaXRpYWxTdGF0ZSwgYWN0aW9uOiBib29rQWN0aW9ucykge1xuICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG4gICAgY2FzZSBBY3Rpb25UeXBlcy5TRUxFQ1RfSE9URUw6XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5zdGF0ZSxcbiAgICAgICAgYm9vazogey4uLnN0YXRlLmJvb2ssIGhvdGVsOiBhY3Rpb24ucGF5bG9hZC5ob3RlbH0sXG4gICAgICB9O1xuICAgIGNhc2UgQWN0aW9uVHlwZXMuQ0hFQ0tfVVNFUl9TVUNDRVNTOlxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4uc3RhdGUsXG4gICAgICAgIGJvb2s6IHsuLi5zdGF0ZS5ib29rLCBjYXJkOiBhY3Rpb24ucGF5bG9hZC51c2VyLmNhcmRzWzBdfSxcbiAgICAgIH07XG4gICAgY2FzZSBBY3Rpb25UeXBlcy5VUERBVEVfUkVTRVJWQVRJT046XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5zdGF0ZSxcbiAgICAgICAgYm9vazogYWN0aW9uLnBheWxvYWQuYm9vayxcbiAgICAgIH07XG4gICAgY2FzZSBBY3Rpb25UeXBlcy5BRERfQ0FSRF9TVUNDRVNTOlxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4uc3RhdGUsXG4gICAgICAgIGJvb2s6IHsuLi5zdGF0ZS5ib29rLCBjYXJkOiBhY3Rpb24ucGF5bG9hZC5jYXJkfSxcbiAgICAgIH07XG4gICAgY2FzZSBBY3Rpb25UeXBlcy5TRVRfREVGQVVMVF9DQVJEOlxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4uc3RhdGUsXG4gICAgICAgIGJvb2s6IHsuLi5zdGF0ZS5ib29rLCBjYXJkOiBhY3Rpb24ucGF5bG9hZC5jYXJkfSxcbiAgICAgIH07XG4gICAgY2FzZSBBY3Rpb25UeXBlcy5DUkVBVEVfQk9PS0lOR19TVUNDRVNTOlxuICAgICAgbGV0IGJvb2tpbmdzID0gc3RhdGUuYm9va2luZ3M7XG4gICAgICBib29raW5ncy51bnNoaWZ0KGFjdGlvbi5wYXlsb2FkLmJvb2spO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4uc3RhdGUsXG4gICAgICAgIGJvb2s6IGluaXRpYWxTdGF0ZS5ib29rLFxuICAgICAgICBib29raW5nczogYm9va2luZ3MsXG4gICAgICB9O1xuICAgIGNhc2UgQWN0aW9uVHlwZXMuU0VUX0JPT0tJTkdTOlxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4uc3RhdGUsXG4gICAgICAgIGJvb2tpbmdzOiBhY3Rpb24ucGF5bG9hZC5ib29raW5ncyxcbiAgICAgIH07XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBzdGF0ZTtcbiAgfVxufVxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJ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