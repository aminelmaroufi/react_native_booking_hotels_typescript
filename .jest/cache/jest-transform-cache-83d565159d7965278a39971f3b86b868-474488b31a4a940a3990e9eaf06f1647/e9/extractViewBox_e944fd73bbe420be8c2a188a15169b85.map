{"version":3,"names":["meetOrSliceTypes","meet","slice","none","exports","alignEnum","reduce","prev","name","spacesRegExp","extractViewBox","props","viewBox","preserveAspectRatio","params","Array","isArray","trim","split","map","Number","length","some","isNaN","console","warn","modes","align","meetOrSlice","minX","minY","vbWidth","vbHeight"],"sources":["extractViewBox.ts"],"sourcesContent":["import { NumberProp } from './types';\n\nexport const meetOrSliceTypes: {\n  [meetOrSlice: string]: number;\n} = {\n  meet: 0,\n  slice: 1,\n  none: 2,\n};\n\nexport const alignEnum: { [align: string]: string } = [\n  'xMinYMin',\n  'xMidYMin',\n  'xMaxYMin',\n  'xMinYMid',\n  'xMidYMid',\n  'xMaxYMid',\n  'xMinYMax',\n  'xMidYMax',\n  'xMaxYMax',\n  'none',\n].reduce((prev: { [align: string]: string }, name) => {\n  prev[name] = name;\n  return prev;\n}, {});\n\nconst spacesRegExp = /\\s+/;\n\nexport default function extractViewBox(props: {\n  viewBox?: string | NumberProp[];\n  preserveAspectRatio?: string;\n}) {\n  const { viewBox, preserveAspectRatio } = props;\n\n  if (!viewBox) {\n    return null;\n  }\n\n  const params = (\n    Array.isArray(viewBox) ? viewBox : viewBox.trim().split(spacesRegExp)\n  ).map(Number);\n\n  if (params.length !== 4 || params.some(isNaN)) {\n    console.warn('Invalid `viewBox` prop:' + viewBox);\n    return null;\n  }\n\n  const modes = preserveAspectRatio\n    ? preserveAspectRatio.trim().split(spacesRegExp)\n    : [];\n  const align = modes[0];\n  const meetOrSlice = modes[1];\n\n  return {\n    minX: params[0],\n    minY: params[1],\n    vbWidth: params[2],\n    vbHeight: params[3],\n    align: alignEnum[align] || 'xMidYMid',\n    meetOrSlice: meetOrSliceTypes[meetOrSlice] || 0,\n  };\n}\n"],"mappings":";;;;;;;;AAEO,IAAMA,gBAEZ,GAAG;EACFC,IAAI,EAAE,CAAC;EACPC,KAAK,EAAE,CAAC;EACRC,IAAI,EAAE;AACR,CAAC;AAACC,OAAA,CAAAJ,gBAAA,GAAAA,gBAAA;AAEK,IAAMK,SAAsC,GAAG,CACpD,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,MAAM,CACP,CAACC,MAAM,CAAC,UAACC,IAAiC,EAAEC,IAAI,EAAK;EACpDD,IAAI,CAACC,IAAI,CAAC,GAAGA,IAAI;EACjB,OAAOD,IAAI;AACb,CAAC,EAAE,CAAC,CAAC,CAAC;AAACH,OAAA,CAAAC,SAAA,GAAAA,SAAA;AAEP,IAAMI,YAAY,GAAG,KAAK;AAEX,SAASC,cAAcA,CAACC,KAGtC,EAAE;EACD,IAAQC,OAAO,GAA0BD,KAAK,CAAtCC,OAAO;IAAEC,mBAAmB,GAAKF,KAAK,CAA7BE,mBAAmB;EAEpC,IAAI,CAACD,OAAO,EAAE;IACZ,OAAO,IAAI;EACb;EAEA,IAAME,MAAM,GAAG,CACbC,KAAK,CAACC,OAAO,CAACJ,OAAO,CAAC,GAAGA,OAAO,GAAGA,OAAO,CAACK,IAAI,EAAE,CAACC,KAAK,CAACT,YAAY,CAAC,EACrEU,GAAG,CAACC,MAAM,CAAC;EAEb,IAAIN,MAAM,CAACO,MAAM,KAAK,CAAC,IAAIP,MAAM,CAACQ,IAAI,CAACC,KAAK,CAAC,EAAE;IAC7CC,OAAO,CAACC,IAAI,CAAC,yBAAyB,GAAGb,OAAO,CAAC;IACjD,OAAO,IAAI;EACb;EAEA,IAAMc,KAAK,GAAGb,mBAAmB,GAC7BA,mBAAmB,CAACI,IAAI,EAAE,CAACC,KAAK,CAACT,YAAY,CAAC,GAC9C,EAAE;EACN,IAAMkB,KAAK,GAAGD,KAAK,CAAC,CAAC,CAAC;EACtB,IAAME,WAAW,GAAGF,KAAK,CAAC,CAAC,CAAC;EAE5B,OAAO;IACLG,IAAI,EAAEf,MAAM,CAAC,CAAC,CAAC;IACfgB,IAAI,EAAEhB,MAAM,CAAC,CAAC,CAAC;IACfiB,OAAO,EAAEjB,MAAM,CAAC,CAAC,CAAC;IAClBkB,QAAQ,EAAElB,MAAM,CAAC,CAAC,CAAC;IACnBa,KAAK,EAAEtB,SAAS,CAACsB,KAAK,CAAC,IAAI,UAAU;IACrCC,WAAW,EAAE5B,gBAAgB,CAAC4B,WAAW,CAAC,IAAI;EAChD,CAAC;AACH"}