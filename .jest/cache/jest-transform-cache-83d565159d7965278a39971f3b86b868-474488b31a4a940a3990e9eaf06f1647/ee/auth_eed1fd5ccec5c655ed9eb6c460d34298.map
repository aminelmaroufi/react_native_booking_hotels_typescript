{"version":3,"names":["actionTypes_1","__importDefault","require","user_1","initialState","fetching","isLoggedIn","message","error","user","emptyUser","success","reducer","state","arguments","length","undefined","action","type","default","API_CALL_REQUEST","_extends2","API_CALL_SUCCESS","API_CALL_FAILURE","payload","SUCCESS_OPERATION","CHECK_USER_SUCCESS","CREATE_ACCOUNT_SUCCESS","LOGIN_SUCCESS","ADD_CARD_SUCCESS","cards","concat","_toConsumableArray2","card","SET_DEFAULT_CARD","filter","c","id","unshift","exports"],"sources":["/Users/Amine/Desktop/projects/BookingHotelsApp/src/redux/reducers/auth.ts"],"sourcesContent":["import ActionTypes from '../../utils/actionTypes';\nimport {authActions, AuthState} from '../../types';\nimport {emptyUser} from '../../models/user';\n\nconst initialState: AuthState = {\n  fetching: false,\n  isLoggedIn: false,\n  message: '',\n  error: false,\n  user: emptyUser,\n  success: false,\n};\nexport default function reducer(state = initialState, action: authActions) {\n  switch (action.type) {\n    case ActionTypes.API_CALL_REQUEST:\n      return {\n        ...state,\n        fetching: true,\n        success: false,\n        error: false,\n        message: '',\n      };\n    case ActionTypes.API_CALL_SUCCESS:\n      return {\n        ...state,\n        fetching: false,\n        success: true,\n      };\n    case ActionTypes.API_CALL_FAILURE:\n      return {\n        ...state,\n        fetching: false,\n        error: true,\n        message: action.payload.message,\n      };\n    case ActionTypes.SUCCESS_OPERATION:\n      return {\n        ...state,\n        fetching: false,\n        success: true,\n        message: action.payload.message,\n      };\n    case ActionTypes.CHECK_USER_SUCCESS:\n      return {\n        ...state,\n        user: action.payload.user ? action.payload.user : emptyUser,\n        isLoggedIn: action.payload.user ? true : false,\n      };\n    case ActionTypes.CREATE_ACCOUNT_SUCCESS:\n      return {\n        ...state,\n        user: action.payload.user,\n      };\n    case ActionTypes.LOGIN_SUCCESS:\n      return {\n        ...state,\n        user: action.payload.user,\n        isLoggedIn: true,\n      };\n    case ActionTypes.ADD_CARD_SUCCESS:\n      return {\n        ...state,\n        user: {\n          ...state.user,\n          cards: [...state.user.cards, action.payload.card],\n        },\n      };\n    case ActionTypes.SET_DEFAULT_CARD:\n      let cards = state.user.cards.filter(c => c.id !== action.payload.card.id);\n      cards.unshift(action.payload.card);\n      return {\n        ...state,\n        user: {\n          ...state.user,\n          cards: cards,\n        },\n      };\n    default:\n      return state;\n  }\n}\n"],"mappings":"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"}