030cb0070de99b0f8451e938525a3650
"use strict";

var _interopRequireWildcard = require("@babel/runtime/helpers/interopRequireWildcard");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = extractBrush;
var _extractColor = _interopRequireWildcard(require("./extractColor"));
var urlIdPattern = /^url\(#(.+)\)$/;
var currentColorBrush = [2];
var contextFillBrush = [3];
var contextStrokeBrush = [4];
function extractBrush(color) {
  if (typeof color === 'number') {
    if (color >>> 0 === color && color >= 0 && color <= 0xffffffff) {
      return (0, _extractColor.integerColor)(color);
    }
  }
  if (!color || color === 'none') {
    return null;
  }
  if (color === 'currentColor') {
    return currentColorBrush;
  }
  if (color === 'context-fill') {
    return contextFillBrush;
  }
  if (color === 'context-stroke') {
    return contextStrokeBrush;
  }
  var brush = typeof color === 'string' && color.match(urlIdPattern);
  if (brush) {
    return [1, brush[1]];
  }
  var int32ARGBColor = (0, _extractColor.default)(color);
  if (typeof int32ARGBColor === 'number') {
    return int32ARGBColor;
  }
  console.warn("\"".concat(color, "\" is not a valid color or brush"));
  return null;
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXh0cmFjdENvbG9yIiwiX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQiLCJyZXF1aXJlIiwidXJsSWRQYXR0ZXJuIiwiY3VycmVudENvbG9yQnJ1c2giLCJjb250ZXh0RmlsbEJydXNoIiwiY29udGV4dFN0cm9rZUJydXNoIiwiZXh0cmFjdEJydXNoIiwiY29sb3IiLCJpbnRlZ2VyQ29sb3IiLCJicnVzaCIsIm1hdGNoIiwiaW50MzJBUkdCQ29sb3IiLCJkZWZhdWx0IiwiY29uc29sZSIsIndhcm4iLCJjb25jYXQiXSwic291cmNlcyI6WyJleHRyYWN0QnJ1c2gudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGV4dHJhY3RDb2xvciwgeyBpbnRlZ2VyQ29sb3IgfSBmcm9tICcuL2V4dHJhY3RDb2xvcic7XG5pbXBvcnQgeyBDb2xvciB9IGZyb20gJy4vdHlwZXMnO1xuXG5jb25zdCB1cmxJZFBhdHRlcm4gPSAvXnVybFxcKCMoLispXFwpJC87XG5cbmNvbnN0IGN1cnJlbnRDb2xvckJydXNoID0gWzJdO1xuY29uc3QgY29udGV4dEZpbGxCcnVzaCA9IFszXTtcbmNvbnN0IGNvbnRleHRTdHJva2VCcnVzaCA9IFs0XTtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZXh0cmFjdEJydXNoKGNvbG9yPzogQ29sb3IpIHtcbiAgaWYgKHR5cGVvZiBjb2xvciA9PT0gJ251bWJlcicpIHtcbiAgICBpZiAoY29sb3IgPj4+IDAgPT09IGNvbG9yICYmIGNvbG9yID49IDAgJiYgY29sb3IgPD0gMHhmZmZmZmZmZikge1xuICAgICAgcmV0dXJuIGludGVnZXJDb2xvcihjb2xvcik7XG4gICAgfVxuICB9XG5cbiAgaWYgKCFjb2xvciB8fCBjb2xvciA9PT0gJ25vbmUnKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBpZiAoY29sb3IgPT09ICdjdXJyZW50Q29sb3InKSB7XG4gICAgcmV0dXJuIGN1cnJlbnRDb2xvckJydXNoO1xuICB9XG5cbiAgaWYgKGNvbG9yID09PSAnY29udGV4dC1maWxsJykge1xuICAgIHJldHVybiBjb250ZXh0RmlsbEJydXNoO1xuICB9XG5cbiAgaWYgKGNvbG9yID09PSAnY29udGV4dC1zdHJva2UnKSB7XG4gICAgcmV0dXJuIGNvbnRleHRTdHJva2VCcnVzaDtcbiAgfVxuXG4gIGNvbnN0IGJydXNoID0gdHlwZW9mIGNvbG9yID09PSAnc3RyaW5nJyAmJiBjb2xvci5tYXRjaCh1cmxJZFBhdHRlcm4pO1xuICBpZiAoYnJ1c2gpIHtcbiAgICByZXR1cm4gWzEsIGJydXNoWzFdXTtcbiAgfVxuXG4gIGNvbnN0IGludDMyQVJHQkNvbG9yID0gZXh0cmFjdENvbG9yKGNvbG9yKTtcbiAgaWYgKHR5cGVvZiBpbnQzMkFSR0JDb2xvciA9PT0gJ251bWJlcicpIHtcbiAgICByZXR1cm4gaW50MzJBUkdCQ29sb3I7XG4gIH1cblxuICBjb25zb2xlLndhcm4oYFwiJHtjb2xvcn1cIiBpcyBub3QgYSB2YWxpZCBjb2xvciBvciBicnVzaGApO1xuICByZXR1cm4gbnVsbDtcbn1cbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBLElBQUFBLGFBQUEsR0FBQUMsdUJBQUEsQ0FBQUMsT0FBQTtBQUdBLElBQU1DLFlBQVksR0FBRyxnQkFBckI7QUFFQSxJQUFNQyxpQkFBaUIsR0FBRyxDQUFDLENBQUQsQ0FBMUI7QUFDQSxJQUFNQyxnQkFBZ0IsR0FBRyxDQUFDLENBQUQsQ0FBekI7QUFDQSxJQUFNQyxrQkFBa0IsR0FBRyxDQUFDLENBQUQsQ0FBM0I7QUFFZSxTQUFTQyxZQUFUQSxDQUFzQkMsS0FBdEIsRUFBcUM7RUFDbEQsSUFBSSxPQUFPQSxLQUFQLEtBQWlCLFFBQXJCLEVBQStCO0lBQzdCLElBQUlBLEtBQUssS0FBSyxDQUFWLEtBQWdCQSxLQUFoQixJQUF5QkEsS0FBSyxJQUFJLENBQWxDLElBQXVDQSxLQUFLLElBQUksVUFBcEQsRUFBZ0U7TUFDOUQsT0FBTyxJQUFBUixhQUFBLENBQUFTLFlBQUEsRUFBYUQsS0FBYixDQUFQO0lBQ0Q7RUFDRjtFQUVELElBQUksQ0FBQ0EsS0FBRCxJQUFVQSxLQUFLLEtBQUssTUFBeEIsRUFBZ0M7SUFDOUIsT0FBTyxJQUFQO0VBQ0Q7RUFFRCxJQUFJQSxLQUFLLEtBQUssY0FBZCxFQUE4QjtJQUM1QixPQUFPSixpQkFBUDtFQUNEO0VBRUQsSUFBSUksS0FBSyxLQUFLLGNBQWQsRUFBOEI7SUFDNUIsT0FBT0gsZ0JBQVA7RUFDRDtFQUVELElBQUlHLEtBQUssS0FBSyxnQkFBZCxFQUFnQztJQUM5QixPQUFPRixrQkFBUDtFQUNEO0VBRUQsSUFBTUksS0FBSyxHQUFHLE9BQU9GLEtBQVAsS0FBaUIsUUFBakIsSUFBNkJBLEtBQUssQ0FBQ0csS0FBTixDQUFZUixZQUFaLENBQTNDO0VBQ0EsSUFBSU8sS0FBSixFQUFXO0lBQ1QsT0FBTyxDQUFDLENBQUQsRUFBSUEsS0FBSyxDQUFDLENBQUQsQ0FBVCxDQUFQO0VBQ0Q7RUFFRCxJQUFNRSxjQUFjLEdBQUcsSUFBQVosYUFBQSxDQUFBYSxPQUFBLEVBQWFMLEtBQWIsQ0FBdkI7RUFDQSxJQUFJLE9BQU9JLGNBQVAsS0FBMEIsUUFBOUIsRUFBd0M7SUFDdEMsT0FBT0EsY0FBUDtFQUNEO0VBRURFLE9BQU8sQ0FBQ0MsSUFBUixNQUFBQyxNQUFBLENBQWlCUixLQUFqQjtFQUNBLE9BQU8sSUFBUDtBQUNEIn0=