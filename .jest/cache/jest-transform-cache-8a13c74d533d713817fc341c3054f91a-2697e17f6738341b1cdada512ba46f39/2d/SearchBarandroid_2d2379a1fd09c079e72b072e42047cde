409d36b6f679fbb61d67d20e6d617f63
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _extends2 = _interopRequireDefault(require("@babel/runtime/helpers/extends"));
var _classCallCheck2 = _interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));
var _createClass2 = _interopRequireDefault(require("@babel/runtime/helpers/createClass"));
var _inherits2 = _interopRequireDefault(require("@babel/runtime/helpers/inherits"));
var _possibleConstructorReturn2 = _interopRequireDefault(require("@babel/runtime/helpers/possibleConstructorReturn"));
var _getPrototypeOf2 = _interopRequireDefault(require("@babel/runtime/helpers/getPrototypeOf"));
var _react = _interopRequireWildcard(require("react"));
var _reactNative = require("react-native");
var _helpers = require("../helpers");
var _Input = _interopRequireDefault(require("../input/Input"));
var _Icon = _interopRequireDefault(require("../icons/Icon"));
function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== "function") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }
function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }
function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2.default)(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2.default)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2.default)(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }
var __rest = void 0 && (void 0).__rest || function (s, e) {
  var t = {};
  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];
  if (s != null && typeof Object.getOwnPropertySymbols === "function") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];
  }
  return t;
};
var defaultSearchIcon = function defaultSearchIcon(theme) {
  var _a, _b, _c;
  return {
    type: 'material',
    size: 25,
    color: (_c = (_b = (_a = theme === null || theme === void 0 ? void 0 : theme.colors) === null || _a === void 0 ? void 0 : _a.platform) === null || _b === void 0 ? void 0 : _b.android) === null || _c === void 0 ? void 0 : _c.grey,
    name: 'search'
  };
};
var defaultCancelIcon = function defaultCancelIcon(theme) {
  var _a, _b, _c;
  return {
    type: 'material',
    size: 25,
    color: (_c = (_b = (_a = theme === null || theme === void 0 ? void 0 : theme.colors) === null || _a === void 0 ? void 0 : _a.platform) === null || _b === void 0 ? void 0 : _b.android) === null || _c === void 0 ? void 0 : _c.grey,
    name: 'arrow-back'
  };
};
var defaultClearIcon = function defaultClearIcon(theme) {
  var _a, _b, _c;
  return {
    type: 'material',
    size: 25,
    color: (_c = (_b = (_a = theme === null || theme === void 0 ? void 0 : theme.colors) === null || _a === void 0 ? void 0 : _a.platform) === null || _b === void 0 ? void 0 : _b.android) === null || _c === void 0 ? void 0 : _c.grey,
    name: 'clear'
  };
};
var SearchBar = function (_Component) {
  (0, _inherits2.default)(SearchBar, _Component);
  var _super = _createSuper(SearchBar);
  function SearchBar(props) {
    var _this;
    (0, _classCallCheck2.default)(this, SearchBar);
    _this = _super.call(this, props);
    _this.focus = function () {
      _this.input.focus();
    };
    _this.blur = function () {
      _this.input.blur();
    };
    _this.clear = function () {
      _this.input.clear();
      _this.onChangeText('');
      _this.props.onClear();
    };
    _this.cancel = function () {
      _this.blur();
      _this.props.onCancel();
    };
    _this.onFocus = function (event) {
      _this.props.onFocus(event);
      _this.setState({
        hasFocus: true,
        isEmpty: _this.props.value === ''
      });
    };
    _this.onBlur = function (event) {
      _this.props.onBlur(event);
      _this.setState({
        hasFocus: false
      });
    };
    _this.onChangeText = function (text) {
      _this.props.onChangeText(text);
      _this.setState({
        isEmpty: text === ''
      });
    };
    _this._keyboardDidHide = function () {
      _this.cancel();
    };
    var _props$value = props.value,
      value = _props$value === void 0 ? '' : _props$value;
    _this.state = {
      hasFocus: false,
      isEmpty: value ? value === '' : true
    };
    _reactNative.Keyboard.addListener('keyboardDidHide', _this._keyboardDidHide);
    return _this;
  }
  (0, _createClass2.default)(SearchBar, [{
    key: "componentWillUnmount",
    value: function componentWillUnmount() {
      _reactNative.Keyboard.removeListener('keyboardDidHide', this._keyboardDidHide);
    }
  }, {
    key: "render",
    value: function render() {
      var _this2 = this;
      var _a;
      var _b = this.props,
        theme = _b.theme,
        _b$clearIcon = _b.clearIcon,
        clearIcon = _b$clearIcon === void 0 ? {
          name: 'clear'
        } : _b$clearIcon,
        containerStyle = _b.containerStyle,
        leftIconContainerStyle = _b.leftIconContainerStyle,
        rightIconContainerStyle = _b.rightIconContainerStyle,
        inputContainerStyle = _b.inputContainerStyle,
        inputStyle = _b.inputStyle,
        _b$searchIcon = _b.searchIcon,
        searchIcon = _b$searchIcon === void 0 ? {
          name: 'search'
        } : _b$searchIcon,
        _b$cancelIcon = _b.cancelIcon,
        cancelIcon = _b$cancelIcon === void 0 ? {
          name: 'arrow-back'
        } : _b$cancelIcon,
        _b$showLoading = _b.showLoading,
        showLoading = _b$showLoading === void 0 ? false : _b$showLoading,
        _b$loadingProps = _b.loadingProps,
        loadingProps = _b$loadingProps === void 0 ? {} : _b$loadingProps,
        attributes = __rest(_b, ["theme", "clearIcon", "containerStyle", "leftIconContainerStyle", "rightIconContainerStyle", "inputContainerStyle", "inputStyle", "searchIcon", "cancelIcon", "showLoading", "loadingProps"]);
      var _this$state = this.state,
        hasFocus = _this$state.hasFocus,
        isEmpty = _this$state.isEmpty;
      var loadingStyle = loadingProps.style,
        otherLoadingProps = __rest(loadingProps, ["style"]);
      return _react.default.createElement(_reactNative.View, {
        style: _reactNative.StyleSheet.flatten([{
          backgroundColor: (_a = theme === null || theme === void 0 ? void 0 : theme.colors) === null || _a === void 0 ? void 0 : _a.white,
          paddingTop: 8,
          paddingBottom: 8
        }, containerStyle])
      }, _react.default.createElement(_Input.default, (0, _extends2.default)({
        testID: "searchInput",
        renderErrorMessage: false
      }, attributes, {
        onFocus: this.onFocus,
        onBlur: this.onBlur,
        onChangeText: this.onChangeText,
        ref: function ref(input) {
          _this2.input = input;
        },
        containerStyle: {
          paddingHorizontal: 0
        },
        inputStyle: _reactNative.StyleSheet.flatten([styles.input, inputStyle]),
        inputContainerStyle: _reactNative.StyleSheet.flatten([styles.inputContainer, inputContainerStyle]),
        leftIcon: hasFocus ? (0, _helpers.renderNode)(_Icon.default, cancelIcon, (0, _extends2.default)((0, _extends2.default)({}, defaultCancelIcon(theme)), {
          onPress: this.cancel
        })) : (0, _helpers.renderNode)(_Icon.default, searchIcon, defaultSearchIcon(theme)),
        leftIconContainerStyle: _reactNative.StyleSheet.flatten([styles.leftIconContainerStyle, leftIconContainerStyle]),
        rightIcon: _react.default.createElement(_reactNative.View, {
          style: {
            flexDirection: 'row'
          }
        }, showLoading && _react.default.createElement(_reactNative.ActivityIndicator, (0, _extends2.default)({
          key: "loading",
          style: _reactNative.StyleSheet.flatten([{
            marginRight: 5
          }, loadingStyle])
        }, otherLoadingProps)), !isEmpty && (0, _helpers.renderNode)(_Icon.default, clearIcon, (0, _extends2.default)((0, _extends2.default)({}, defaultClearIcon(theme)), {
          key: 'cancel',
          onPress: this.clear
        }))),
        rightIconContainerStyle: _reactNative.StyleSheet.flatten([styles.rightIconContainerStyle, rightIconContainerStyle])
      })));
    }
  }]);
  return SearchBar;
}(_react.Component);
SearchBar.defaultProps = {
  onClear: function onClear() {
    return null;
  },
  onCancel: function onCancel() {
    return null;
  },
  onFocus: function onFocus() {
    return null;
  },
  onBlur: function onBlur() {
    return null;
  },
  onChangeText: function onChangeText() {
    return null;
  }
};
var styles = _reactNative.StyleSheet.create({
  input: {
    marginLeft: 24,
    marginRight: 8
  },
  inputContainer: {
    borderBottomWidth: 0,
    width: '100%'
  },
  rightIconContainerStyle: {
    marginRight: 8
  },
  leftIconContainerStyle: {
    marginLeft: 8
  }
});
var _default = SearchBar;
exports.default = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcmVhY3QiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfcmVhY3ROYXRpdmUiLCJfaGVscGVycyIsIl9JbnB1dCIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJfSWNvbiIsIl9nZXRSZXF1aXJlV2lsZGNhcmRDYWNoZSIsIm5vZGVJbnRlcm9wIiwiV2Vha01hcCIsImNhY2hlQmFiZWxJbnRlcm9wIiwiY2FjaGVOb2RlSW50ZXJvcCIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwiY2FjaGUiLCJoYXMiLCJnZXQiLCJuZXdPYmoiLCJoYXNQcm9wZXJ0eURlc2NyaXB0b3IiLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImdldE93blByb3BlcnR5RGVzY3JpcHRvciIsImtleSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImRlc2MiLCJzZXQiLCJfY3JlYXRlU3VwZXIiLCJEZXJpdmVkIiwiaGFzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCIsIl9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QiLCJfY3JlYXRlU3VwZXJJbnRlcm5hbCIsIlN1cGVyIiwiX2dldFByb3RvdHlwZU9mMiIsInJlc3VsdCIsIk5ld1RhcmdldCIsImNvbnN0cnVjdG9yIiwiUmVmbGVjdCIsImNvbnN0cnVjdCIsImFyZ3VtZW50cyIsImFwcGx5IiwiX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yIiwic2hhbSIsIlByb3h5IiwiQm9vbGVhbiIsInZhbHVlT2YiLCJlIiwiX19yZXN0IiwicyIsInQiLCJwIiwiaW5kZXhPZiIsImdldE93blByb3BlcnR5U3ltYm9scyIsImkiLCJsZW5ndGgiLCJwcm9wZXJ0eUlzRW51bWVyYWJsZSIsImRlZmF1bHRTZWFyY2hJY29uIiwidGhlbWUiLCJfYSIsIl9iIiwiX2MiLCJ0eXBlIiwic2l6ZSIsImNvbG9yIiwiY29sb3JzIiwicGxhdGZvcm0iLCJhbmRyb2lkIiwiZ3JleSIsIm5hbWUiLCJkZWZhdWx0Q2FuY2VsSWNvbiIsImRlZmF1bHRDbGVhckljb24iLCJTZWFyY2hCYXIiLCJfQ29tcG9uZW50IiwiX2luaGVyaXRzMiIsIl9zdXBlciIsInByb3BzIiwiX3RoaXMiLCJfY2xhc3NDYWxsQ2hlY2syIiwiZm9jdXMiLCJpbnB1dCIsImJsdXIiLCJjbGVhciIsIm9uQ2hhbmdlVGV4dCIsIm9uQ2xlYXIiLCJjYW5jZWwiLCJvbkNhbmNlbCIsIm9uRm9jdXMiLCJldmVudCIsInNldFN0YXRlIiwiaGFzRm9jdXMiLCJpc0VtcHR5IiwidmFsdWUiLCJvbkJsdXIiLCJ0ZXh0IiwiX2tleWJvYXJkRGlkSGlkZSIsIl9wcm9wcyR2YWx1ZSIsInN0YXRlIiwiS2V5Ym9hcmQiLCJhZGRMaXN0ZW5lciIsIl9jcmVhdGVDbGFzczIiLCJjb21wb25lbnRXaWxsVW5tb3VudCIsInJlbW92ZUxpc3RlbmVyIiwicmVuZGVyIiwiX3RoaXMyIiwiX2IkY2xlYXJJY29uIiwiY2xlYXJJY29uIiwiY29udGFpbmVyU3R5bGUiLCJsZWZ0SWNvbkNvbnRhaW5lclN0eWxlIiwicmlnaHRJY29uQ29udGFpbmVyU3R5bGUiLCJpbnB1dENvbnRhaW5lclN0eWxlIiwiaW5wdXRTdHlsZSIsIl9iJHNlYXJjaEljb24iLCJzZWFyY2hJY29uIiwiX2IkY2FuY2VsSWNvbiIsImNhbmNlbEljb24iLCJfYiRzaG93TG9hZGluZyIsInNob3dMb2FkaW5nIiwiX2IkbG9hZGluZ1Byb3BzIiwibG9hZGluZ1Byb3BzIiwiYXR0cmlidXRlcyIsIl90aGlzJHN0YXRlIiwibG9hZGluZ1N0eWxlIiwic3R5bGUiLCJvdGhlckxvYWRpbmdQcm9wcyIsImNyZWF0ZUVsZW1lbnQiLCJWaWV3IiwiU3R5bGVTaGVldCIsImZsYXR0ZW4iLCJiYWNrZ3JvdW5kQ29sb3IiLCJ3aGl0ZSIsInBhZGRpbmdUb3AiLCJwYWRkaW5nQm90dG9tIiwiX2V4dGVuZHMyIiwidGVzdElEIiwicmVuZGVyRXJyb3JNZXNzYWdlIiwicmVmIiwicGFkZGluZ0hvcml6b250YWwiLCJzdHlsZXMiLCJpbnB1dENvbnRhaW5lciIsImxlZnRJY29uIiwicmVuZGVyTm9kZSIsIkljb24iLCJvblByZXNzIiwicmlnaHRJY29uIiwiZmxleERpcmVjdGlvbiIsIkFjdGl2aXR5SW5kaWNhdG9yIiwibWFyZ2luUmlnaHQiLCJDb21wb25lbnQiLCJkZWZhdWx0UHJvcHMiLCJjcmVhdGUiLCJtYXJnaW5MZWZ0IiwiYm9yZGVyQm90dG9tV2lkdGgiLCJ3aWR0aCIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VzIjpbIlNlYXJjaEJhci1hbmRyb2lkLmpzIl0sInNvdXJjZXNDb250ZW50IjpbInZhciBfX3Jlc3QgPSAodGhpcyAmJiB0aGlzLl9fcmVzdCkgfHwgZnVuY3Rpb24gKHMsIGUpIHtcbiAgICB2YXIgdCA9IHt9O1xuICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSAmJiBlLmluZGV4T2YocCkgPCAwKVxuICAgICAgICB0W3BdID0gc1twXTtcbiAgICBpZiAocyAhPSBudWxsICYmIHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzID09PSBcImZ1bmN0aW9uXCIpXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBwID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzKTsgaSA8IHAubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChlLmluZGV4T2YocFtpXSkgPCAwICYmIE9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChzLCBwW2ldKSlcbiAgICAgICAgICAgICAgICB0W3BbaV1dID0gc1twW2ldXTtcbiAgICAgICAgfVxuICAgIHJldHVybiB0O1xufTtcbmltcG9ydCBSZWFjdCwgeyBDb21wb25lbnQgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBTdHlsZVNoZWV0LCBWaWV3LCBBY3Rpdml0eUluZGljYXRvciwgS2V5Ym9hcmQsIH0gZnJvbSAncmVhY3QtbmF0aXZlJztcbmltcG9ydCB7IHJlbmRlck5vZGUgfSBmcm9tICcuLi9oZWxwZXJzJztcbmltcG9ydCBJbnB1dCBmcm9tICcuLi9pbnB1dC9JbnB1dCc7XG5pbXBvcnQgSWNvbiBmcm9tICcuLi9pY29ucy9JY29uJztcbmNvbnN0IGRlZmF1bHRTZWFyY2hJY29uID0gKHRoZW1lKSA9PiB7XG4gICAgdmFyIF9hLCBfYiwgX2M7XG4gICAgcmV0dXJuICh7XG4gICAgICAgIHR5cGU6ICdtYXRlcmlhbCcsXG4gICAgICAgIHNpemU6IDI1LFxuICAgICAgICBjb2xvcjogKF9jID0gKF9iID0gKF9hID0gdGhlbWUgPT09IG51bGwgfHwgdGhlbWUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHRoZW1lLmNvbG9ycykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnBsYXRmb3JtKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuYW5kcm9pZCkgPT09IG51bGwgfHwgX2MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jLmdyZXksXG4gICAgICAgIG5hbWU6ICdzZWFyY2gnLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlZmF1bHRDYW5jZWxJY29uID0gKHRoZW1lKSA9PiB7XG4gICAgdmFyIF9hLCBfYiwgX2M7XG4gICAgcmV0dXJuICh7XG4gICAgICAgIHR5cGU6ICdtYXRlcmlhbCcsXG4gICAgICAgIHNpemU6IDI1LFxuICAgICAgICBjb2xvcjogKF9jID0gKF9iID0gKF9hID0gdGhlbWUgPT09IG51bGwgfHwgdGhlbWUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHRoZW1lLmNvbG9ycykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnBsYXRmb3JtKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuYW5kcm9pZCkgPT09IG51bGwgfHwgX2MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jLmdyZXksXG4gICAgICAgIG5hbWU6ICdhcnJvdy1iYWNrJyxcbiAgICB9KTtcbn07XG5jb25zdCBkZWZhdWx0Q2xlYXJJY29uID0gKHRoZW1lKSA9PiB7XG4gICAgdmFyIF9hLCBfYiwgX2M7XG4gICAgcmV0dXJuICh7XG4gICAgICAgIHR5cGU6ICdtYXRlcmlhbCcsXG4gICAgICAgIHNpemU6IDI1LFxuICAgICAgICBjb2xvcjogKF9jID0gKF9iID0gKF9hID0gdGhlbWUgPT09IG51bGwgfHwgdGhlbWUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHRoZW1lLmNvbG9ycykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnBsYXRmb3JtKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuYW5kcm9pZCkgPT09IG51bGwgfHwgX2MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jLmdyZXksXG4gICAgICAgIG5hbWU6ICdjbGVhcicsXG4gICAgfSk7XG59O1xuY2xhc3MgU2VhcmNoQmFyIGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgICAgICBzdXBlcihwcm9wcyk7XG4gICAgICAgIHRoaXMuZm9jdXMgPSAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmlucHV0LmZvY3VzKCk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuYmx1ciA9ICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuaW5wdXQuYmx1cigpO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLmNsZWFyID0gKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5pbnB1dC5jbGVhcigpO1xuICAgICAgICAgICAgdGhpcy5vbkNoYW5nZVRleHQoJycpO1xuICAgICAgICAgICAgdGhpcy5wcm9wcy5vbkNsZWFyKCk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuY2FuY2VsID0gKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5ibHVyKCk7XG4gICAgICAgICAgICB0aGlzLnByb3BzLm9uQ2FuY2VsKCk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMub25Gb2N1cyA9IChldmVudCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5wcm9wcy5vbkZvY3VzKGV2ZW50KTtcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgICAgIGhhc0ZvY3VzOiB0cnVlLFxuICAgICAgICAgICAgICAgIGlzRW1wdHk6IHRoaXMucHJvcHMudmFsdWUgPT09ICcnLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMub25CbHVyID0gKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICB0aGlzLnByb3BzLm9uQmx1cihldmVudCk7XG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgaGFzRm9jdXM6IGZhbHNlIH0pO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLm9uQ2hhbmdlVGV4dCA9ICh0ZXh0KSA9PiB7XG4gICAgICAgICAgICB0aGlzLnByb3BzLm9uQ2hhbmdlVGV4dCh0ZXh0KTtcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBpc0VtcHR5OiB0ZXh0ID09PSAnJyB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5fa2V5Ym9hcmREaWRIaWRlID0gKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5jYW5jZWwoKTtcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgeyB2YWx1ZSA9ICcnIH0gPSBwcm9wcztcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgICAgICAgIGhhc0ZvY3VzOiBmYWxzZSxcbiAgICAgICAgICAgIGlzRW1wdHk6IHZhbHVlID8gdmFsdWUgPT09ICcnIDogdHJ1ZSxcbiAgICAgICAgfTtcbiAgICAgICAgS2V5Ym9hcmQuYWRkTGlzdGVuZXIoJ2tleWJvYXJkRGlkSGlkZScsIHRoaXMuX2tleWJvYXJkRGlkSGlkZSk7XG4gICAgfVxuICAgIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgICAgICBLZXlib2FyZC5yZW1vdmVMaXN0ZW5lcigna2V5Ym9hcmREaWRIaWRlJywgdGhpcy5fa2V5Ym9hcmREaWRIaWRlKTtcbiAgICB9XG4gICAgcmVuZGVyKCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGNvbnN0IF9iID0gdGhpcy5wcm9wcywgeyB0aGVtZSwgY2xlYXJJY29uID0geyBuYW1lOiAnY2xlYXInIH0sIGNvbnRhaW5lclN0eWxlLCBsZWZ0SWNvbkNvbnRhaW5lclN0eWxlLCByaWdodEljb25Db250YWluZXJTdHlsZSwgaW5wdXRDb250YWluZXJTdHlsZSwgaW5wdXRTdHlsZSwgc2VhcmNoSWNvbiA9IHsgbmFtZTogJ3NlYXJjaCcgfSwgY2FuY2VsSWNvbiA9IHsgbmFtZTogJ2Fycm93LWJhY2snIH0sIHNob3dMb2FkaW5nID0gZmFsc2UsIGxvYWRpbmdQcm9wcyA9IHt9IH0gPSBfYiwgYXR0cmlidXRlcyA9IF9fcmVzdChfYiwgW1widGhlbWVcIiwgXCJjbGVhckljb25cIiwgXCJjb250YWluZXJTdHlsZVwiLCBcImxlZnRJY29uQ29udGFpbmVyU3R5bGVcIiwgXCJyaWdodEljb25Db250YWluZXJTdHlsZVwiLCBcImlucHV0Q29udGFpbmVyU3R5bGVcIiwgXCJpbnB1dFN0eWxlXCIsIFwic2VhcmNoSWNvblwiLCBcImNhbmNlbEljb25cIiwgXCJzaG93TG9hZGluZ1wiLCBcImxvYWRpbmdQcm9wc1wiXSk7XG4gICAgICAgIGNvbnN0IHsgaGFzRm9jdXMsIGlzRW1wdHkgfSA9IHRoaXMuc3RhdGU7XG4gICAgICAgIGNvbnN0IHsgc3R5bGU6IGxvYWRpbmdTdHlsZSB9ID0gbG9hZGluZ1Byb3BzLCBvdGhlckxvYWRpbmdQcm9wcyA9IF9fcmVzdChsb2FkaW5nUHJvcHMsIFtcInN0eWxlXCJdKTtcbiAgICAgICAgcmV0dXJuICg8VmlldyBzdHlsZT17U3R5bGVTaGVldC5mbGF0dGVuKFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IChfYSA9IHRoZW1lID09PSBudWxsIHx8IHRoZW1lID09PSB2b2lkIDAgPyB2b2lkIDAgOiB0aGVtZS5jb2xvcnMpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS53aGl0ZSxcbiAgICAgICAgICAgICAgICBwYWRkaW5nVG9wOiA4LFxuICAgICAgICAgICAgICAgIHBhZGRpbmdCb3R0b206IDgsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY29udGFpbmVyU3R5bGUsXG4gICAgICAgIF0pfT5cbiAgICAgICAgPElucHV0IHRlc3RJRD1cInNlYXJjaElucHV0XCIgcmVuZGVyRXJyb3JNZXNzYWdlPXtmYWxzZX0gey4uLmF0dHJpYnV0ZXN9IG9uRm9jdXM9e3RoaXMub25Gb2N1c30gb25CbHVyPXt0aGlzLm9uQmx1cn0gb25DaGFuZ2VUZXh0PXt0aGlzLm9uQ2hhbmdlVGV4dH0gcmVmPXsoaW5wdXQpID0+IHtcbiAgICAgICAgICAgIHRoaXMuaW5wdXQgPSBpbnB1dDtcbiAgICAgICAgfX0gY29udGFpbmVyU3R5bGU9e3sgcGFkZGluZ0hvcml6b250YWw6IDAgfX0gaW5wdXRTdHlsZT17U3R5bGVTaGVldC5mbGF0dGVuKFtzdHlsZXMuaW5wdXQsIGlucHV0U3R5bGVdKX0gaW5wdXRDb250YWluZXJTdHlsZT17U3R5bGVTaGVldC5mbGF0dGVuKFtcbiAgICAgICAgICAgIHN0eWxlcy5pbnB1dENvbnRhaW5lcixcbiAgICAgICAgICAgIGlucHV0Q29udGFpbmVyU3R5bGUsXG4gICAgICAgIF0pfSBsZWZ0SWNvbj17aGFzRm9jdXNcbiAgICAgICAgICAgID8gcmVuZGVyTm9kZShJY29uLCBjYW5jZWxJY29uLCBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIGRlZmF1bHRDYW5jZWxJY29uKHRoZW1lKSksIHsgb25QcmVzczogdGhpcy5jYW5jZWwgfSkpXG4gICAgICAgICAgICA6IHJlbmRlck5vZGUoSWNvbiwgc2VhcmNoSWNvbiwgZGVmYXVsdFNlYXJjaEljb24odGhlbWUpKX0gbGVmdEljb25Db250YWluZXJTdHlsZT17U3R5bGVTaGVldC5mbGF0dGVuKFtcbiAgICAgICAgICAgIHN0eWxlcy5sZWZ0SWNvbkNvbnRhaW5lclN0eWxlLFxuICAgICAgICAgICAgbGVmdEljb25Db250YWluZXJTdHlsZSxcbiAgICAgICAgXSl9IHJpZ2h0SWNvbj17PFZpZXcgc3R5bGU9e3sgZmxleERpcmVjdGlvbjogJ3JvdycgfX0+XG4gICAgICAgICAgICAgIHtzaG93TG9hZGluZyAmJiAoPEFjdGl2aXR5SW5kaWNhdG9yIGtleT1cImxvYWRpbmdcIiBzdHlsZT17U3R5bGVTaGVldC5mbGF0dGVuKFt7IG1hcmdpblJpZ2h0OiA1IH0sIGxvYWRpbmdTdHlsZV0pfSB7Li4ub3RoZXJMb2FkaW5nUHJvcHN9Lz4pfVxuICAgICAgICAgICAgICB7IWlzRW1wdHkgJiZcbiAgICAgICAgICAgIHJlbmRlck5vZGUoSWNvbiwgY2xlYXJJY29uLCBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIGRlZmF1bHRDbGVhckljb24odGhlbWUpKSwgeyBrZXk6ICdjYW5jZWwnLCBvblByZXNzOiB0aGlzLmNsZWFyIH0pKX1cbiAgICAgICAgICAgIDwvVmlldz59IHJpZ2h0SWNvbkNvbnRhaW5lclN0eWxlPXtTdHlsZVNoZWV0LmZsYXR0ZW4oW1xuICAgICAgICAgICAgc3R5bGVzLnJpZ2h0SWNvbkNvbnRhaW5lclN0eWxlLFxuICAgICAgICAgICAgcmlnaHRJY29uQ29udGFpbmVyU3R5bGUsXG4gICAgICAgIF0pfS8+XG4gICAgICA8L1ZpZXc+KTtcbiAgICB9XG59XG5TZWFyY2hCYXIuZGVmYXVsdFByb3BzID0ge1xuICAgIG9uQ2xlYXI6ICgpID0+IG51bGwsXG4gICAgb25DYW5jZWw6ICgpID0+IG51bGwsXG4gICAgb25Gb2N1czogKCkgPT4gbnVsbCxcbiAgICBvbkJsdXI6ICgpID0+IG51bGwsXG4gICAgb25DaGFuZ2VUZXh0OiAoKSA9PiBudWxsLFxufTtcbmNvbnN0IHN0eWxlcyA9IFN0eWxlU2hlZXQuY3JlYXRlKHtcbiAgICBpbnB1dDoge1xuICAgICAgICBtYXJnaW5MZWZ0OiAyNCxcbiAgICAgICAgbWFyZ2luUmlnaHQ6IDgsXG4gICAgfSxcbiAgICBpbnB1dENvbnRhaW5lcjoge1xuICAgICAgICBib3JkZXJCb3R0b21XaWR0aDogMCxcbiAgICAgICAgd2lkdGg6ICcxMDAlJyxcbiAgICB9LFxuICAgIHJpZ2h0SWNvbkNvbnRhaW5lclN0eWxlOiB7XG4gICAgICAgIG1hcmdpblJpZ2h0OiA4LFxuICAgIH0sXG4gICAgbGVmdEljb25Db250YWluZXJTdHlsZToge1xuICAgICAgICBtYXJnaW5MZWZ0OiA4LFxuICAgIH0sXG59KTtcbmV4cG9ydCBkZWZhdWx0IFNlYXJjaEJhcjtcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQVdBLElBQUFBLE1BQUEsR0FBQUMsdUJBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLFlBQUEsR0FBQUQsT0FBQTtBQUNBLElBQUFFLFFBQUEsR0FBQUYsT0FBQTtBQUNBLElBQUFHLE1BQUEsR0FBQUMsc0JBQUEsQ0FBQUosT0FBQTtBQUNBLElBQUFLLEtBQUEsR0FBQUQsc0JBQUEsQ0FBQUosT0FBQTtBQUFpQyxTQUFBTSx5QkFBQUMsV0FBQSxlQUFBQyxPQUFBLGtDQUFBQyxpQkFBQSxPQUFBRCxPQUFBLFFBQUFFLGdCQUFBLE9BQUFGLE9BQUEsWUFBQUYsd0JBQUEsWUFBQUEseUJBQUFDLFdBQUEsV0FBQUEsV0FBQSxHQUFBRyxnQkFBQSxHQUFBRCxpQkFBQSxLQUFBRixXQUFBO0FBQUEsU0FBQVIsd0JBQUFZLEdBQUEsRUFBQUosV0FBQSxTQUFBQSxXQUFBLElBQUFJLEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFBLFdBQUFELEdBQUEsUUFBQUEsR0FBQSxvQkFBQUEsR0FBQSx3QkFBQUEsR0FBQSw0QkFBQUUsT0FBQSxFQUFBRixHQUFBLFVBQUFHLEtBQUEsR0FBQVIsd0JBQUEsQ0FBQUMsV0FBQSxPQUFBTyxLQUFBLElBQUFBLEtBQUEsQ0FBQUMsR0FBQSxDQUFBSixHQUFBLFlBQUFHLEtBQUEsQ0FBQUUsR0FBQSxD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