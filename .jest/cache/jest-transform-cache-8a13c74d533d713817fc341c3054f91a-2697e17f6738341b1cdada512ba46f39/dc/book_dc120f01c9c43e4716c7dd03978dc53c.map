{"version":3,"names":["_actionTypes","_interopRequireDefault","require","_card","cov_vf3wzzhb1","path","hash","global","Function","gcv","coverageData","statementMap","start","line","column","end","fnMap","name","decl","loc","branchMap","type","locations","s","f","b","_coverageSchema","coverage","actualCoverage","emptyHotel","_id","short_address","address","rating","location","main_picture","second_picture","rooms","emptyRoom","title","advantage","price","room_picture","initialState","book","hotel","room","check_in_date","check_out_date","night_numbers","card","emptySecureCard","bookings","reducer","state","arguments","length","undefined","action","ActionTypes","SELECT_HOTEL","_extends2","default","payload","CHECK_USER_SUCCESS","user","cards","UPDATE_RESERVATION","ADD_CARD_SUCCESS","SET_DEFAULT_CARD","CREATE_BOOKING_SUCCESS","unshift","SET_BOOKINGS"],"sources":["book.ts"],"sourcesContent":["import ActionTypes from '../../utils/actionTypes';\nimport {IHotel, IRoom} from '../../models';\nimport {emptySecureCard} from '../../models/card';\nimport {BookState, bookActions} from '../../types';\n\nconst emptyHotel: IHotel = {\n  _id: '',\n  name: '',\n  short_address: '',\n  address: '',\n  rating: 0,\n  location: '',\n  type: '',\n  main_picture: '',\n  second_picture: '',\n  rooms: [],\n};\n\nconst emptyRoom: IRoom = {\n  _id: '',\n  title: '',\n  advantage: '',\n  price: 0,\n  room_picture: '',\n};\n\nconst initialState: BookState = {\n  book: {\n    _id: '',\n    hotel: emptyHotel,\n    room: emptyRoom,\n    check_in_date: null,\n    check_out_date: null,\n    night_numbers: 0,\n    price: 0,\n    card: emptySecureCard,\n  },\n  bookings: [],\n};\n\nexport default function reducer(state = initialState, action: bookActions) {\n  switch (action.type) {\n    case ActionTypes.SELECT_HOTEL:\n      return {\n        ...state,\n        book: {...state.book, hotel: action.payload.hotel},\n      };\n    case ActionTypes.CHECK_USER_SUCCESS:\n      return {\n        ...state,\n        book: {...state.book, card: action.payload.user.cards[0]},\n      };\n    case ActionTypes.UPDATE_RESERVATION:\n      return {\n        ...state,\n        book: action.payload.book,\n      };\n    case ActionTypes.ADD_CARD_SUCCESS:\n      return {\n        ...state,\n        book: {...state.book, card: action.payload.card},\n      };\n    case ActionTypes.SET_DEFAULT_CARD:\n      return {\n        ...state,\n        book: {...state.book, card: action.payload.card},\n      };\n    case ActionTypes.CREATE_BOOKING_SUCCESS:\n      let bookings = state.bookings;\n      bookings.unshift(action.payload.book);\n      return {\n        ...state,\n        book: initialState.book,\n        bookings: bookings,\n      };\n    case ActionTypes.SET_BOOKINGS:\n      return {\n        ...state,\n        bookings: action.payload.bookings,\n      };\n    default:\n      return state;\n  }\n}\n"],"mappings":"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"}